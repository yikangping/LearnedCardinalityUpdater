Input arguments = Namespace(data_update='single', dataset='forest', debug=False, drift_test='ddup', model_update='update', model='naru', random_seed=42, num_workload=50)
MODEL-PATH=F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
DATASET-PATH=F:\DBGroup\LearnedCardinalityUpdater\data\forest\end2end\forest.npy
Workload weights: query=15, data-update=10
Workloads: ['DataUpdateWorkload', 'QueryWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'QueryWorkload', 'QueryWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'DataUpdateWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'QueryWorkload', 'QueryWorkload', 'QueryWorkload', 'QueryWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'DataUpdateWorkload', 'DataUpdateWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'QueryWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'QueryWorkload', 'QueryWorkload', 'QueryWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'QueryWorkload', 'QueryWorkload', 'QueryWorkload', 'QueryWorkload']



WORKLOAD-START | Type: DataUpdateWorkload | Progress: 1/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=single', '--dataset=forest', '--drift_test=ddup', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
SingleSample - START
SingleSample - END
load_npy_dataset_from_path - df.shape = (697214, 10)
Parsing... done, took 0.0s
Data updated!
done, took 0.1s
done, took 0.1s
new data average log likelihood = 45.8327
detection mean = 43.6566
detection threshold = 0.3134
test statistic = 2.1761
Offline time = 3.0248563289642334
online time = 0.5141210556030273
Test result: True
Drift detection: True
[0m
DRIFT-DETECTED after 1-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=update']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (697214, 10)
Parsing... done, took 0.0s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.1s
dataset size: 697214
train data shape: torch.Size([116202, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 46.4188 bits (loss 63.026, data 16.607) 0.00100 lr
epoch 9 train loss 42.0274 nats / 60.6327 bits
time since start: 4.1 secs
Epoch 10 Iter 0, train entropy gap 43.9578 bits (loss 60.565, data 16.607) 0.00082 lr
epoch 19 train loss 41.0213 nats / 59.1812 bits
time since start: 7.4 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 20.3165 nats / 29.3105 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 1/50 | Workload-time: 6.934059 | Model-update-time: 11.212175


WORKLOAD-START | Type: QueryWorkload | Progress: 2/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
40.0 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 2: actual 62 (0.009%)  origin-forest_43.843 1 (err=62.000)  
86.5 queries/sec
Query 3: actual 6 (0.001%)  origin-forest_43.843 3 (err=2.000)  
76.9 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
80.0 queries/sec
Query 5: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
83.3 queries/sec
Query 6: actual 35 (0.005%)  origin-forest_43.843 32 (err=1.094)  
76.9 queries/sec
Query 7: actual 2394 (0.343%)  origin-forest_43.843 2034 (err=1.177)  
76.9 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 10: actual 205 (0.029%)  origin-forest_43.843 216 (err=1.054)  
90.9 queries/sec
Query 11: actual 150 (0.022%)  origin-forest_43.843 122 (err=1.230)  
64.5 queries/sec
Query 12: actual 899 (0.129%)  origin-forest_43.843 4 (err=224.750)  
90.9 queries/sec
Query 13: actual 570 (0.082%)  origin-forest_43.843 354 (err=1.610)  
83.3 queries/sec
Query 14: actual 1243 (0.178%)  origin-forest_43.843 807 (err=1.540)  
83.3 queries/sec
Query 15: actual 9 (0.001%)  origin-forest_43.843 29 (err=3.222)  
83.3 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 17: actual 3057 (0.438%)  origin-forest_43.843 3381 (err=1.106)  
90.9 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 19: actual 9911 (1.422%)  origin-forest_43.843 9927 (err=1.002)  
90.8 queries/sec
Query 20: actual 7197 (1.032%)  origin-forest_43.843 8140 (err=1.131)  
86.9 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 23: actual 5 (0.001%)  origin-forest_43.843 8 (err=1.600)  
90.9 queries/sec
Query 24: actual 30 (0.004%)  origin-forest_43.843 35 (err=1.167)  
90.9 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 29: actual 3769 (0.541%)  origin-forest_43.843 1435 (err=2.626)  
95.2 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 31: actual 75 (0.011%)  origin-forest_43.843 62 (err=1.210)  
83.3 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 33: actual 15 (0.002%)  origin-forest_43.843 9 (err=1.667)  
90.9 queries/sec
Query 34: actual 55 (0.008%)  origin-forest_43.843 1 (err=55.000)  
90.9 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 36: actual 2566 (0.368%)  origin-forest_43.843 1018 (err=2.521)  
90.9 queries/sec
Query 37: actual 20 (0.003%)  origin-forest_43.843 1 (err=20.000)  
83.0 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 40: actual 28 (0.004%)  origin-forest_43.843 26 (err=1.077)  
83.3 queries/sec
Query 41: actual 178 (0.026%)  origin-forest_43.843 51 (err=3.490)  
90.9 queries/sec
Query 42: actual 136 (0.020%)  origin-forest_43.843 1 (err=136.000)  
76.9 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 46: actual 724 (0.104%)  origin-forest_43.843 1324 (err=1.829)  
83.3 queries/sec
Query 47: actual 8 (0.001%)  origin-forest_43.843 8 (err=1.000)  
83.3 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 49: actual 4 (0.001%)  origin-forest_43.843 6 (err=1.500)  
origin-forest_43.843 	max: 224.7500	99th: 181.2625	95th: 58.8500	median: 1.0653	mean: 11.2720
max_err 224.75
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 2/50 | Workload-time: 4.051770 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 3/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
40.0 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 2: actual 62 (0.009%)  origin-forest_43.843 1 (err=62.000)  
76.9 queries/sec
Query 3: actual 6 (0.001%)  origin-forest_43.843 3 (err=2.000)  
83.3 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 5: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
71.4 queries/sec
Query 6: actual 35 (0.005%)  origin-forest_43.843 31 (err=1.129)  
74.0 queries/sec
Query 7: actual 2394 (0.343%)  origin-forest_43.843 3172 (err=1.325)  
83.4 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 10: actual 205 (0.029%)  origin-forest_43.843 250 (err=1.220)  
90.9 queries/sec
Query 11: actual 150 (0.022%)  origin-forest_43.843 150 (err=1.000)  
90.9 queries/sec
Query 12: actual 899 (0.129%)  origin-forest_43.843 23 (err=39.087)  
83.3 queries/sec
Query 13: actual 570 (0.082%)  origin-forest_43.843 274 (err=2.080)  
90.9 queries/sec
Query 14: actual 1243 (0.178%)  origin-forest_43.843 771 (err=1.612)  
86.9 queries/sec
Query 15: actual 9 (0.001%)  origin-forest_43.843 31 (err=3.444)  
83.3 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 17: actual 3057 (0.438%)  origin-forest_43.843 4241 (err=1.387)  
90.9 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 19: actual 9911 (1.422%)  origin-forest_43.843 10168 (err=1.026)  
88.2 queries/sec
Query 20: actual 7197 (1.032%)  origin-forest_43.843 8235 (err=1.144)  
95.0 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.9 queries/sec
Query 23: actual 5 (0.001%)  origin-forest_43.843 6 (err=1.200)  
90.9 queries/sec
Query 24: actual 30 (0.004%)  origin-forest_43.843 33 (err=1.100)  
83.3 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 29: actual 3769 (0.541%)  origin-forest_43.843 1874 (err=2.011)  
83.3 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 31: actual 75 (0.011%)  origin-forest_43.843 59 (err=1.271)  
80.5 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 33: actual 15 (0.002%)  origin-forest_43.843 10 (err=1.500)  
90.9 queries/sec
Query 34: actual 55 (0.008%)  origin-forest_43.843 1 (err=55.000)  
83.3 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 36: actual 2566 (0.368%)  origin-forest_43.843 1010 (err=2.541)  
90.9 queries/sec
Query 37: actual 20 (0.003%)  origin-forest_43.843 1 (err=20.000)  
83.3 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.9 queries/sec
Query 40: actual 28 (0.004%)  origin-forest_43.843 31 (err=1.107)  
76.9 queries/sec
Query 41: actual 178 (0.026%)  origin-forest_43.843 29 (err=6.138)  
90.9 queries/sec
Query 42: actual 136 (0.020%)  origin-forest_43.843 1 (err=136.000)  
83.3 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 46: actual 724 (0.104%)  origin-forest_43.843 1470 (err=2.030)  
83.3 queries/sec
Query 47: actual 8 (0.001%)  origin-forest_43.843 9 (err=1.125)  
83.3 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 49: actual 4 (0.001%)  origin-forest_43.843 5 (err=1.250)  
origin-forest_43.843 	max: 136.0000	99th: 99.7400	95th: 47.8391	median: 1.1036	mean: 7.6146
max_err 136.0
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 3/50 | Workload-time: 4.067296 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 4/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=single', '--dataset=forest', '--drift_test=ddup', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
SingleSample - START
SingleSample - END
load_npy_dataset_from_path - df.shape = (836656, 10)
Parsing... done, took 0.0s
Data updated!
done, took 0.1s
done, took 0.1s
new data average log likelihood = 20.3165
detection mean = 39.7171
detection threshold = 0.8545
test statistic = 19.4005
Offline time = 2.8847861289978027
online time = 0.5625784397125244
Test result: True
Drift detection: True
[0m
DRIFT-DETECTED after 4-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=update']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (836656, 10)
Parsing... done, took 0.1s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.1s
dataset size: 836656
train data shape: torch.Size([139442, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 40.4163 bits (loss 54.602, data 14.185) 0.00100 lr
epoch 9 train loss 37.1081 nats / 53.5356 bits
time since start: 4.0 secs
Epoch 10 Iter 0, train entropy gap 39.6443 bits (loss 53.830, data 14.185) 0.00082 lr
epoch 19 train loss 36.7405 nats / 53.0053 bits
time since start: 7.3 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 13.0647 nats / 18.8484 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 4/50 | Workload-time: 6.609579 | Model-update-time: 10.986664


WORKLOAD-START | Type: QueryWorkload | Progress: 5/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
41.4 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 2: actual 62 (0.009%)  origin-forest_43.843 1 (err=62.000)  
83.3 queries/sec
Query 3: actual 6 (0.001%)  origin-forest_43.843 3 (err=2.000)  
76.9 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 5: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
90.9 queries/sec
Query 6: actual 35 (0.005%)  origin-forest_43.843 19 (err=1.842)  
82.6 queries/sec
Query 7: actual 2394 (0.343%)  origin-forest_43.843 2573 (err=1.075)  
90.9 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 10: actual 205 (0.029%)  origin-forest_43.843 220 (err=1.073)  
90.9 queries/sec
Query 11: actual 150 (0.022%)  origin-forest_43.843 103 (err=1.456)  
83.3 queries/sec
Query 12: actual 899 (0.129%)  origin-forest_43.843 9 (err=99.889)  
90.9 queries/sec
Query 13: actual 570 (0.082%)  origin-forest_43.843 264 (err=2.159)  
83.3 queries/sec
Query 14: actual 1243 (0.178%)  origin-forest_43.843 840 (err=1.480)  
97.5 queries/sec
Query 15: actual 9 (0.001%)  origin-forest_43.843 22 (err=2.444)  
83.3 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 17: actual 3057 (0.438%)  origin-forest_43.843 4388 (err=1.435)  
90.9 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 19: actual 9911 (1.422%)  origin-forest_43.843 9272 (err=1.069)  
90.9 queries/sec
Query 20: actual 7197 (1.032%)  origin-forest_43.843 8154 (err=1.133)  
90.9 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 23: actual 5 (0.001%)  origin-forest_43.843 4 (err=1.250)  
99.4 queries/sec
Query 24: actual 30 (0.004%)  origin-forest_43.843 36 (err=1.200)  
83.3 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
83.3 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
73.5 queries/sec
Query 29: actual 3769 (0.541%)  origin-forest_43.843 2657 (err=1.419)  
83.3 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 31: actual 75 (0.011%)  origin-forest_43.843 73 (err=1.027)  
68.9 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
74.1 queries/sec
Query 33: actual 15 (0.002%)  origin-forest_43.843 7 (err=2.143)  
86.6 queries/sec
Query 34: actual 55 (0.008%)  origin-forest_43.843 1 (err=55.000)  
87.0 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 36: actual 2566 (0.368%)  origin-forest_43.843 1429 (err=1.796)  
90.9 queries/sec
Query 37: actual 20 (0.003%)  origin-forest_43.843 1 (err=20.000)  
71.4 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
74.0 queries/sec
Query 40: actual 28 (0.004%)  origin-forest_43.843 37 (err=1.321)  
76.9 queries/sec
Query 41: actual 178 (0.026%)  origin-forest_43.843 33 (err=5.394)  
90.9 queries/sec
Query 42: actual 136 (0.020%)  origin-forest_43.843 1 (err=136.000)  
83.3 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 46: actual 724 (0.104%)  origin-forest_43.843 1357 (err=1.874)  
76.9 queries/sec
Query 47: actual 8 (0.001%)  origin-forest_43.843 13 (err=1.625)  
86.9 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 49: actual 4 (0.001%)  origin-forest_43.843 7 (err=1.750)  
origin-forest_43.843 	max: 136.0000	99th: 118.3056	95th: 58.8500	median: 1.1039	mean: 8.8371
max_err 136.0
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 5/50 | Workload-time: 4.044478 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 6/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
38.5 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.6 queries/sec
Query 2: actual 62 (0.009%)  origin-forest_43.843 1 (err=62.000)  
83.3 queries/sec
Query 3: actual 6 (0.001%)  origin-forest_43.843 4 (err=1.500)  
76.9 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 5: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
90.9 queries/sec
Query 6: actual 35 (0.005%)  origin-forest_43.843 40 (err=1.143)  
83.3 queries/sec
Query 7: actual 2394 (0.343%)  origin-forest_43.843 1840 (err=1.301)  
90.9 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
80.0 queries/sec
Query 10: actual 205 (0.029%)  origin-forest_43.843 226 (err=1.102)  
90.9 queries/sec
Query 11: actual 150 (0.022%)  origin-forest_43.843 123 (err=1.220)  
90.9 queries/sec
Query 12: actual 899 (0.129%)  origin-forest_43.843 16 (err=56.188)  
90.9 queries/sec
Query 13: actual 570 (0.082%)  origin-forest_43.843 314 (err=1.815)  
83.3 queries/sec
Query 14: actual 1243 (0.178%)  origin-forest_43.843 757 (err=1.642)  
90.9 queries/sec
Query 15: actual 9 (0.001%)  origin-forest_43.843 22 (err=2.444)  
83.3 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 17: actual 3057 (0.438%)  origin-forest_43.843 3216 (err=1.052)  
90.9 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
80.0 queries/sec
Query 19: actual 9911 (1.422%)  origin-forest_43.843 9573 (err=1.035)  
90.9 queries/sec
Query 20: actual 7197 (1.032%)  origin-forest_43.843 8237 (err=1.145)  
90.9 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 23: actual 5 (0.001%)  origin-forest_43.843 4 (err=1.250)  
90.9 queries/sec
Query 24: actual 30 (0.004%)  origin-forest_43.843 36 (err=1.200)  
86.3 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
83.3 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 29: actual 3769 (0.541%)  origin-forest_43.843 1694 (err=2.225)  
90.9 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 31: actual 75 (0.011%)  origin-forest_43.843 78 (err=1.040)  
83.3 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 33: actual 15 (0.002%)  origin-forest_43.843 9 (err=1.667)  
76.9 queries/sec
Query 34: actual 55 (0.008%)  origin-forest_43.843 1 (err=55.000)  
83.3 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 36: actual 2566 (0.368%)  origin-forest_43.843 895 (err=2.867)  
90.9 queries/sec
Query 37: actual 20 (0.003%)  origin-forest_43.843 1 (err=20.000)  
83.3 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 40: actual 28 (0.004%)  origin-forest_43.843 33 (err=1.179)  
83.3 queries/sec
Query 41: actual 178 (0.026%)  origin-forest_43.843 45 (err=3.956)  
83.3 queries/sec
Query 42: actual 136 (0.020%)  origin-forest_43.843 1 (err=136.000)  
83.3 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.9 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 46: actual 724 (0.104%)  origin-forest_43.843 1425 (err=1.968)  
76.9 queries/sec
Query 47: actual 8 (0.001%)  origin-forest_43.843 14 (err=1.750)  
90.9 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 49: actual 4 (0.001%)  origin-forest_43.843 5 (err=1.250)  
origin-forest_43.843 	max: 136.0000	99th: 99.7400	95th: 55.6531	median: 1.1226	mean: 7.9188
max_err 136.0
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 6/50 | Workload-time: 4.039830 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 7/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
38.5 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 2: actual 62 (0.009%)  origin-forest_43.843 1 (err=62.000)  
83.3 queries/sec
Query 3: actual 6 (0.001%)  origin-forest_43.843 2 (err=3.000)  
76.9 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 5: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
83.3 queries/sec
Query 6: actual 35 (0.005%)  origin-forest_43.843 54 (err=1.543)  
86.9 queries/sec
Query 7: actual 2394 (0.343%)  origin-forest_43.843 1745 (err=1.372)  
90.9 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 10: actual 205 (0.029%)  origin-forest_43.843 269 (err=1.312)  
90.9 queries/sec
Query 11: actual 150 (0.022%)  origin-forest_43.843 96 (err=1.562)  
83.3 queries/sec
Query 12: actual 899 (0.129%)  origin-forest_43.843 50 (err=17.980)  
90.9 queries/sec
Query 13: actual 570 (0.082%)  origin-forest_43.843 281 (err=2.028)  
90.9 queries/sec
Query 14: actual 1243 (0.178%)  origin-forest_43.843 798 (err=1.558)  
90.9 queries/sec
Query 15: actual 9 (0.001%)  origin-forest_43.843 26 (err=2.889)  
86.9 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 17: actual 3057 (0.438%)  origin-forest_43.843 3578 (err=1.170)  
90.9 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 19: actual 9911 (1.422%)  origin-forest_43.843 9876 (err=1.004)  
90.9 queries/sec
Query 20: actual 7197 (1.032%)  origin-forest_43.843 8206 (err=1.140)  
90.9 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.5 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 23: actual 5 (0.001%)  origin-forest_43.843 6 (err=1.200)  
86.9 queries/sec
Query 24: actual 30 (0.004%)  origin-forest_43.843 31 (err=1.033)  
83.3 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
77.9 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
79.6 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 29: actual 3769 (0.541%)  origin-forest_43.843 2222 (err=1.696)  
83.3 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
58.8 queries/sec
Query 31: actual 75 (0.011%)  origin-forest_43.843 71 (err=1.056)  
74.0 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 33: actual 15 (0.002%)  origin-forest_43.843 10 (err=1.500)  
90.9 queries/sec
Query 34: actual 55 (0.008%)  origin-forest_43.843 1 (err=55.000)  
83.3 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 36: actual 2566 (0.368%)  origin-forest_43.843 1345 (err=1.908)  
91.0 queries/sec
Query 37: actual 20 (0.003%)  origin-forest_43.843 1 (err=20.000)  
83.3 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
80.0 queries/sec
Query 40: actual 28 (0.004%)  origin-forest_43.843 31 (err=1.107)  
83.3 queries/sec
Query 41: actual 178 (0.026%)  origin-forest_43.843 31 (err=5.742)  
90.9 queries/sec
Query 42: actual 136 (0.020%)  origin-forest_43.843 1 (err=136.000)  
83.3 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 46: actual 724 (0.104%)  origin-forest_43.843 1350 (err=1.865)  
83.3 queries/sec
Query 47: actual 8 (0.001%)  origin-forest_43.843 14 (err=1.750)  
83.3 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.6 queries/sec
Query 49: actual 4 (0.001%)  origin-forest_43.843 5 (err=1.250)  
origin-forest_43.843 	max: 136.0000	99th: 99.7400	95th: 39.2500	median: 1.1237	mean: 7.2133
max_err 136.0
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 7/50 | Workload-time: 4.039112 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 8/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
41.7 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 2: actual 62 (0.009%)  origin-forest_43.843 1 (err=62.000)  
76.9 queries/sec
Query 3: actual 6 (0.001%)  origin-forest_43.843 3 (err=2.000)  
76.9 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 5: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
80.0 queries/sec
Query 6: actual 35 (0.005%)  origin-forest_43.843 39 (err=1.114)  
90.9 queries/sec
Query 7: actual 2394 (0.343%)  origin-forest_43.843 3370 (err=1.408)  
83.3 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
76.9 queries/sec
Query 10: actual 205 (0.029%)  origin-forest_43.843 252 (err=1.229)  
83.3 queries/sec
Query 11: actual 150 (0.022%)  origin-forest_43.843 113 (err=1.327)  
90.9 queries/sec
Query 12: actual 899 (0.129%)  origin-forest_43.843 1 (err=899.000)  
90.9 queries/sec
Query 13: actual 570 (0.082%)  origin-forest_43.843 342 (err=1.667)  
76.9 queries/sec
Query 14: actual 1243 (0.178%)  origin-forest_43.843 765 (err=1.625)  
83.2 queries/sec
Query 15: actual 9 (0.001%)  origin-forest_43.843 21 (err=2.333)  
83.3 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 17: actual 3057 (0.438%)  origin-forest_43.843 2742 (err=1.115)  
83.3 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.4 queries/sec
Query 19: actual 9911 (1.422%)  origin-forest_43.843 9409 (err=1.053)  
90.9 queries/sec
Query 20: actual 7197 (1.032%)  origin-forest_43.843 8229 (err=1.143)  
83.3 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
74.0 queries/sec
Query 23: actual 5 (0.001%)  origin-forest_43.843 5 (err=1.000)  
83.3 queries/sec
Query 24: actual 30 (0.004%)  origin-forest_43.843 38 (err=1.267)  
90.9 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
83.3 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
60.6 queries/sec
Query 29: actual 3769 (0.541%)  origin-forest_43.843 2091 (err=1.802)  
90.9 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
74.0 queries/sec
Query 31: actual 75 (0.011%)  origin-forest_43.843 75 (err=1.000)  
76.9 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 33: actual 15 (0.002%)  origin-forest_43.843 9 (err=1.667)  
100.0 queries/sec
Query 34: actual 55 (0.008%)  origin-forest_43.843 1 (err=55.000)  
83.3 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 36: actual 2566 (0.368%)  origin-forest_43.843 1348 (err=1.904)  
90.9 queries/sec
Query 37: actual 20 (0.003%)  origin-forest_43.843 1 (err=20.000)  
83.3 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
82.0 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 40: actual 28 (0.004%)  origin-forest_43.843 31 (err=1.107)  
90.9 queries/sec
Query 41: actual 178 (0.026%)  origin-forest_43.843 31 (err=5.742)  
76.9 queries/sec
Query 42: actual 136 (0.020%)  origin-forest_43.843 1 (err=136.000)  
90.9 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 46: actual 724 (0.104%)  origin-forest_43.843 1334 (err=1.843)  
86.9 queries/sec
Query 47: actual 8 (0.001%)  origin-forest_43.843 12 (err=1.500)  
83.3 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 49: actual 4 (0.001%)  origin-forest_43.843 6 (err=1.500)  
origin-forest_43.843 	max: 899.0000	99th: 525.1300	95th: 58.8500	median: 1.1146	mean: 24.8069
max_err 899.0
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 8/50 | Workload-time: 4.024223 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 9/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=single', '--dataset=forest', '--drift_test=ddup', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
SingleSample - START
SingleSample - END
load_npy_dataset_from_path - df.shape = (1003987, 10)
Parsing... done, took 0.1s
Data updated!
done, took 0.1s
done, took 0.1s
new data average log likelihood = 13.0647
detection mean = 34.3455
detection threshold = 1.3058
test statistic = 21.2808
Offline time = 2.9078171253204346
online time = 0.6833229064941406
Test result: True
Drift detection: True
[0m
DRIFT-DETECTED after 9-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=update']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (1003987, 10)
Parsing... done, took 0.1s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.1s
dataset size: 1003987
train data shape: torch.Size([167331, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 35.7861 bits (loss 47.849, data 12.063) 0.00100 lr
epoch 9 train loss 32.2981 nats / 46.5962 bits
time since start: 4.0 secs
Epoch 10 Iter 0, train entropy gap 34.3419 bits (loss 46.405, data 12.063) 0.00082 lr
epoch 19 train loss 31.9968 nats / 46.1616 bits
time since start: 7.2 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 9.9408 nats / 14.3416 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 9/50 | Workload-time: 6.809821 | Model-update-time: 11.070300


WORKLOAD-START | Type: QueryWorkload | Progress: 10/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
41.7 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 2: actual 62 (0.009%)  origin-forest_43.843 1 (err=62.000)  
83.3 queries/sec
Query 3: actual 6 (0.001%)  origin-forest_43.843 5 (err=1.200)  
74.0 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 5: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
83.3 queries/sec
Query 6: actual 35 (0.005%)  origin-forest_43.843 28 (err=1.250)  
83.3 queries/sec
Query 7: actual 2394 (0.343%)  origin-forest_43.843 3446 (err=1.439)  
90.9 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
73.9 queries/sec
Query 10: actual 205 (0.029%)  origin-forest_43.843 245 (err=1.195)  
83.3 queries/sec
Query 11: actual 150 (0.022%)  origin-forest_43.843 113 (err=1.327)  
80.0 queries/sec
Query 12: actual 899 (0.129%)  origin-forest_43.843 6 (err=149.833)  
90.9 queries/sec
Query 13: actual 570 (0.082%)  origin-forest_43.843 279 (err=2.043)  
83.3 queries/sec
Query 14: actual 1243 (0.178%)  origin-forest_43.843 905 (err=1.373)  
90.9 queries/sec
Query 15: actual 9 (0.001%)  origin-forest_43.843 17 (err=1.889)  
83.3 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 17: actual 3057 (0.438%)  origin-forest_43.843 3754 (err=1.228)  
90.9 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 19: actual 9911 (1.422%)  origin-forest_43.843 8586 (err=1.154)  
86.9 queries/sec
Query 20: actual 7197 (1.032%)  origin-forest_43.843 8596 (err=1.194)  
90.9 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.1 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
81.2 queries/sec
Query 23: actual 5 (0.001%)  origin-forest_43.843 4 (err=1.250)  
90.9 queries/sec
Query 24: actual 30 (0.004%)  origin-forest_43.843 43 (err=1.433)  
86.4 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
68.9 queries/sec
Query 29: actual 3769 (0.541%)  origin-forest_43.843 2402 (err=1.569)  
76.9 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 31: actual 75 (0.011%)  origin-forest_43.843 78 (err=1.040)  
83.3 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.7 queries/sec
Query 33: actual 15 (0.002%)  origin-forest_43.843 9 (err=1.667)  
74.5 queries/sec
Query 34: actual 55 (0.008%)  origin-forest_43.843 1 (err=55.000)  
83.3 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
68.9 queries/sec
Query 36: actual 2566 (0.368%)  origin-forest_43.843 587 (err=4.371)  
100.0 queries/sec
Query 37: actual 20 (0.003%)  origin-forest_43.843 1 (err=20.000)  
78.1 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 40: actual 28 (0.004%)  origin-forest_43.843 39 (err=1.393)  
76.9 queries/sec
Query 41: actual 178 (0.026%)  origin-forest_43.843 47 (err=3.787)  
83.3 queries/sec
Query 42: actual 136 (0.020%)  origin-forest_43.843 1 (err=136.000)  
90.9 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 46: actual 724 (0.104%)  origin-forest_43.843 1248 (err=1.724)  
83.3 queries/sec
Query 47: actual 8 (0.001%)  origin-forest_43.843 12 (err=1.500)  
76.9 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 49: actual 4 (0.001%)  origin-forest_43.843 7 (err=1.750)  
origin-forest_43.843 	max: 149.8333	99th: 143.0550	95th: 58.8500	median: 1.1948	mean: 9.7922
max_err 149.83333333333334
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 10/50 | Workload-time: 4.056785 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 11/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=single', '--dataset=forest', '--drift_test=ddup', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
SingleSample - START
SingleSample - END
load_npy_dataset_from_path - df.shape = (1204784, 10)
Parsing... done, took 0.1s
Data updated!
done, took 0.1s
done, took 0.1s
new data average log likelihood = 9.9408
detection mean = 29.6201
detection threshold = 1.5565
test statistic = 19.6793
Offline time = 2.916593551635742
online time = 0.79286789894104
Test result: True
Drift detection: True
[0m
DRIFT-DETECTED after 11-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=update']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (1204784, 10)
Parsing... done, took 0.1s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.1s
dataset size: 1204784
train data shape: torch.Size([200797, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 30.6329 bits (loss 40.866, data 10.233) 0.00100 lr
epoch 9 train loss 27.8176 nats / 40.1323 bits
time since start: 4.0 secs
Epoch 10 Iter 0, train entropy gap 30.8386 bits (loss 41.072, data 10.233) 0.00082 lr
epoch 19 train loss 27.6281 nats / 39.8590 bits
time since start: 7.3 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 8.4128 nats / 12.1371 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 11/50 | Workload-time: 7.000530 | Model-update-time: 11.356714


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 12/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=single', '--dataset=forest', '--drift_test=ddup', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
SingleSample - START
SingleSample - END
load_npy_dataset_from_path - df.shape = (1445740, 10)
Parsing... done, took 0.1s
Data updated!
done, took 0.1s
done, took 0.1s
new data average log likelihood = 8.4128
detection mean = 25.6142
detection threshold = 1.5827
test statistic = 17.2014
Offline time = 2.9597525596618652
online time = 0.9182209968566895
Test result: True
Drift detection: True
[0m
DRIFT-DETECTED after 12-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=update']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (1445740, 10)
Parsing... done, took 0.1s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.1s
dataset size: 1445740
train data shape: torch.Size([240956, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 26.0877 bits (loss 34.755, data 8.667) 0.00100 lr
epoch 9 train loss 23.6575 nats / 34.1305 bits
time since start: 4.0 secs
Epoch 10 Iter 0, train entropy gap 26.5736 bits (loss 35.241, data 8.667) 0.00082 lr
epoch 19 train loss 23.4582 nats / 33.8430 bits
time since start: 7.2 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 7.7634 nats / 11.2002 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 12/50 | Workload-time: 7.260301 | Model-update-time: 11.491174


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 13/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=single', '--dataset=forest', '--drift_test=ddup', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
SingleSample - START
SingleSample - END
load_npy_dataset_from_path - df.shape = (1734888, 10)
Parsing... done, took 0.1s
Data updated!
done, took 0.1s
done, took 0.1s
new data average log likelihood = 7.7634
detection mean = 22.4096
detection threshold = 1.6028
test statistic = 14.6463
Offline time = 2.965630292892456
online time = 1.0751619338989258
Test result: True
Drift detection: True
[0m
DRIFT-DETECTED after 13-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=update']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (1734888, 10)
Parsing... done, took 0.1s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.1s
dataset size: 1734888
train data shape: torch.Size([289148, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 22.2166 bits (loss 29.549, data 7.333) 0.00100 lr
epoch 9 train loss 20.6584 nats / 29.8037 bits
time since start: 4.0 secs
Epoch 10 Iter 0, train entropy gap 22.2695 bits (loss 29.602, data 7.333) 0.00082 lr
epoch 19 train loss 20.4919 nats / 29.5636 bits
time since start: 7.3 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 7.3382 nats / 10.5868 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 13/50 | Workload-time: 7.521738 | Model-update-time: 11.799304


WORKLOAD-START | Type: QueryWorkload | Progress: 14/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.1s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
38.5 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 2: actual 62 (0.009%)  origin-forest_43.843 1 (err=62.000)  
83.3 queries/sec
Query 3: actual 6 (0.001%)  origin-forest_43.843 4 (err=1.500)  
76.9 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.2 queries/sec
Query 5: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
90.9 queries/sec
Query 6: actual 35 (0.005%)  origin-forest_43.843 63 (err=1.800)  
83.3 queries/sec
Query 7: actual 2394 (0.343%)  origin-forest_43.843 2870 (err=1.199)  
90.9 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 10: actual 205 (0.029%)  origin-forest_43.843 188 (err=1.090)  
90.9 queries/sec
Query 11: actual 150 (0.022%)  origin-forest_43.843 117 (err=1.282)  
83.3 queries/sec
Query 12: actual 899 (0.129%)  origin-forest_43.843 33 (err=27.242)  
83.3 queries/sec
Query 13: actual 570 (0.082%)  origin-forest_43.843 444 (err=1.284)  
90.8 queries/sec
Query 14: actual 1243 (0.178%)  origin-forest_43.843 987 (err=1.259)  
90.9 queries/sec
Query 15: actual 9 (0.001%)  origin-forest_43.843 8 (err=1.125)  
83.3 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 17: actual 3057 (0.438%)  origin-forest_43.843 2921 (err=1.047)  
83.3 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 19: actual 9911 (1.422%)  origin-forest_43.843 6142 (err=1.614)  
90.9 queries/sec
Query 20: actual 7197 (1.032%)  origin-forest_43.843 8422 (err=1.170)  
90.9 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
81.7 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 23: actual 5 (0.001%)  origin-forest_43.843 4 (err=1.250)  
90.9 queries/sec
Query 24: actual 30 (0.004%)  origin-forest_43.843 59 (err=1.967)  
83.3 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
83.3 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 29: actual 3769 (0.541%)  origin-forest_43.843 1276 (err=2.954)  
90.9 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.8 queries/sec
Query 31: actual 75 (0.011%)  origin-forest_43.843 145 (err=1.933)  
83.3 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 33: actual 15 (0.002%)  origin-forest_43.843 6 (err=2.500)  
90.9 queries/sec
Query 34: actual 55 (0.008%)  origin-forest_43.843 1 (err=55.000)  
83.3 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 36: actual 2566 (0.368%)  origin-forest_43.843 1304 (err=1.968)  
94.6 queries/sec
Query 37: actual 20 (0.003%)  origin-forest_43.843 1 (err=20.000)  
83.3 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.7 queries/sec
Query 40: actual 28 (0.004%)  origin-forest_43.843 27 (err=1.037)  
76.9 queries/sec
Query 41: actual 178 (0.026%)  origin-forest_43.843 26 (err=6.846)  
83.3 queries/sec
Query 42: actual 136 (0.020%)  origin-forest_43.843 1 (err=136.000)  
76.9 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 46: actual 724 (0.104%)  origin-forest_43.843 1188 (err=1.641)  
76.0 queries/sec
Query 47: actual 8 (0.001%)  origin-forest_43.843 7 (err=1.143)  
76.9 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 49: actual 4 (0.001%)  origin-forest_43.843 4 (err=1.000)  
origin-forest_43.843 	max: 136.0000	99th: 99.7400	95th: 42.5091	median: 1.1077	mean: 7.3970
max_err 136.0
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 14/50 | Workload-time: 4.159825 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 15/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=single', '--dataset=forest', '--drift_test=ddup', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
SingleSample - START
SingleSample - END
load_npy_dataset_from_path - df.shape = (2081865, 10)
Parsing... done, took 0.1s
Data updated!
done, took 0.2s
done, took 0.2s
new data average log likelihood = 7.3382
detection mean = 19.7625
detection threshold = 1.5172
test statistic = 12.4244
Offline time = 3.0491042137145996
online time = 1.2969574928283691
Test result: True
Drift detection: True
[0m
DRIFT-DETECTED after 15-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=update']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (2081865, 10)
Parsing... done, took 0.1s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.2s
dataset size: 2081865
train data shape: torch.Size([346977, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 20.6393 bits (loss 26.837, data 6.198) 0.00100 lr
epoch 9 train loss 18.3994 nats / 26.5448 bits
time since start: 4.1 secs
Epoch 10 Iter 0, train entropy gap 21.1995 bits (loss 27.398, data 6.198) 0.00082 lr
epoch 19 train loss 18.2615 nats / 26.3458 bits
time since start: 7.5 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 7.0110 nats / 10.1147 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 15/50 | Workload-time: 8.113138 | Model-update-time: 12.371868


WORKLOAD-START | Type: QueryWorkload | Progress: 16/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
40.8 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 2: actual 62 (0.009%)  origin-forest_43.843 1 (err=62.000)  
83.3 queries/sec
Query 3: actual 6 (0.001%)  origin-forest_43.843 8 (err=1.333)  
76.9 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 5: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
83.3 queries/sec
Query 6: actual 35 (0.005%)  origin-forest_43.843 58 (err=1.657)  
83.3 queries/sec
Query 7: actual 2394 (0.343%)  origin-forest_43.843 5339 (err=2.230)  
83.3 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 10: actual 205 (0.029%)  origin-forest_43.843 180 (err=1.139)  
86.1 queries/sec
Query 11: actual 150 (0.022%)  origin-forest_43.843 151 (err=1.007)  
83.3 queries/sec
Query 12: actual 899 (0.129%)  origin-forest_43.843 4 (err=224.750)  
90.9 queries/sec
Query 13: actual 570 (0.082%)  origin-forest_43.843 384 (err=1.484)  
76.9 queries/sec
Query 14: actual 1243 (0.178%)  origin-forest_43.843 875 (err=1.421)  
76.9 queries/sec
Query 15: actual 9 (0.001%)  origin-forest_43.843 7 (err=1.286)  
76.9 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
74.0 queries/sec
Query 17: actual 3057 (0.438%)  origin-forest_43.843 3529 (err=1.154)  
90.9 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 19: actual 9911 (1.422%)  origin-forest_43.843 5155 (err=1.923)  
71.4 queries/sec
Query 20: actual 7197 (1.032%)  origin-forest_43.843 8420 (err=1.170)  
90.9 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 23: actual 5 (0.001%)  origin-forest_43.843 5 (err=1.000)  
90.9 queries/sec
Query 24: actual 30 (0.004%)  origin-forest_43.843 43 (err=1.433)  
79.9 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
76.9 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 29: actual 3769 (0.541%)  origin-forest_43.843 3009 (err=1.253)  
83.3 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 31: actual 75 (0.011%)  origin-forest_43.843 144 (err=1.920)  
80.3 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 33: actual 15 (0.002%)  origin-forest_43.843 5 (err=3.000)  
90.9 queries/sec
Query 34: actual 55 (0.008%)  origin-forest_43.843 1 (err=55.000)  
83.3 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 36: actual 2566 (0.368%)  origin-forest_43.843 823 (err=3.118)  
83.3 queries/sec
Query 37: actual 20 (0.003%)  origin-forest_43.843 1 (err=20.000)  
83.3 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 40: actual 28 (0.004%)  origin-forest_43.843 28 (err=1.000)  
90.9 queries/sec
Query 41: actual 178 (0.026%)  origin-forest_43.843 28 (err=6.357)  
79.9 queries/sec
Query 42: actual 136 (0.020%)  origin-forest_43.843 1 (err=136.000)  
83.3 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 46: actual 724 (0.104%)  origin-forest_43.843 1187 (err=1.640)  
83.3 queries/sec
Query 47: actual 8 (0.001%)  origin-forest_43.843 7 (err=1.143)  
76.9 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
68.8 queries/sec
Query 49: actual 4 (0.001%)  origin-forest_43.843 6 (err=1.500)  
origin-forest_43.843 	max: 224.7500	99th: 181.2625	95th: 58.8500	median: 1.1409	mean: 11.3583
max_err 224.75
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 16/50 | Workload-time: 4.095211 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 17/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
40.0 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.8 queries/sec
Query 2: actual 62 (0.009%)  origin-forest_43.843 1 (err=62.000)  
76.9 queries/sec
Query 3: actual 6 (0.001%)  origin-forest_43.843 5 (err=1.200)  
79.5 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 5: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
90.9 queries/sec
Query 6: actual 35 (0.005%)  origin-forest_43.843 41 (err=1.171)  
83.3 queries/sec
Query 7: actual 2394 (0.343%)  origin-forest_43.843 2543 (err=1.062)  
76.9 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
74.0 queries/sec
Query 10: actual 205 (0.029%)  origin-forest_43.843 209 (err=1.020)  
83.3 queries/sec
Query 11: actual 150 (0.022%)  origin-forest_43.843 141 (err=1.064)  
66.7 queries/sec
Query 12: actual 899 (0.129%)  origin-forest_43.843 43 (err=20.907)  
71.4 queries/sec
Query 13: actual 570 (0.082%)  origin-forest_43.843 378 (err=1.508)  
76.9 queries/sec
Query 14: actual 1243 (0.178%)  origin-forest_43.843 902 (err=1.378)  
83.3 queries/sec
Query 15: actual 9 (0.001%)  origin-forest_43.843 7 (err=1.286)  
83.3 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 17: actual 3057 (0.438%)  origin-forest_43.843 4617 (err=1.510)  
86.8 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 19: actual 9911 (1.422%)  origin-forest_43.843 4968 (err=1.995)  
90.9 queries/sec
Query 20: actual 7197 (1.032%)  origin-forest_43.843 8397 (err=1.167)  
90.9 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 23: actual 5 (0.001%)  origin-forest_43.843 5 (err=1.000)  
90.9 queries/sec
Query 24: actual 30 (0.004%)  origin-forest_43.843 49 (err=1.633)  
90.9 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.8 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
83.3 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 29: actual 3769 (0.541%)  origin-forest_43.843 1700 (err=2.217)  
90.9 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 31: actual 75 (0.011%)  origin-forest_43.843 151 (err=2.013)  
74.4 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 33: actual 15 (0.002%)  origin-forest_43.843 6 (err=2.500)  
64.5 queries/sec
Query 34: actual 55 (0.008%)  origin-forest_43.843 1 (err=55.000)  
62.5 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
55.6 queries/sec
Query 36: actual 2566 (0.368%)  origin-forest_43.843 1083 (err=2.369)  
76.9 queries/sec
Query 37: actual 20 (0.003%)  origin-forest_43.843 1 (err=20.000)  
62.5 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
58.8 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
64.5 queries/sec
Query 40: actual 28 (0.004%)  origin-forest_43.843 24 (err=1.167)  
66.7 queries/sec
Query 41: actual 178 (0.026%)  origin-forest_43.843 29 (err=6.138)  
62.5 queries/sec
Query 42: actual 136 (0.020%)  origin-forest_43.843 1 (err=136.000)  
62.5 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
62.5 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
55.6 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
60.5 queries/sec
Query 46: actual 724 (0.104%)  origin-forest_43.843 1206 (err=1.666)  
62.5 queries/sec
Query 47: actual 8 (0.001%)  origin-forest_43.843 7 (err=1.143)  
62.5 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
56.8 queries/sec
Query 49: actual 4 (0.001%)  origin-forest_43.843 7 (err=1.750)  
origin-forest_43.843 	max: 136.0000	99th: 99.7400	95th: 39.6581	median: 1.1033	mean: 7.2573
max_err 136.0
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 17/50 | Workload-time: 4.196812 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 18/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
32.8 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 2: actual 62 (0.009%)  origin-forest_43.843 1 (err=62.000)  
71.4 queries/sec
Query 3: actual 6 (0.001%)  origin-forest_43.843 5 (err=1.200)  
58.8 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.7 queries/sec
Query 5: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
83.3 queries/sec
Query 6: actual 35 (0.005%)  origin-forest_43.843 34 (err=1.029)  
76.9 queries/sec
Query 7: actual 2394 (0.343%)  origin-forest_43.843 4085 (err=1.706)  
60.6 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
58.8 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
62.5 queries/sec
Query 10: actual 205 (0.029%)  origin-forest_43.843 147 (err=1.395)  
71.4 queries/sec
Query 11: actual 150 (0.022%)  origin-forest_43.843 112 (err=1.339)  
71.4 queries/sec
Query 12: actual 899 (0.129%)  origin-forest_43.843 3 (err=299.667)  
76.9 queries/sec
Query 13: actual 570 (0.082%)  origin-forest_43.843 397 (err=1.436)  
76.9 queries/sec
Query 14: actual 1243 (0.178%)  origin-forest_43.843 893 (err=1.392)  
79.9 queries/sec
Query 15: actual 9 (0.001%)  origin-forest_43.843 7 (err=1.286)  
76.9 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 17: actual 3057 (0.438%)  origin-forest_43.843 4045 (err=1.323)  
83.3 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 19: actual 9911 (1.422%)  origin-forest_43.843 5515 (err=1.797)  
66.7 queries/sec
Query 20: actual 7197 (1.032%)  origin-forest_43.843 8335 (err=1.158)  
58.8 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
60.6 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
58.8 queries/sec
Query 23: actual 5 (0.001%)  origin-forest_43.843 6 (err=1.200)  
66.7 queries/sec
Query 24: actual 30 (0.004%)  origin-forest_43.843 46 (err=1.533)  
73.5 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.7 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
58.8 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
64.5 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 29: actual 3769 (0.541%)  origin-forest_43.843 3058 (err=1.233)  
66.6 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
52.6 queries/sec
Query 31: actual 75 (0.011%)  origin-forest_43.843 163 (err=2.173)  
55.6 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.7 queries/sec
Query 33: actual 15 (0.002%)  origin-forest_43.843 6 (err=2.500)  
62.5 queries/sec
Query 34: actual 55 (0.008%)  origin-forest_43.843 1 (err=55.000)  
60.5 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
62.5 queries/sec
Query 36: actual 2566 (0.368%)  origin-forest_43.843 1364 (err=1.881)  
71.4 queries/sec
Query 37: actual 20 (0.003%)  origin-forest_43.843 1 (err=20.000)  
71.4 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 40: actual 28 (0.004%)  origin-forest_43.843 26 (err=1.077)  
83.3 queries/sec
Query 41: actual 178 (0.026%)  origin-forest_43.843 20 (err=8.900)  
86.8 queries/sec
Query 42: actual 136 (0.020%)  origin-forest_43.843 1 (err=136.000)  
76.9 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 46: actual 724 (0.104%)  origin-forest_43.843 1136 (err=1.569)  
83.3 queries/sec
Query 47: actual 8 (0.001%)  origin-forest_43.843 7 (err=1.143)  
76.9 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 49: actual 4 (0.001%)  origin-forest_43.843 5 (err=1.250)  
origin-forest_43.843 	max: 299.6667	99th: 219.4700	95th: 58.8500	median: 1.1791	mean: 12.8637
max_err 299.6666666666667
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 18/50 | Workload-time: 4.430796 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 19/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
40.0 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 2: actual 62 (0.009%)  origin-forest_43.843 1 (err=62.000)  
76.9 queries/sec
Query 3: actual 6 (0.001%)  origin-forest_43.843 7 (err=1.167)  
76.9 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 5: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
76.9 queries/sec
Query 6: actual 35 (0.005%)  origin-forest_43.843 29 (err=1.207)  
95.1 queries/sec
Query 7: actual 2394 (0.343%)  origin-forest_43.843 3386 (err=1.414)  
83.3 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 10: actual 205 (0.029%)  origin-forest_43.843 181 (err=1.133)  
90.9 queries/sec
Query 11: actual 150 (0.022%)  origin-forest_43.843 120 (err=1.250)  
90.9 queries/sec
Query 12: actual 899 (0.129%)  origin-forest_43.843 76 (err=11.829)  
83.3 queries/sec
Query 13: actual 570 (0.082%)  origin-forest_43.843 392 (err=1.454)  
76.9 queries/sec
Query 14: actual 1243 (0.178%)  origin-forest_43.843 888 (err=1.400)  
79.9 queries/sec
Query 15: actual 9 (0.001%)  origin-forest_43.843 7 (err=1.286)  
83.3 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 17: actual 3057 (0.438%)  origin-forest_43.843 4049 (err=1.325)  
83.3 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 19: actual 9911 (1.422%)  origin-forest_43.843 5017 (err=1.975)  
90.9 queries/sec
Query 20: actual 7197 (1.032%)  origin-forest_43.843 8392 (err=1.166)  
90.9 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 23: actual 5 (0.001%)  origin-forest_43.843 7 (err=1.400)  
94.3 queries/sec
Query 24: actual 30 (0.004%)  origin-forest_43.843 47 (err=1.567)  
83.3 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
76.9 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 29: actual 3769 (0.541%)  origin-forest_43.843 1538 (err=2.451)  
90.8 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
74.0 queries/sec
Query 31: actual 75 (0.011%)  origin-forest_43.843 127 (err=1.693)  
76.9 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
58.8 queries/sec
Query 33: actual 15 (0.002%)  origin-forest_43.843 6 (err=2.500)  
90.9 queries/sec
Query 34: actual 55 (0.008%)  origin-forest_43.843 1 (err=55.000)  
83.3 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 36: actual 2566 (0.368%)  origin-forest_43.843 1110 (err=2.312)  
90.9 queries/sec
Query 37: actual 20 (0.003%)  origin-forest_43.843 1 (err=20.000)  
83.3 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
74.0 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 40: actual 28 (0.004%)  origin-forest_43.843 29 (err=1.036)  
83.3 queries/sec
Query 41: actual 178 (0.026%)  origin-forest_43.843 21 (err=8.476)  
76.9 queries/sec
Query 42: actual 136 (0.020%)  origin-forest_43.843 1 (err=136.000)  
83.3 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 46: actual 724 (0.104%)  origin-forest_43.843 1176 (err=1.624)  
80.0 queries/sec
Query 47: actual 8 (0.001%)  origin-forest_43.843 7 (err=1.143)  
83.3 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 49: actual 4 (0.001%)  origin-forest_43.843 5 (err=1.250)  
origin-forest_43.843 	max: 136.0000	99th: 99.7400	95th: 39.2500	median: 1.1664	mean: 7.1211
max_err 136.0
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 19/50 | Workload-time: 4.225490 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 20/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
38.3 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 2: actual 62 (0.009%)  origin-forest_43.843 1 (err=62.000)  
83.3 queries/sec
Query 3: actual 6 (0.001%)  origin-forest_43.843 6 (err=1.000)  
76.9 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 5: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
83.3 queries/sec
Query 6: actual 35 (0.005%)  origin-forest_43.843 44 (err=1.257)  
83.3 queries/sec
Query 7: actual 2394 (0.343%)  origin-forest_43.843 3059 (err=1.278)  
83.3 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
74.0 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
70.2 queries/sec
Query 10: actual 205 (0.029%)  origin-forest_43.843 190 (err=1.079)  
83.7 queries/sec
Query 11: actual 150 (0.022%)  origin-forest_43.843 120 (err=1.250)  
79.4 queries/sec
Query 12: actual 899 (0.129%)  origin-forest_43.843 1 (err=899.000)  
76.9 queries/sec
Query 13: actual 570 (0.082%)  origin-forest_43.843 355 (err=1.606)  
66.7 queries/sec
Query 14: actual 1243 (0.178%)  origin-forest_43.843 949 (err=1.310)  
90.9 queries/sec
Query 15: actual 9 (0.001%)  origin-forest_43.843 6 (err=1.500)  
76.9 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
74.0 queries/sec
Query 17: actual 3057 (0.438%)  origin-forest_43.843 3944 (err=1.290)  
83.3 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
55.6 queries/sec
Query 19: actual 9911 (1.422%)  origin-forest_43.843 5118 (err=1.936)  
83.3 queries/sec
Query 20: actual 7197 (1.032%)  origin-forest_43.843 8481 (err=1.178)  
90.9 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 23: actual 5 (0.001%)  origin-forest_43.843 5 (err=1.000)  
90.9 queries/sec
Query 24: actual 30 (0.004%)  origin-forest_43.843 43 (err=1.433)  
86.8 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
76.9 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 29: actual 3769 (0.541%)  origin-forest_43.843 2628 (err=1.434)  
83.3 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 31: actual 75 (0.011%)  origin-forest_43.843 156 (err=2.080)  
83.3 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 33: actual 15 (0.002%)  origin-forest_43.843 6 (err=2.500)  
90.9 queries/sec
Query 34: actual 55 (0.008%)  origin-forest_43.843 1 (err=55.000)  
83.3 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 36: actual 2566 (0.368%)  origin-forest_43.843 1174 (err=2.186)  
90.9 queries/sec
Query 37: actual 20 (0.003%)  origin-forest_43.843 1 (err=20.000)  
83.3 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 40: actual 28 (0.004%)  origin-forest_43.843 33 (err=1.179)  
79.9 queries/sec
Query 41: actual 178 (0.026%)  origin-forest_43.843 27 (err=6.593)  
83.3 queries/sec
Query 42: actual 136 (0.020%)  origin-forest_43.843 1 (err=136.000)  
83.4 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
74.9 queries/sec
Query 46: actual 724 (0.104%)  origin-forest_43.843 1159 (err=1.601)  
79.4 queries/sec
Query 47: actual 8 (0.001%)  origin-forest_43.843 7 (err=1.143)  
76.9 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 49: actual 4 (0.001%)  origin-forest_43.843 5 (err=1.250)  
origin-forest_43.843 	max: 899.0000	99th: 525.1300	95th: 58.8500	median: 1.1606	mean: 24.8016
max_err 899.0
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 20/50 | Workload-time: 4.210611 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 21/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.1s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
40.0 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.9 queries/sec
Query 2: actual 62 (0.009%)  origin-forest_43.843 1 (err=62.000)  
76.9 queries/sec
Query 3: actual 6 (0.001%)  origin-forest_43.843 7 (err=1.167)  
76.9 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 5: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
76.9 queries/sec
Query 6: actual 35 (0.005%)  origin-forest_43.843 35 (err=1.000)  
83.3 queries/sec
Query 7: actual 2394 (0.343%)  origin-forest_43.843 3408 (err=1.424)  
83.3 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
68.9 queries/sec
Query 10: actual 205 (0.029%)  origin-forest_43.843 159 (err=1.289)  
90.9 queries/sec
Query 11: actual 150 (0.022%)  origin-forest_43.843 104 (err=1.442)  
83.3 queries/sec
Query 12: actual 899 (0.129%)  origin-forest_43.843 11 (err=81.727)  
83.3 queries/sec
Query 13: actual 570 (0.082%)  origin-forest_43.843 353 (err=1.615)  
76.9 queries/sec
Query 14: actual 1243 (0.178%)  origin-forest_43.843 954 (err=1.303)  
90.9 queries/sec
Query 15: actual 9 (0.001%)  origin-forest_43.843 7 (err=1.286)  
83.3 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 17: actual 3057 (0.438%)  origin-forest_43.843 4387 (err=1.435)  
86.9 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 19: actual 9911 (1.422%)  origin-forest_43.843 5143 (err=1.927)  
83.3 queries/sec
Query 20: actual 7197 (1.032%)  origin-forest_43.843 8403 (err=1.168)  
90.9 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 23: actual 5 (0.001%)  origin-forest_43.843 7 (err=1.400)  
89.5 queries/sec
Query 24: actual 30 (0.004%)  origin-forest_43.843 43 (err=1.433)  
84.9 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
81.6 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
80.0 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 29: actual 3769 (0.541%)  origin-forest_43.843 1896 (err=1.988)  
83.3 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 31: actual 75 (0.011%)  origin-forest_43.843 163 (err=2.173)  
76.9 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 33: actual 15 (0.002%)  origin-forest_43.843 6 (err=2.500)  
90.9 queries/sec
Query 34: actual 55 (0.008%)  origin-forest_43.843 1 (err=55.000)  
76.5 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 36: actual 2566 (0.368%)  origin-forest_43.843 737 (err=3.482)  
90.9 queries/sec
Query 37: actual 20 (0.003%)  origin-forest_43.843 1 (err=20.000)  
78.9 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 40: actual 28 (0.004%)  origin-forest_43.843 36 (err=1.286)  
83.3 queries/sec
Query 41: actual 178 (0.026%)  origin-forest_43.843 33 (err=5.394)  
83.3 queries/sec
Query 42: actual 136 (0.020%)  origin-forest_43.843 1 (err=136.000)  
79.9 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 46: actual 724 (0.104%)  origin-forest_43.843 1099 (err=1.518)  
71.4 queries/sec
Query 47: actual 8 (0.001%)  origin-forest_43.843 7 (err=1.143)  
71.4 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
73.5 queries/sec
Query 49: actual 4 (0.001%)  origin-forest_43.843 5 (err=1.250)  
origin-forest_43.843 	max: 136.0000	99th: 109.4064	95th: 58.8500	median: 1.2088	mean: 8.4870
max_err 136.0
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 21/50 | Workload-time: 4.272771 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 22/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=single', '--dataset=forest', '--drift_test=ddup', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
SingleSample - START
SingleSample - END
load_npy_dataset_from_path - df.shape = (2498238, 10)
Parsing... done, took 0.1s
Data updated!
done, took 0.2s
done, took 0.2s
new data average log likelihood = 7.0110
detection mean = 17.5140
detection threshold = 1.4732
test statistic = 10.5031
Offline time = 3.205118417739868
online time = 1.6066040992736816
Test result: True
Drift detection: True
[0m
DRIFT-DETECTED after 22-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=update']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (2498238, 10)
Parsing... done, took 0.1s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.2s
dataset size: 2498238
train data shape: torch.Size([416373, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 18.4319 bits (loss 23.668, data 5.236) 0.00100 lr
epoch 9 train loss 15.8984 nats / 22.9366 bits
time since start: 4.0 secs
Epoch 10 Iter 0, train entropy gap 17.2706 bits (loss 22.506, data 5.236) 0.00082 lr
epoch 19 train loss 15.7740 nats / 22.7570 bits
time since start: 7.3 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 6.7110 nats / 9.6820 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 22/50 | Workload-time: 8.619644 | Model-update-time: 12.674351


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 23/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=single', '--dataset=forest', '--drift_test=ddup', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
SingleSample - START
SingleSample - END
load_npy_dataset_from_path - df.shape = (2997885, 10)
Parsing... done, took 0.1s
Data updated!
done, took 0.3s
done, took 0.3s
new data average log likelihood = 6.7110
detection mean = 15.5896
detection threshold = 1.4856
test statistic = 8.8785
Offline time = 3.2170090675354004
online time = 1.8865444660186768
Test result: True
Drift detection: True
[0m
DRIFT-DETECTED after 23-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=update']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (2997885, 10)
Parsing... done, took 0.1s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.3s
dataset size: 2997885
train data shape: torch.Size([499647, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 16.9598 bits (loss 21.380, data 4.420) 0.00100 lr
epoch 9 train loss 14.3870 nats / 20.7560 bits
time since start: 4.0 secs
Epoch 10 Iter 0, train entropy gap 17.7994 bits (loss 22.220, data 4.420) 0.00082 lr
epoch 19 train loss 14.2652 nats / 20.5803 bits
time since start: 7.3 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 6.4240 nats / 9.2679 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 23/50 | Workload-time: 9.062551 | Model-update-time: 12.981101


WORKLOAD-START | Type: QueryWorkload | Progress: 24/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
39.1 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 2: actual 62 (0.009%)  origin-forest_43.843 1 (err=62.000)  
83.3 queries/sec
Query 3: actual 6 (0.001%)  origin-forest_43.843 5 (err=1.200)  
71.4 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 5: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
76.9 queries/sec
Query 6: actual 35 (0.005%)  origin-forest_43.843 44 (err=1.257)  
83.4 queries/sec
Query 7: actual 2394 (0.343%)  origin-forest_43.843 1894 (err=1.264)  
90.9 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 10: actual 205 (0.029%)  origin-forest_43.843 206 (err=1.005)  
90.9 queries/sec
Query 11: actual 150 (0.022%)  origin-forest_43.843 134 (err=1.119)  
83.3 queries/sec
Query 12: actual 899 (0.129%)  origin-forest_43.843 9 (err=99.889)  
86.8 queries/sec
Query 13: actual 570 (0.082%)  origin-forest_43.843 523 (err=1.090)  
76.9 queries/sec
Query 14: actual 1243 (0.178%)  origin-forest_43.843 739 (err=1.682)  
90.9 queries/sec
Query 15: actual 9 (0.001%)  origin-forest_43.843 4 (err=2.250)  
76.9 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 17: actual 3057 (0.438%)  origin-forest_43.843 4109 (err=1.344)  
90.9 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 19: actual 9911 (1.422%)  origin-forest_43.843 4091 (err=2.423)  
90.9 queries/sec
Query 20: actual 7197 (1.032%)  origin-forest_43.843 8055 (err=1.119)  
86.9 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 23: actual 5 (0.001%)  origin-forest_43.843 8 (err=1.600)  
83.4 queries/sec
Query 24: actual 30 (0.004%)  origin-forest_43.843 35 (err=1.167)  
90.9 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
83.3 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
77.0 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
82.0 queries/sec
Query 29: actual 3769 (0.541%)  origin-forest_43.843 2690 (err=1.401)  
86.8 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 31: actual 75 (0.011%)  origin-forest_43.843 175 (err=2.333)  
76.7 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.6 queries/sec
Query 33: actual 15 (0.002%)  origin-forest_43.843 4 (err=3.750)  
83.4 queries/sec
Query 34: actual 55 (0.008%)  origin-forest_43.843 1 (err=55.000)  
83.3 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.6 queries/sec
Query 36: actual 2566 (0.368%)  origin-forest_43.843 547 (err=4.691)  
83.3 queries/sec
Query 37: actual 20 (0.003%)  origin-forest_43.843 1 (err=20.000)  
60.6 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 40: actual 28 (0.004%)  origin-forest_43.843 42 (err=1.500)  
83.3 queries/sec
Query 41: actual 178 (0.026%)  origin-forest_43.843 20 (err=8.900)  
83.3 queries/sec
Query 42: actual 136 (0.020%)  origin-forest_43.843 1 (err=136.000)  
83.3 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.6 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 46: actual 724 (0.104%)  origin-forest_43.843 1118 (err=1.544)  
76.9 queries/sec
Query 47: actual 8 (0.001%)  origin-forest_43.843 5 (err=1.600)  
83.3 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 49: actual 4 (0.001%)  origin-forest_43.843 3 (err=1.333)  
origin-forest_43.843 	max: 136.0000	99th: 118.3056	95th: 58.8500	median: 1.1430	mean: 8.9892
max_err 136.0
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 24/50 | Workload-time: 4.130022 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 25/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=single', '--dataset=forest', '--drift_test=ddup', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
SingleSample - START
SingleSample - END
load_npy_dataset_from_path - df.shape = (3597462, 10)
Parsing... done, took 0.1s
Data updated!
done, took 0.3s
done, took 0.3s
new data average log likelihood = 6.4240
detection mean = 13.9175
detection threshold = 1.4273
test statistic = 7.4935
Offline time = 3.32407546043396
online time = 2.2131099700927734
Test result: True
Drift detection: True
[0m
DRIFT-DETECTED after 25-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=update']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (3597462, 10)
Parsing... done, took 0.1s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.3s
dataset size: 3597462
train data shape: torch.Size([599577, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 15.2260 bits (loss 18.956, data 3.730) 0.00100 lr
epoch 9 train loss 12.9250 nats / 18.6468 bits
time since start: 4.1 secs
Epoch 10 Iter 0, train entropy gap 14.3479 bits (loss 18.078, data 3.730) 0.00082 lr
epoch 19 train loss 12.8058 nats / 18.4749 bits
time since start: 7.4 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 6.1426 nats / 8.8619 bits
Epoch None Iter 500, test loss 6.1426 nats / 8.8619 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 25/50 | Workload-time: 9.676297 | Model-update-time: 13.638875


WORKLOAD-START | Type: QueryWorkload | Progress: 26/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
32.8 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.4 queries/sec
Query 2: actual 62 (0.009%)  origin-forest_43.843 1 (err=62.000)  
83.3 queries/sec
Query 3: actual 6 (0.001%)  origin-forest_43.843 6 (err=1.000)  
76.9 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 5: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
90.9 queries/sec
Query 6: actual 35 (0.005%)  origin-forest_43.843 49 (err=1.400)  
83.3 queries/sec
Query 7: actual 2394 (0.343%)  origin-forest_43.843 3430 (err=1.433)  
86.8 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 10: actual 205 (0.029%)  origin-forest_43.843 204 (err=1.005)  
83.3 queries/sec
Query 11: actual 150 (0.022%)  origin-forest_43.843 138 (err=1.087)  
83.3 queries/sec
Query 12: actual 899 (0.129%)  origin-forest_43.843 11 (err=81.727)  
83.3 queries/sec
Query 13: actual 570 (0.082%)  origin-forest_43.843 456 (err=1.250)  
83.3 queries/sec
Query 14: actual 1243 (0.178%)  origin-forest_43.843 718 (err=1.731)  
83.3 queries/sec
Query 15: actual 9 (0.001%)  origin-forest_43.843 3 (err=3.000)  
79.9 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 17: actual 3057 (0.438%)  origin-forest_43.843 4046 (err=1.324)  
90.9 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 19: actual 9911 (1.422%)  origin-forest_43.843 3451 (err=2.872)  
90.9 queries/sec
Query 20: actual 7197 (1.032%)  origin-forest_43.843 8169 (err=1.135)  
90.9 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 23: actual 5 (0.001%)  origin-forest_43.843 9 (err=1.800)  
90.9 queries/sec
Query 24: actual 30 (0.004%)  origin-forest_43.843 46 (err=1.533)  
79.9 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
83.3 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 29: actual 3769 (0.541%)  origin-forest_43.843 2546 (err=1.480)  
90.9 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 31: actual 75 (0.011%)  origin-forest_43.843 169 (err=2.253)  
83.3 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
77.2 queries/sec
Query 33: actual 15 (0.002%)  origin-forest_43.843 4 (err=3.750)  
98.2 queries/sec
Query 34: actual 55 (0.008%)  origin-forest_43.843 1 (err=55.000)  
76.9 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 36: actual 2566 (0.368%)  origin-forest_43.843 679 (err=3.779)  
90.9 queries/sec
Query 37: actual 20 (0.003%)  origin-forest_43.843 1 (err=20.000)  
76.9 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 40: actual 28 (0.004%)  origin-forest_43.843 34 (err=1.214)  
82.9 queries/sec
Query 41: actual 178 (0.026%)  origin-forest_43.843 23 (err=7.739)  
83.3 queries/sec
Query 42: actual 136 (0.020%)  origin-forest_43.843 1 (err=136.000)  
76.9 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 46: actual 724 (0.104%)  origin-forest_43.843 1070 (err=1.478)  
76.9 queries/sec
Query 47: actual 8 (0.001%)  origin-forest_43.843 3 (err=2.667)  
83.3 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
80.5 queries/sec
Query 49: actual 4 (0.001%)  origin-forest_43.843 6 (err=1.500)  
origin-forest_43.843 	max: 136.0000	99th: 109.4064	95th: 58.8500	median: 1.1747	mean: 8.6432
max_err 136.0
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 26/50 | Workload-time: 4.179612 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 27/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=single', '--dataset=forest', '--drift_test=ddup', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
SingleSample - START
SingleSample - END
load_npy_dataset_from_path - df.shape = (4316954, 10)
Parsing... done, took 0.2s
Data updated!
done, took 0.4s
done, took 0.4s
new data average log likelihood = 6.1426
detection mean = 12.4621
detection threshold = 1.3117
test statistic = 6.3195
Offline time = 3.907226800918579
online time = 2.690629482269287
Test result: True
Drift detection: True
[0m
DRIFT-DETECTED after 27-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=update']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (4316954, 10)
Parsing... done, took 0.2s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.4s
dataset size: 4316954
train data shape: torch.Size([719492, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 14.2832 bits (loss 17.430, data 3.147) 0.00100 lr
epoch 9 train loss 11.7553 nats / 16.9593 bits
time since start: 4.3 secs
Epoch 10 Iter 0, train entropy gap 14.5175 bits (loss 17.665, data 3.147) 0.00082 lr
epoch 19 train loss 11.6866 nats / 16.8602 bits
time since start: 7.7 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 5.8619 nats / 8.4569 bits
Epoch None Iter 500, test loss 5.8619 nats / 8.4569 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 27/50 | Workload-time: 10.888253 | Model-update-time: 14.812916


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 28/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=single', '--dataset=forest', '--drift_test=ddup', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
SingleSample - START
SingleSample - END
load_npy_dataset_from_path - df.shape = (5180344, 10)
Parsing... done, took 0.2s
Data updated!
done, took 0.4s
done, took 0.4s
new data average log likelihood = 5.8619
detection mean = 11.2115
detection threshold = 1.2735
test statistic = 5.3497
Offline time = 3.880603075027466
online time = 3.3761584758758545
Test result: True
Drift detection: True
[0m
DRIFT-DETECTED after 28-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=update']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (5180344, 10)
Parsing... done, took 0.2s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.5s
dataset size: 5180344
train data shape: torch.Size([863390, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 14.1203 bits (loss 16.774, data 2.654) 0.00100 lr
epoch 9 train loss 10.8927 nats / 15.7148 bits
time since start: 4.5 secs
Epoch 10 Iter 0, train entropy gap 13.3812 bits (loss 16.035, data 2.654) 0.00082 lr
epoch 19 train loss 10.7994 nats / 15.5803 bits
time since start: 7.8 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 5.5816 nats / 8.0525 bits
Epoch None Iter 500, test loss 5.5816 nats / 8.0525 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 28/50 | Workload-time: 12.062234 | Model-update-time: 15.604783


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 29/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=single', '--dataset=forest', '--drift_test=ddup', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
SingleSample - START
SingleSample - END
load_npy_dataset_from_path - df.shape = (6216412, 10)
Parsing... done, took 0.2s
Data updated!
done, took 0.5s
done, took 0.5s
new data average log likelihood = 5.5816
detection mean = 10.0986
detection threshold = 1.1559
test statistic = 4.5170
Offline time = 3.941890001296997
online time = 3.9131791591644287
Test result: True
Drift detection: True
[0m
DRIFT-DETECTED after 29-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=update']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (6216412, 10)
Parsing... done, took 0.2s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.5s
dataset size: 6216412
train data shape: torch.Size([1036068, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 12.8906 bits (loss 15.128, data 2.238) 0.00100 lr
epoch 9 train loss 10.0856 nats / 14.5504 bits
time since start: 4.7 secs
Epoch 10 Iter 0, train entropy gap 12.4867 bits (loss 14.724, data 2.238) 0.00082 lr
epoch 19 train loss 9.9976 nats / 14.4234 bits
time since start: 8.1 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 5.3013 nats / 7.6482 bits
Epoch None Iter 500, test loss 5.3013 nats / 7.6482 bits
Epoch None Iter 1000, test loss 5.3013 nats / 7.6482 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 29/50 | Workload-time: 12.944815 | Model-update-time: 16.971986


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 30/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=single', '--dataset=forest', '--drift_test=ddup', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
SingleSample - START
SingleSample - END
load_npy_dataset_from_path - df.shape = (7459694, 10)
Parsing... done, took 0.3s
Data updated!
done, took 0.6s
done, took 0.7s
new data average log likelihood = 5.3013
detection mean = 9.1142
detection threshold = 1.0726
test statistic = 3.8128
Offline time = 4.208094596862793
online time = 4.718433618545532
Test result: True
Drift detection: True
[0m
DRIFT-DETECTED after 30-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=update']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (7459694, 10)
Parsing... done, took 0.3s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.6s
dataset size: 7459694
train data shape: torch.Size([1243282, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 10.7512 bits (loss 12.637, data 1.886) 0.00100 lr
epoch 9 train loss 9.0130 nats / 13.0030 bits
time since start: 5.2 secs
Epoch 10 Iter 0, train entropy gap 11.1806 bits (loss 13.067, data 1.886) 0.00082 lr
epoch 19 train loss 8.9220 nats / 12.8717 bits
time since start: 8.8 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 5.0198 nats / 7.2421 bits
Epoch None Iter 500, test loss 5.0198 nats / 7.2421 bits
Epoch None Iter 1000, test loss 5.0198 nats / 7.2421 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 30/50 | Workload-time: 14.511577 | Model-update-time: 19.023404


WORKLOAD-START | Type: QueryWorkload | Progress: 31/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.1s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
28.9 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 2: actual 62 (0.009%)  origin-forest_43.843 1 (err=62.000)  
74.0 queries/sec
Query 3: actual 6 (0.001%)  origin-forest_43.843 7 (err=1.167)  
76.9 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 5: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
83.3 queries/sec
Query 6: actual 35 (0.005%)  origin-forest_43.843 26 (err=1.346)  
83.3 queries/sec
Query 7: actual 2394 (0.343%)  origin-forest_43.843 3988 (err=1.666)  
90.9 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
83.3 queries/sec
Query 10: actual 205 (0.029%)  origin-forest_43.843 218 (err=1.063)  
83.1 queries/sec
Query 11: actual 150 (0.022%)  origin-forest_43.843 184 (err=1.227)  
83.3 queries/sec
Query 12: actual 899 (0.129%)  origin-forest_43.843 2 (err=449.500)  
90.9 queries/sec
Query 13: actual 570 (0.082%)  origin-forest_43.843 506 (err=1.126)  
76.9 queries/sec
Query 14: actual 1243 (0.178%)  origin-forest_43.843 691 (err=1.799)  
90.9 queries/sec
Query 15: actual 9 (0.001%)  origin-forest_43.843 1 (err=9.000)  
83.3 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 17: actual 3057 (0.438%)  origin-forest_43.843 2942 (err=1.039)  
90.9 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
70.9 queries/sec
Query 19: actual 9911 (1.422%)  origin-forest_43.843 2086 (err=4.751)  
100.0 queries/sec
Query 20: actual 7197 (1.032%)  origin-forest_43.843 8705 (err=1.210)  
90.9 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 23: actual 5 (0.001%)  origin-forest_43.843 4 (err=1.250)  
90.9 queries/sec
Query 24: actual 30 (0.004%)  origin-forest_43.843 36 (err=1.200)  
83.3 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
76.9 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 29: actual 3769 (0.541%)  origin-forest_43.843 2952 (err=1.277)  
94.7 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 31: actual 75 (0.011%)  origin-forest_43.843 252 (err=3.360)  
83.3 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 33: actual 15 (0.002%)  origin-forest_43.843 4 (err=3.750)  
83.3 queries/sec
Query 34: actual 55 (0.008%)  origin-forest_43.843 1 (err=55.000)  
83.3 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
82.6 queries/sec
Query 36: actual 2566 (0.368%)  origin-forest_43.843 839 (err=3.058)  
90.9 queries/sec
Query 37: actual 20 (0.003%)  origin-forest_43.843 1 (err=20.000)  
76.9 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 40: actual 28 (0.004%)  origin-forest_43.843 35 (err=1.250)  
83.3 queries/sec
Query 41: actual 178 (0.026%)  origin-forest_43.843 20 (err=8.900)  
71.4 queries/sec
Query 42: actual 136 (0.020%)  origin-forest_43.843 1 (err=136.000)  
83.3 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.9 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
75.9 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.1 queries/sec
Query 46: actual 724 (0.104%)  origin-forest_43.843 920 (err=1.271)  
76.9 queries/sec
Query 47: actual 8 (0.001%)  origin-forest_43.843 3 (err=2.667)  
76.9 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.7 queries/sec
Query 49: actual 4 (0.001%)  origin-forest_43.843 4 (err=1.000)  
origin-forest_43.843 	max: 449.5000	99th: 295.8850	95th: 58.8500	median: 1.1833	mean: 16.1775
max_err 449.5
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 31/50 | Workload-time: 4.707954 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 32/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.1s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
22.5 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
47.6 queries/sec
Query 2: actual 62 (0.009%)  origin-forest_43.843 1 (err=62.000)  
71.4 queries/sec
Query 3: actual 6 (0.001%)  origin-forest_43.843 9 (err=1.500)  
62.5 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
64.4 queries/sec
Query 5: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
71.4 queries/sec
Query 6: actual 35 (0.005%)  origin-forest_43.843 19 (err=1.842)  
81.5 queries/sec
Query 7: actual 2394 (0.343%)  origin-forest_43.843 3006 (err=1.256)  
66.7 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
62.5 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
62.5 queries/sec
Query 10: actual 205 (0.029%)  origin-forest_43.843 162 (err=1.265)  
71.4 queries/sec
Query 11: actual 150 (0.022%)  origin-forest_43.843 154 (err=1.027)  
71.4 queries/sec
Query 12: actual 899 (0.129%)  origin-forest_43.843 15 (err=59.933)  
76.9 queries/sec
Query 13: actual 570 (0.082%)  origin-forest_43.843 504 (err=1.131)  
68.9 queries/sec
Query 14: actual 1243 (0.178%)  origin-forest_43.843 625 (err=1.989)  
83.3 queries/sec
Query 15: actual 9 (0.001%)  origin-forest_43.843 2 (err=4.500)  
71.4 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.6 queries/sec
Query 17: actual 3057 (0.438%)  origin-forest_43.843 3617 (err=1.183)  
86.4 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 19: actual 9911 (1.422%)  origin-forest_43.843 2114 (err=4.688)  
90.9 queries/sec
Query 20: actual 7197 (1.032%)  origin-forest_43.843 8786 (err=1.221)  
90.9 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
74.0 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 23: actual 5 (0.001%)  origin-forest_43.843 5 (err=1.000)  
83.3 queries/sec
Query 24: actual 30 (0.004%)  origin-forest_43.843 33 (err=1.100)  
83.3 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
83.3 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.0 queries/sec
Query 29: actual 3769 (0.541%)  origin-forest_43.843 2431 (err=1.550)  
83.3 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 31: actual 75 (0.011%)  origin-forest_43.843 280 (err=3.733)  
76.9 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 33: actual 15 (0.002%)  origin-forest_43.843 3 (err=5.000)  
83.3 queries/sec
Query 34: actual 55 (0.008%)  origin-forest_43.843 1 (err=55.000)  
83.3 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 36: actual 2566 (0.368%)  origin-forest_43.843 1105 (err=2.322)  
90.9 queries/sec
Query 37: actual 20 (0.003%)  origin-forest_43.843 1 (err=20.000)  
70.9 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 40: actual 28 (0.004%)  origin-forest_43.843 37 (err=1.321)  
71.0 queries/sec
Query 41: actual 178 (0.026%)  origin-forest_43.843 16 (err=11.125)  
83.3 queries/sec
Query 42: actual 136 (0.020%)  origin-forest_43.843 1 (err=136.000)  
76.9 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.9 queries/sec
Query 46: actual 724 (0.104%)  origin-forest_43.843 915 (err=1.264)  
79.6 queries/sec
Query 47: actual 8 (0.001%)  origin-forest_43.843 3 (err=2.667)  
76.9 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
65.2 queries/sec
Query 49: actual 4 (0.001%)  origin-forest_43.843 5 (err=1.250)  
origin-forest_43.843 	max: 136.0000	99th: 99.7400	95th: 57.7133	median: 1.2020	mean: 8.3774
max_err 136.0
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 32/50 | Workload-time: 4.795130 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 33/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
27.0 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
68.9 queries/sec
Query 2: actual 62 (0.009%)  origin-forest_43.843 1 (err=62.000)  
76.6 queries/sec
Query 3: actual 6 (0.001%)  origin-forest_43.843 9 (err=1.500)  
74.0 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
68.1 queries/sec
Query 5: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
71.1 queries/sec
Query 6: actual 35 (0.005%)  origin-forest_43.843 32 (err=1.094)  
76.9 queries/sec
Query 7: actual 2394 (0.343%)  origin-forest_43.843 4249 (err=1.775)  
76.9 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
74.0 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
76.9 queries/sec
Query 10: actual 205 (0.029%)  origin-forest_43.843 188 (err=1.090)  
76.9 queries/sec
Query 11: actual 150 (0.022%)  origin-forest_43.843 154 (err=1.027)  
66.7 queries/sec
Query 12: actual 899 (0.129%)  origin-forest_43.843 91 (err=9.879)  
76.9 queries/sec
Query 13: actual 570 (0.082%)  origin-forest_43.843 508 (err=1.122)  
71.4 queries/sec
Query 14: actual 1243 (0.178%)  origin-forest_43.843 646 (err=1.924)  
83.3 queries/sec
Query 15: actual 9 (0.001%)  origin-forest_43.843 1 (err=9.000)  
71.4 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
68.9 queries/sec
Query 17: actual 3057 (0.438%)  origin-forest_43.843 4290 (err=1.403)  
76.9 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 19: actual 9911 (1.422%)  origin-forest_43.843 2068 (err=4.793)  
83.3 queries/sec
Query 20: actual 7197 (1.032%)  origin-forest_43.843 8827 (err=1.226)  
83.3 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 23: actual 5 (0.001%)  origin-forest_43.843 3 (err=1.667)  
83.3 queries/sec
Query 24: actual 30 (0.004%)  origin-forest_43.843 40 (err=1.333)  
79.9 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
66.7 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
73.9 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.8 queries/sec
Query 29: actual 3769 (0.541%)  origin-forest_43.843 2913 (err=1.294)  
83.3 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 31: actual 75 (0.011%)  origin-forest_43.843 266 (err=3.547)  
79.9 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 33: actual 15 (0.002%)  origin-forest_43.843 4 (err=3.750)  
90.9 queries/sec
Query 34: actual 55 (0.008%)  origin-forest_43.843 1 (err=55.000)  
76.9 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 36: actual 2566 (0.368%)  origin-forest_43.843 1591 (err=1.613)  
90.9 queries/sec
Query 37: actual 20 (0.003%)  origin-forest_43.843 1 (err=20.000)  
76.9 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
64.5 queries/sec
Query 40: actual 28 (0.004%)  origin-forest_43.843 39 (err=1.393)  
76.9 queries/sec
Query 41: actual 178 (0.026%)  origin-forest_43.843 13 (err=13.692)  
90.9 queries/sec
Query 42: actual 136 (0.020%)  origin-forest_43.843 1 (err=136.000)  
83.3 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 46: actual 724 (0.104%)  origin-forest_43.843 968 (err=1.337)  
76.9 queries/sec
Query 47: actual 8 (0.001%)  origin-forest_43.843 3 (err=2.667)  
79.9 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 49: actual 4 (0.001%)  origin-forest_43.843 5 (err=1.250)  
origin-forest_43.843 	max: 136.0000	99th: 99.7400	95th: 39.2500	median: 1.2382	mean: 7.4875
max_err 136.0
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 33/50 | Workload-time: 4.512115 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 34/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=single', '--dataset=forest', '--drift_test=ddup', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
SingleSample - START
SingleSample - END
load_npy_dataset_from_path - df.shape = (8951632, 10)
Parsing... done, took 0.3s
Data updated!
done, took 0.8s
done, took 0.8s
new data average log likelihood = 5.0198
detection mean = 8.2559
detection threshold = 1.0006
test statistic = 3.2360
Offline time = 4.464692115783691
online time = 5.889762878417969
Test result: True
Drift detection: True
[0m
DRIFT-DETECTED after 34-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=update']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (8951632, 10)
Parsing... done, took 0.3s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.7s
dataset size: 8951632
train data shape: torch.Size([1491938, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 11.4559 bits (loss 13.045, data 1.589) 0.00100 lr
epoch 9 train loss 8.5896 nats / 12.3922 bits
time since start: 5.3 secs
Epoch 10 Iter 0, train entropy gap 11.1407 bits (loss 12.730, data 1.589) 0.00082 lr
epoch 19 train loss 8.5245 nats / 12.2982 bits
time since start: 8.8 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 4.7383 nats / 6.8360 bits
Epoch None Iter 500, test loss 4.7383 nats / 6.8360 bits
Epoch None Iter 1000, test loss 4.7383 nats / 6.8360 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 34/50 | Workload-time: 16.246990 | Model-update-time: 20.090768


WORKLOAD-START | Type: QueryWorkload | Progress: 35/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
30.8 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.7 queries/sec
Query 2: actual 62 (0.009%)  origin-forest_43.843 1 (err=62.000)  
76.9 queries/sec
Query 3: actual 6 (0.001%)  origin-forest_43.843 8 (err=1.333)  
76.9 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 5: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
82.6 queries/sec
Query 6: actual 35 (0.005%)  origin-forest_43.843 28 (err=1.250)  
90.9 queries/sec
Query 7: actual 2394 (0.343%)  origin-forest_43.843 4350 (err=1.817)  
83.3 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.7 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
71.4 queries/sec
Query 10: actual 205 (0.029%)  origin-forest_43.843 157 (err=1.306)  
90.9 queries/sec
Query 11: actual 150 (0.022%)  origin-forest_43.843 233 (err=1.553)  
83.3 queries/sec
Query 12: actual 899 (0.129%)  origin-forest_43.843 75 (err=11.987)  
83.3 queries/sec
Query 13: actual 570 (0.082%)  origin-forest_43.843 584 (err=1.025)  
68.9 queries/sec
Query 14: actual 1243 (0.178%)  origin-forest_43.843 598 (err=2.079)  
83.3 queries/sec
Query 15: actual 9 (0.001%)  origin-forest_43.843 1 (err=9.000)  
76.9 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 17: actual 3057 (0.438%)  origin-forest_43.843 3399 (err=1.112)  
83.3 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.7 queries/sec
Query 19: actual 9911 (1.422%)  origin-forest_43.843 1949 (err=5.085)  
76.9 queries/sec
Query 20: actual 7197 (1.032%)  origin-forest_43.843 8300 (err=1.153)  
83.2 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.5 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 23: actual 5 (0.001%)  origin-forest_43.843 4 (err=1.250)  
83.3 queries/sec
Query 24: actual 30 (0.004%)  origin-forest_43.843 36 (err=1.200)  
83.3 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
76.9 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
74.0 queries/sec
Query 29: actual 3769 (0.541%)  origin-forest_43.843 2351 (err=1.603)  
83.3 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.7 queries/sec
Query 31: actual 75 (0.011%)  origin-forest_43.843 253 (err=3.373)  
62.5 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 33: actual 15 (0.002%)  origin-forest_43.843 2 (err=7.500)  
90.9 queries/sec
Query 34: actual 55 (0.008%)  origin-forest_43.843 1 (err=55.000)  
83.3 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.7 queries/sec
Query 36: actual 2566 (0.368%)  origin-forest_43.843 1322 (err=1.941)  
90.0 queries/sec
Query 37: actual 20 (0.003%)  origin-forest_43.843 1 (err=20.000)  
66.7 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 40: actual 28 (0.004%)  origin-forest_43.843 44 (err=1.571)  
76.9 queries/sec
Query 41: actual 178 (0.026%)  origin-forest_43.843 22 (err=8.091)  
83.3 queries/sec
Query 42: actual 136 (0.020%)  origin-forest_43.843 1 (err=136.000)  
76.9 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
74.0 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 46: actual 724 (0.104%)  origin-forest_43.843 858 (err=1.185)  
76.9 queries/sec
Query 47: actual 8 (0.001%)  origin-forest_43.843 2 (err=4.000)  
83.3 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 49: actual 4 (0.001%)  origin-forest_43.843 5 (err=1.250)  
origin-forest_43.843 	max: 136.0000	99th: 99.7400	95th: 39.2500	median: 1.2250	mean: 7.5333
max_err 136.0
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 35/50 | Workload-time: 4.613176 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 36/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
30.3 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 2: actual 62 (0.009%)  origin-forest_43.843 1 (err=62.000)  
79.9 queries/sec
Query 3: actual 6 (0.001%)  origin-forest_43.843 9 (err=1.500)  
83.3 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 5: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
83.3 queries/sec
Query 6: actual 35 (0.005%)  origin-forest_43.843 30 (err=1.167)  
90.9 queries/sec
Query 7: actual 2394 (0.343%)  origin-forest_43.843 2018 (err=1.186)  
90.9 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
71.4 queries/sec
Query 10: actual 205 (0.029%)  origin-forest_43.843 201 (err=1.020)  
79.9 queries/sec
Query 11: actual 150 (0.022%)  origin-forest_43.843 245 (err=1.633)  
76.9 queries/sec
Query 12: actual 899 (0.129%)  origin-forest_43.843 17 (err=52.882)  
83.3 queries/sec
Query 13: actual 570 (0.082%)  origin-forest_43.843 588 (err=1.032)  
86.5 queries/sec
Query 14: actual 1243 (0.178%)  origin-forest_43.843 613 (err=2.028)  
83.3 queries/sec
Query 15: actual 9 (0.001%)  origin-forest_43.843 2 (err=4.500)  
76.9 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 17: actual 3057 (0.438%)  origin-forest_43.843 4028 (err=1.318)  
83.3 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
80.0 queries/sec
Query 19: actual 9911 (1.422%)  origin-forest_43.843 1959 (err=5.059)  
76.9 queries/sec
Query 20: actual 7197 (1.032%)  origin-forest_43.843 8413 (err=1.169)  
83.3 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 23: actual 5 (0.001%)  origin-forest_43.843 3 (err=1.667)  
90.9 queries/sec
Query 24: actual 30 (0.004%)  origin-forest_43.843 27 (err=1.111)  
90.9 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
90.9 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.8 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 29: actual 3769 (0.541%)  origin-forest_43.843 2806 (err=1.343)  
90.9 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 31: actual 75 (0.011%)  origin-forest_43.843 233 (err=3.107)  
76.9 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 33: actual 15 (0.002%)  origin-forest_43.843 3 (err=5.000)  
90.9 queries/sec
Query 34: actual 55 (0.008%)  origin-forest_43.843 1 (err=55.000)  
83.8 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 36: actual 2566 (0.368%)  origin-forest_43.843 1033 (err=2.484)  
83.3 queries/sec
Query 37: actual 20 (0.003%)  origin-forest_43.843 1 (err=20.000)  
83.3 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 40: actual 28 (0.004%)  origin-forest_43.843 42 (err=1.500)  
76.9 queries/sec
Query 41: actual 178 (0.026%)  origin-forest_43.843 18 (err=9.889)  
83.3 queries/sec
Query 42: actual 136 (0.020%)  origin-forest_43.843 1 (err=136.000)  
83.3 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.2 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 46: actual 724 (0.104%)  origin-forest_43.843 876 (err=1.210)  
66.6 queries/sec
Query 47: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
71.4 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 49: actual 4 (0.001%)  origin-forest_43.843 5 (err=1.250)  
origin-forest_43.843 	max: 136.0000	99th: 99.7400	95th: 54.0471	median: 1.1776	mean: 8.3211
max_err 136.0
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 36/50 | Workload-time: 4.529384 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 37/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=single', '--dataset=forest', '--drift_test=ddup', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
SingleSample - START
SingleSample - END
load_npy_dataset_from_path - df.shape = (10741958, 10)
Parsing... done, took 0.4s
Data updated!
done, took 0.9s
done, took 1.0s
new data average log likelihood = 4.7383
detection mean = 7.4465
detection threshold = 0.9315
test statistic = 2.7082
Offline time = 5.240623474121094
online time = 7.319711446762085
Test result: True
Drift detection: True
[0m
DRIFT-DETECTED after 37-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=update']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (10741958, 10)
Parsing... done, took 0.4s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.9s
dataset size: 10741958
train data shape: torch.Size([1790326, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 9.7647 bits (loss 11.104, data 1.339) 0.00100 lr
epoch 9 train loss 8.0918 nats / 11.6739 bits
time since start: 5.4 secs
Epoch 10 Iter 0, train entropy gap 10.9316 bits (loss 12.271, data 1.339) 0.00082 lr
epoch 19 train loss 8.0079 nats / 11.5530 bits
time since start: 8.9 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 4.4578 nats / 6.4313 bits
Epoch None Iter 500, test loss 4.4578 nats / 6.4313 bits
Epoch None Iter 1000, test loss 4.4578 nats / 6.4313 bits
Epoch None Iter 1500, test loss 4.4578 nats / 6.4313 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 37/50 | Workload-time: 19.038462 | Model-update-time: 22.041094


WORKLOAD-START | Type: QueryWorkload | Progress: 38/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
32.8 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 2: actual 62 (0.009%)  origin-forest_43.843 1 (err=62.000)  
76.9 queries/sec
Query 3: actual 6 (0.001%)  origin-forest_43.843 8 (err=1.333)  
66.7 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 5: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
66.6 queries/sec
Query 6: actual 35 (0.005%)  origin-forest_43.843 35 (err=1.000)  
86.8 queries/sec
Query 7: actual 2394 (0.343%)  origin-forest_43.843 3920 (err=1.637)  
83.4 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
74.7 queries/sec
Query 10: actual 205 (0.029%)  origin-forest_43.843 301 (err=1.468)  
83.3 queries/sec
Query 11: actual 150 (0.022%)  origin-forest_43.843 222 (err=1.480)  
90.9 queries/sec
Query 12: actual 899 (0.129%)  origin-forest_43.843 40 (err=22.475)  
83.3 queries/sec
Query 13: actual 570 (0.082%)  origin-forest_43.843 589 (err=1.033)  
71.4 queries/sec
Query 14: actual 1243 (0.178%)  origin-forest_43.843 755 (err=1.646)  
90.2 queries/sec
Query 15: actual 9 (0.001%)  origin-forest_43.843 2 (err=4.500)  
83.3 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 17: actual 3057 (0.438%)  origin-forest_43.843 3295 (err=1.078)  
83.3 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 19: actual 9911 (1.422%)  origin-forest_43.843 2122 (err=4.671)  
90.9 queries/sec
Query 20: actual 7197 (1.032%)  origin-forest_43.843 8912 (err=1.238)  
90.9 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
89.9 queries/sec
Query 23: actual 5 (0.001%)  origin-forest_43.843 2 (err=2.500)  
90.9 queries/sec
Query 24: actual 30 (0.004%)  origin-forest_43.843 39 (err=1.300)  
76.9 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
83.3 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 29: actual 3769 (0.541%)  origin-forest_43.843 2669 (err=1.412)  
90.9 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 31: actual 75 (0.011%)  origin-forest_43.843 251 (err=3.347)  
86.9 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 33: actual 15 (0.002%)  origin-forest_43.843 3 (err=5.000)  
90.9 queries/sec
Query 34: actual 55 (0.008%)  origin-forest_43.843 1 (err=55.000)  
83.3 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 36: actual 2566 (0.368%)  origin-forest_43.843 981 (err=2.616)  
90.9 queries/sec
Query 37: actual 20 (0.003%)  origin-forest_43.843 1 (err=20.000)  
83.4 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.6 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.8 queries/sec
Query 40: actual 28 (0.004%)  origin-forest_43.843 34 (err=1.214)  
83.3 queries/sec
Query 41: actual 178 (0.026%)  origin-forest_43.843 20 (err=8.900)  
83.3 queries/sec
Query 42: actual 136 (0.020%)  origin-forest_43.843 1 (err=136.000)  
83.3 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.4 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.7 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 46: actual 724 (0.104%)  origin-forest_43.843 762 (err=1.052)  
71.4 queries/sec
Query 47: actual 8 (0.001%)  origin-forest_43.843 2 (err=4.000)  
79.9 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
74.7 queries/sec
Query 49: actual 4 (0.001%)  origin-forest_43.843 4 (err=1.000)  
origin-forest_43.843 	max: 136.0000	99th: 99.7400	95th: 40.3637	median: 1.1461	mean: 7.6180
max_err 136.0
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 38/50 | Workload-time: 4.486304 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 39/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=single', '--dataset=forest', '--drift_test=ddup', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
SingleSample - START
SingleSample - END
load_npy_dataset_from_path - df.shape = (12890349, 10)
Parsing... done, took 0.5s
Data updated!
done, took 1.1s
done, took 1.2s
new data average log likelihood = 4.4578
detection mean = 6.7420
detection threshold = 0.8670
test statistic = 2.2842
Offline time = 5.824029207229614
online time = 8.771742582321167
Test result: True
Drift detection: True
[0m
DRIFT-DETECTED after 39-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=update']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (12890349, 10)
Parsing... done, took 0.4s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 1.1s
dataset size: 12890349
train data shape: torch.Size([2148391, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 9.9362 bits (loss 11.064, data 1.128) 0.00100 lr
epoch 9 train loss 7.5418 nats / 10.8805 bits
time since start: 5.7 secs
Epoch 10 Iter 0, train entropy gap 10.1838 bits (loss 11.312, data 1.128) 0.00082 lr
epoch 19 train loss 7.4694 nats / 10.7761 bits
time since start: 9.3 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 4.1776 nats / 6.0271 bits
Epoch None Iter 500, test loss 4.1776 nats / 6.0271 bits
Epoch None Iter 1000, test loss 4.1776 nats / 6.0271 bits
Epoch None Iter 1500, test loss 4.1776 nats / 6.0271 bits
Epoch None Iter 2000, test loss 4.1776 nats / 6.0271 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 39/50 | Workload-time: 21.764658 | Model-update-time: 24.510302


WORKLOAD-START | Type: QueryWorkload | Progress: 40/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
28.6 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 2: actual 62 (0.009%)  origin-forest_43.843 1 (err=62.000)  
76.9 queries/sec
Query 3: actual 6 (0.001%)  origin-forest_43.843 8 (err=1.333)  
75.3 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
82.8 queries/sec
Query 5: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
76.9 queries/sec
Query 6: actual 35 (0.005%)  origin-forest_43.843 28 (err=1.250)  
90.9 queries/sec
Query 7: actual 2394 (0.343%)  origin-forest_43.843 4082 (err=1.705)  
83.3 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
71.4 queries/sec
Query 10: actual 205 (0.029%)  origin-forest_43.843 167 (err=1.228)  
90.9 queries/sec
Query 11: actual 150 (0.022%)  origin-forest_43.843 263 (err=1.753)  
83.3 queries/sec
Query 12: actual 899 (0.129%)  origin-forest_43.843 16 (err=56.188)  
79.9 queries/sec
Query 13: actual 570 (0.082%)  origin-forest_43.843 477 (err=1.195)  
76.9 queries/sec
Query 14: actual 1243 (0.178%)  origin-forest_43.843 791 (err=1.571)  
83.3 queries/sec
Query 15: actual 9 (0.001%)  origin-forest_43.843 2 (err=4.500)  
83.3 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 17: actual 3057 (0.438%)  origin-forest_43.843 3234 (err=1.058)  
83.3 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 19: actual 9911 (1.422%)  origin-forest_43.843 1898 (err=5.222)  
71.4 queries/sec
Query 20: actual 7197 (1.032%)  origin-forest_43.843 8865 (err=1.232)  
64.5 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
62.5 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
62.5 queries/sec
Query 23: actual 5 (0.001%)  origin-forest_43.843 2 (err=2.500)  
66.7 queries/sec
Query 24: actual 30 (0.004%)  origin-forest_43.843 27 (err=1.111)  
66.7 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
62.5 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
58.4 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
58.8 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
58.8 queries/sec
Query 29: actual 3769 (0.541%)  origin-forest_43.843 2430 (err=1.551)  
58.8 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
58.8 queries/sec
Query 31: actual 75 (0.011%)  origin-forest_43.843 335 (err=4.467)  
58.8 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
61.3 queries/sec
Query 33: actual 15 (0.002%)  origin-forest_43.843 3 (err=5.000)  
68.1 queries/sec
Query 34: actual 55 (0.008%)  origin-forest_43.843 1 (err=55.000)  
62.4 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
58.8 queries/sec
Query 36: actual 2566 (0.368%)  origin-forest_43.843 1316 (err=1.950)  
83.3 queries/sec
Query 37: actual 20 (0.003%)  origin-forest_43.843 1 (err=20.000)  
65.6 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.7 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
69.2 queries/sec
Query 40: actual 28 (0.004%)  origin-forest_43.843 41 (err=1.464)  
76.9 queries/sec
Query 41: actual 178 (0.026%)  origin-forest_43.843 33 (err=5.394)  
76.9 queries/sec
Query 42: actual 136 (0.020%)  origin-forest_43.843 1 (err=136.000)  
83.3 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 46: actual 724 (0.104%)  origin-forest_43.843 796 (err=1.099)  
76.9 queries/sec
Query 47: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
74.0 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
62.5 queries/sec
Query 49: actual 4 (0.001%)  origin-forest_43.843 5 (err=1.250)  
origin-forest_43.843 	max: 136.0000	99th: 99.7400	95th: 55.6531	median: 1.2297	mean: 8.3404
max_err 136.0
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 40/50 | Workload-time: 4.916574 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 41/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
29.4 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.7 queries/sec
Query 2: actual 62 (0.009%)  origin-forest_43.843 1 (err=62.000)  
83.3 queries/sec
Query 3: actual 6 (0.001%)  origin-forest_43.843 8 (err=1.333)  
76.9 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 5: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
76.9 queries/sec
Query 6: actual 35 (0.005%)  origin-forest_43.843 26 (err=1.346)  
83.3 queries/sec
Query 7: actual 2394 (0.343%)  origin-forest_43.843 3157 (err=1.319)  
87.5 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
71.4 queries/sec
Query 10: actual 205 (0.029%)  origin-forest_43.843 174 (err=1.178)  
76.9 queries/sec
Query 11: actual 150 (0.022%)  origin-forest_43.843 250 (err=1.667)  
58.8 queries/sec
Query 12: actual 899 (0.129%)  origin-forest_43.843 9 (err=99.889)  
76.9 queries/sec
Query 13: actual 570 (0.082%)  origin-forest_43.843 439 (err=1.298)  
71.4 queries/sec
Query 14: actual 1243 (0.178%)  origin-forest_43.843 818 (err=1.520)  
86.8 queries/sec
Query 15: actual 9 (0.001%)  origin-forest_43.843 2 (err=4.500)  
76.9 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 17: actual 3057 (0.438%)  origin-forest_43.843 3298 (err=1.079)  
83.1 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
73.8 queries/sec
Query 19: actual 9911 (1.422%)  origin-forest_43.843 1948 (err=5.088)  
79.8 queries/sec
Query 20: actual 7197 (1.032%)  origin-forest_43.843 8842 (err=1.229)  
76.9 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.7 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
74.8 queries/sec
Query 23: actual 5 (0.001%)  origin-forest_43.843 2 (err=2.500)  
90.9 queries/sec
Query 24: actual 30 (0.004%)  origin-forest_43.843 30 (err=1.000)  
83.0 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
77.0 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
77.0 queries/sec
Query 29: actual 3769 (0.541%)  origin-forest_43.843 2796 (err=1.348)  
76.5 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.3 queries/sec
Query 31: actual 75 (0.011%)  origin-forest_43.843 332 (err=4.427)  
76.9 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 33: actual 15 (0.002%)  origin-forest_43.843 3 (err=5.000)  
83.3 queries/sec
Query 34: actual 55 (0.008%)  origin-forest_43.843 1 (err=55.000)  
83.3 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 36: actual 2566 (0.368%)  origin-forest_43.843 1136 (err=2.259)  
90.9 queries/sec
Query 37: actual 20 (0.003%)  origin-forest_43.843 1 (err=20.000)  
83.3 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.6 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 40: actual 28 (0.004%)  origin-forest_43.843 34 (err=1.214)  
83.3 queries/sec
Query 41: actual 178 (0.026%)  origin-forest_43.843 20 (err=8.900)  
83.3 queries/sec
Query 42: actual 136 (0.020%)  origin-forest_43.843 1 (err=136.000)  
76.9 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 46: actual 724 (0.104%)  origin-forest_43.843 720 (err=1.006)  
74.0 queries/sec
Query 47: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
83.3 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 49: actual 4 (0.001%)  origin-forest_43.843 5 (err=1.250)  
origin-forest_43.843 	max: 136.0000	99th: 118.3056	95th: 58.8500	median: 1.1962	mean: 9.2470
max_err 136.0
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 41/50 | Workload-time: 4.552055 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 42/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
35.7 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.6 queries/sec
Query 2: actual 62 (0.009%)  origin-forest_43.843 1 (err=62.000)  
68.9 queries/sec
Query 3: actual 6 (0.001%)  origin-forest_43.843 8 (err=1.333)  
76.9 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.7 queries/sec
Query 5: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
66.7 queries/sec
Query 6: actual 35 (0.005%)  origin-forest_43.843 25 (err=1.400)  
83.3 queries/sec
Query 7: actual 2394 (0.343%)  origin-forest_43.843 3040 (err=1.270)  
90.9 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
66.4 queries/sec
Query 10: actual 205 (0.029%)  origin-forest_43.843 187 (err=1.096)  
76.9 queries/sec
Query 11: actual 150 (0.022%)  origin-forest_43.843 264 (err=1.760)  
83.3 queries/sec
Query 12: actual 899 (0.129%)  origin-forest_43.843 43 (err=20.907)  
90.9 queries/sec
Query 13: actual 570 (0.082%)  origin-forest_43.843 453 (err=1.258)  
76.9 queries/sec
Query 14: actual 1243 (0.178%)  origin-forest_43.843 747 (err=1.664)  
79.4 queries/sec
Query 15: actual 9 (0.001%)  origin-forest_43.843 2 (err=4.500)  
83.3 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
62.5 queries/sec
Query 17: actual 3057 (0.438%)  origin-forest_43.843 4274 (err=1.398)  
68.9 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
62.5 queries/sec
Query 19: actual 9911 (1.422%)  origin-forest_43.843 1982 (err=5.001)  
83.4 queries/sec
Query 20: actual 7197 (1.032%)  origin-forest_43.843 8776 (err=1.219)  
83.3 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 23: actual 5 (0.001%)  origin-forest_43.843 1 (err=5.000)  
83.3 queries/sec
Query 24: actual 30 (0.004%)  origin-forest_43.843 29 (err=1.034)  
86.8 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 29: actual 3769 (0.541%)  origin-forest_43.843 1814 (err=2.078)  
83.3 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.7 queries/sec
Query 31: actual 75 (0.011%)  origin-forest_43.843 305 (err=4.067)  
71.4 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
74.0 queries/sec
Query 33: actual 15 (0.002%)  origin-forest_43.843 3 (err=5.000)  
90.9 queries/sec
Query 34: actual 55 (0.008%)  origin-forest_43.843 1 (err=55.000)  
71.4 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.7 queries/sec
Query 36: actual 2566 (0.368%)  origin-forest_43.843 1216 (err=2.110)  
74.8 queries/sec
Query 37: actual 20 (0.003%)  origin-forest_43.843 1 (err=20.000)  
71.4 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.6 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
68.9 queries/sec
Query 40: actual 28 (0.004%)  origin-forest_43.843 41 (err=1.464)  
71.4 queries/sec
Query 41: actual 178 (0.026%)  origin-forest_43.843 11 (err=16.182)  
79.4 queries/sec
Query 42: actual 136 (0.020%)  origin-forest_43.843 1 (err=136.000)  
71.4 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
58.8 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 46: actual 724 (0.104%)  origin-forest_43.843 743 (err=1.026)  
68.9 queries/sec
Query 47: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
76.9 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 49: actual 4 (0.001%)  origin-forest_43.843 7 (err=1.750)  
origin-forest_43.843 	max: 136.0000	99th: 99.7400	95th: 39.6581	median: 1.2388	mean: 7.8904
max_err 136.0
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 42/50 | Workload-time: 4.728798 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 43/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
26.3 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
62.5 queries/sec
Query 2: actual 62 (0.009%)  origin-forest_43.843 1 (err=62.000)  
70.9 queries/sec
Query 3: actual 6 (0.001%)  origin-forest_43.843 8 (err=1.333)  
71.4 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
69.6 queries/sec
Query 5: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
76.6 queries/sec
Query 6: actual 35 (0.005%)  origin-forest_43.843 22 (err=1.591)  
83.3 queries/sec
Query 7: actual 2394 (0.343%)  origin-forest_43.843 2857 (err=1.193)  
83.3 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
76.9 queries/sec
Query 10: actual 205 (0.029%)  origin-forest_43.843 211 (err=1.029)  
86.8 queries/sec
Query 11: actual 150 (0.022%)  origin-forest_43.843 274 (err=1.827)  
83.3 queries/sec
Query 12: actual 899 (0.129%)  origin-forest_43.843 36 (err=24.972)  
90.9 queries/sec
Query 13: actual 570 (0.082%)  origin-forest_43.843 491 (err=1.161)  
76.9 queries/sec
Query 14: actual 1243 (0.178%)  origin-forest_43.843 797 (err=1.560)  
83.3 queries/sec
Query 15: actual 9 (0.001%)  origin-forest_43.843 2 (err=4.500)  
71.4 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 17: actual 3057 (0.438%)  origin-forest_43.843 2786 (err=1.097)  
83.3 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
64.5 queries/sec
Query 19: actual 9911 (1.422%)  origin-forest_43.843 1899 (err=5.219)  
83.3 queries/sec
Query 20: actual 7197 (1.032%)  origin-forest_43.843 8839 (err=1.228)  
76.9 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 23: actual 5 (0.001%)  origin-forest_43.843 2 (err=2.500)  
83.3 queries/sec
Query 24: actual 30 (0.004%)  origin-forest_43.843 25 (err=1.200)  
90.8 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
74.0 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 29: actual 3769 (0.541%)  origin-forest_43.843 1936 (err=1.947)  
83.3 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
73.5 queries/sec
Query 31: actual 75 (0.011%)  origin-forest_43.843 315 (err=4.200)  
83.3 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 33: actual 15 (0.002%)  origin-forest_43.843 3 (err=5.000)  
90.9 queries/sec
Query 34: actual 55 (0.008%)  origin-forest_43.843 1 (err=55.000)  
79.9 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.4 queries/sec
Query 36: actual 2566 (0.368%)  origin-forest_43.843 1020 (err=2.516)  
83.3 queries/sec
Query 37: actual 20 (0.003%)  origin-forest_43.843 1 (err=20.000)  
66.7 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.7 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 40: actual 28 (0.004%)  origin-forest_43.843 36 (err=1.286)  
71.4 queries/sec
Query 41: actual 178 (0.026%)  origin-forest_43.843 25 (err=7.120)  
79.9 queries/sec
Query 42: actual 136 (0.020%)  origin-forest_43.843 1 (err=136.000)  
76.9 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.7 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 46: actual 724 (0.104%)  origin-forest_43.843 780 (err=1.077)  
76.9 queries/sec
Query 47: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
71.4 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
64.5 queries/sec
Query 49: actual 4 (0.001%)  origin-forest_43.843 6 (err=1.500)  
origin-forest_43.843 	max: 136.0000	99th: 99.7400	95th: 41.4875	median: 1.1967	mean: 7.7611
max_err 136.0
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 43/50 | Workload-time: 4.794134 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 44/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.1s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
26.0 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
60.4 queries/sec
Query 2: actual 62 (0.009%)  origin-forest_43.843 1 (err=62.000)  
58.8 queries/sec
Query 3: actual 6 (0.001%)  origin-forest_43.843 6 (err=1.000)  
58.8 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
55.5 queries/sec
Query 5: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
60.6 queries/sec
Query 6: actual 35 (0.005%)  origin-forest_43.843 23 (err=1.522)  
47.6 queries/sec
Query 7: actual 2394 (0.343%)  origin-forest_43.843 5036 (err=2.104)  
55.6 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
55.6 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
62.5 queries/sec
Query 10: actual 205 (0.029%)  origin-forest_43.843 183 (err=1.120)  
76.9 queries/sec
Query 11: actual 150 (0.022%)  origin-forest_43.843 241 (err=1.607)  
74.0 queries/sec
Query 12: actual 899 (0.129%)  origin-forest_43.843 18 (err=49.944)  
71.4 queries/sec
Query 13: actual 570 (0.082%)  origin-forest_43.843 475 (err=1.200)  
66.7 queries/sec
Query 14: actual 1243 (0.178%)  origin-forest_43.843 780 (err=1.594)  
76.9 queries/sec
Query 15: actual 9 (0.001%)  origin-forest_43.843 2 (err=4.500)  
62.5 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
62.5 queries/sec
Query 17: actual 3057 (0.438%)  origin-forest_43.843 3161 (err=1.034)  
66.6 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
60.5 queries/sec
Query 19: actual 9911 (1.422%)  origin-forest_43.843 1852 (err=5.352)  
66.7 queries/sec
Query 20: actual 7197 (1.032%)  origin-forest_43.843 8777 (err=1.220)  
71.4 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.7 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.7 queries/sec
Query 23: actual 5 (0.001%)  origin-forest_43.843 2 (err=2.500)  
58.8 queries/sec
Query 24: actual 30 (0.004%)  origin-forest_43.843 29 (err=1.034)  
61.7 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
70.4 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.7 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 29: actual 3769 (0.541%)  origin-forest_43.843 2507 (err=1.503)  
90.9 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
71.4 queries/sec
Query 31: actual 75 (0.011%)  origin-forest_43.843 340 (err=4.533)  
71.4 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.2 queries/sec
Query 33: actual 15 (0.002%)  origin-forest_43.843 3 (err=5.000)  
71.4 queries/sec
Query 34: actual 55 (0.008%)  origin-forest_43.843 1 (err=55.000)  
76.9 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 36: actual 2566 (0.368%)  origin-forest_43.843 1052 (err=2.439)  
71.4 queries/sec
Query 37: actual 20 (0.003%)  origin-forest_43.843 1 (err=20.000)  
66.7 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.7 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.6 queries/sec
Query 40: actual 28 (0.004%)  origin-forest_43.843 39 (err=1.393)  
71.4 queries/sec
Query 41: actual 178 (0.026%)  origin-forest_43.843 26 (err=6.846)  
71.4 queries/sec
Query 42: actual 136 (0.020%)  origin-forest_43.843 1 (err=136.000)  
55.6 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
60.4 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 46: actual 724 (0.104%)  origin-forest_43.843 740 (err=1.022)  
74.0 queries/sec
Query 47: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
76.9 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 49: actual 4 (0.001%)  origin-forest_43.843 8 (err=2.000)  
origin-forest_43.843 	max: 136.0000	99th: 99.7400	95th: 52.7250	median: 1.1601	mean: 8.2693
max_err 136.0
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 44/50 | Workload-time: 4.837591 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 45/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=single', '--dataset=forest', '--drift_test=ddup', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
SingleSample - START
SingleSample - END
load_npy_dataset_from_path - df.shape = (15468418, 10)
Parsing... done, took 0.5s
Data updated!
done, took 1.4s
done, took 1.4s
new data average log likelihood = 4.1776
detection mean = 6.1083
detection threshold = 0.7962
test statistic = 1.9306
Offline time = 6.449232339859009
online time = 10.38614797592163
Test result: True
Drift detection: True
[0m
DRIFT-DETECTED after 45-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=update']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (15468418, 10)
Parsing... done, took 0.5s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 1.3s
dataset size: 15468418
train data shape: torch.Size([2578069, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 9.4130 bits (loss 10.363, data 0.950) 0.00100 lr
epoch 9 train loss 6.9381 nats / 10.0096 bits
time since start: 5.6 secs
Epoch 10 Iter 0, train entropy gap 9.2406 bits (loss 10.191, data 0.950) 0.00082 lr
epoch 19 train loss 6.8740 nats / 9.9171 bits
time since start: 9.4 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 3.8987 nats / 5.6247 bits
Epoch None Iter 500, test loss 3.8987 nats / 5.6247 bits
Epoch None Iter 1000, test loss 3.8987 nats / 5.6247 bits
Epoch None Iter 1500, test loss 3.8987 nats / 5.6247 bits
Epoch None Iter 2000, test loss 3.8987 nats / 5.6247 bits
Epoch None Iter 2500, test loss 3.8987 nats / 5.6247 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 45/50 | Workload-time: 25.001033 | Model-update-time: 26.755729


WORKLOAD-START | Type: QueryWorkload | Progress: 46/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
29.9 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 2: actual 62 (0.009%)  origin-forest_43.843 1 (err=62.000)  
83.3 queries/sec
Query 3: actual 6 (0.001%)  origin-forest_43.843 8 (err=1.333)  
80.0 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 5: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
83.3 queries/sec
Query 6: actual 35 (0.005%)  origin-forest_43.843 24 (err=1.458)  
86.3 queries/sec
Query 7: actual 2394 (0.343%)  origin-forest_43.843 3705 (err=1.548)  
90.9 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
71.4 queries/sec
Query 10: actual 205 (0.029%)  origin-forest_43.843 144 (err=1.424)  
83.3 queries/sec
Query 11: actual 150 (0.022%)  origin-forest_43.843 291 (err=1.940)  
83.2 queries/sec
Query 12: actual 899 (0.129%)  origin-forest_43.843 12 (err=74.917)  
76.5 queries/sec
Query 13: actual 570 (0.082%)  origin-forest_43.843 478 (err=1.192)  
76.9 queries/sec
Query 14: actual 1243 (0.178%)  origin-forest_43.843 771 (err=1.612)  
90.9 queries/sec
Query 15: actual 9 (0.001%)  origin-forest_43.843 3 (err=3.000)  
83.3 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 17: actual 3057 (0.438%)  origin-forest_43.843 2818 (err=1.085)  
90.9 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 19: actual 9911 (1.422%)  origin-forest_43.843 1905 (err=5.203)  
90.9 queries/sec
Query 20: actual 7197 (1.032%)  origin-forest_43.843 8406 (err=1.168)  
86.8 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 23: actual 5 (0.001%)  origin-forest_43.843 1 (err=5.000)  
83.3 queries/sec
Query 24: actual 30 (0.004%)  origin-forest_43.843 25 (err=1.200)  
83.3 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
68.9 queries/sec
Query 29: actual 3769 (0.541%)  origin-forest_43.843 1904 (err=1.980)  
83.3 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
74.6 queries/sec
Query 31: actual 75 (0.011%)  origin-forest_43.843 438 (err=5.840)  
76.9 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 33: actual 15 (0.002%)  origin-forest_43.843 3 (err=5.000)  
83.3 queries/sec
Query 34: actual 55 (0.008%)  origin-forest_43.843 1 (err=55.000)  
83.3 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 36: actual 2566 (0.368%)  origin-forest_43.843 1230 (err=2.086)  
90.3 queries/sec
Query 37: actual 20 (0.003%)  origin-forest_43.843 1 (err=20.000)  
76.7 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
77.1 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
62.5 queries/sec
Query 40: actual 28 (0.004%)  origin-forest_43.843 28 (err=1.000)  
71.4 queries/sec
Query 41: actual 178 (0.026%)  origin-forest_43.843 32 (err=5.562)  
83.3 queries/sec
Query 42: actual 136 (0.020%)  origin-forest_43.843 1 (err=136.000)  
83.3 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
84.7 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
64.5 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
77.0 queries/sec
Query 46: actual 724 (0.104%)  origin-forest_43.843 671 (err=1.079)  
71.4 queries/sec
Query 47: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
83.3 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 49: actual 4 (0.001%)  origin-forest_43.843 5 (err=1.250)  
origin-forest_43.843 	max: 136.0000	99th: 106.0692	95th: 58.8500	median: 1.1962	mean: 8.7775
max_err 136.0
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 46/50 | Workload-time: 4.651707 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 47/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
32.7 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
62.6 queries/sec
Query 2: actual 62 (0.009%)  origin-forest_43.843 1 (err=62.000)  
71.4 queries/sec
Query 3: actual 6 (0.001%)  origin-forest_43.843 7 (err=1.167)  
71.4 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 5: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
76.9 queries/sec
Query 6: actual 35 (0.005%)  origin-forest_43.843 27 (err=1.296)  
79.9 queries/sec
Query 7: actual 2394 (0.343%)  origin-forest_43.843 2429 (err=1.015)  
59.6 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.2 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
77.0 queries/sec
Query 10: actual 205 (0.029%)  origin-forest_43.843 223 (err=1.088)  
83.3 queries/sec
Query 11: actual 150 (0.022%)  origin-forest_43.843 250 (err=1.667)  
83.3 queries/sec
Query 12: actual 899 (0.129%)  origin-forest_43.843 4 (err=224.750)  
90.9 queries/sec
Query 13: actual 570 (0.082%)  origin-forest_43.843 499 (err=1.142)  
83.3 queries/sec
Query 14: actual 1243 (0.178%)  origin-forest_43.843 808 (err=1.538)  
80.0 queries/sec
Query 15: actual 9 (0.001%)  origin-forest_43.843 3 (err=3.000)  
83.3 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 17: actual 3057 (0.438%)  origin-forest_43.843 3285 (err=1.075)  
83.3 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 19: actual 9911 (1.422%)  origin-forest_43.843 1969 (err=5.034)  
90.9 queries/sec
Query 20: actual 7197 (1.032%)  origin-forest_43.843 8387 (err=1.165)  
90.9 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 23: actual 5 (0.001%)  origin-forest_43.843 2 (err=2.500)  
90.9 queries/sec
Query 24: actual 30 (0.004%)  origin-forest_43.843 25 (err=1.200)  
90.9 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 29: actual 3769 (0.541%)  origin-forest_43.843 1766 (err=2.134)  
90.8 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
74.1 queries/sec
Query 31: actual 75 (0.011%)  origin-forest_43.843 407 (err=5.427)  
76.9 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 33: actual 15 (0.002%)  origin-forest_43.843 3 (err=5.000)  
83.3 queries/sec
Query 34: actual 55 (0.008%)  origin-forest_43.843 1 (err=55.000)  
76.9 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 36: actual 2566 (0.368%)  origin-forest_43.843 1269 (err=2.022)  
83.3 queries/sec
Query 37: actual 20 (0.003%)  origin-forest_43.843 1 (err=20.000)  
83.3 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
74.0 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 40: actual 28 (0.004%)  origin-forest_43.843 35 (err=1.250)  
83.3 queries/sec
Query 41: actual 178 (0.026%)  origin-forest_43.843 24 (err=7.417)  
71.4 queries/sec
Query 42: actual 136 (0.020%)  origin-forest_43.843 1 (err=136.000)  
83.3 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 46: actual 724 (0.104%)  origin-forest_43.843 742 (err=1.025)  
70.4 queries/sec
Query 47: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
76.9 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.1 queries/sec
Query 49: actual 4 (0.001%)  origin-forest_43.843 6 (err=1.500)  
origin-forest_43.843 	max: 224.7500	99th: 181.2625	95th: 58.8500	median: 1.1538	mean: 11.7282
max_err 224.75
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 47/50 | Workload-time: 4.463680 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 48/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.1s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
27.4 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
68.6 queries/sec
Query 2: actual 62 (0.009%)  origin-forest_43.843 1 (err=62.000)  
83.3 queries/sec
Query 3: actual 6 (0.001%)  origin-forest_43.843 8 (err=1.333)  
76.9 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 5: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
83.3 queries/sec
Query 6: actual 35 (0.005%)  origin-forest_43.843 19 (err=1.842)  
90.9 queries/sec
Query 7: actual 2394 (0.343%)  origin-forest_43.843 3380 (err=1.412)  
86.9 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
76.9 queries/sec
Query 10: actual 205 (0.029%)  origin-forest_43.843 160 (err=1.281)  
90.9 queries/sec
Query 11: actual 150 (0.022%)  origin-forest_43.843 273 (err=1.820)  
83.3 queries/sec
Query 12: actual 899 (0.129%)  origin-forest_43.843 13 (err=69.154)  
90.9 queries/sec
Query 13: actual 570 (0.082%)  origin-forest_43.843 493 (err=1.156)  
83.3 queries/sec
Query 14: actual 1243 (0.178%)  origin-forest_43.843 749 (err=1.660)  
83.3 queries/sec
Query 15: actual 9 (0.001%)  origin-forest_43.843 3 (err=3.000)  
86.9 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 17: actual 3057 (0.438%)  origin-forest_43.843 2785 (err=1.098)  
90.9 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 19: actual 9911 (1.422%)  origin-forest_43.843 1976 (err=5.016)  
90.9 queries/sec
Query 20: actual 7197 (1.032%)  origin-forest_43.843 8302 (err=1.154)  
100.0 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 23: actual 5 (0.001%)  origin-forest_43.843 2 (err=2.500)  
74.0 queries/sec
Query 24: actual 30 (0.004%)  origin-forest_43.843 35 (err=1.167)  
82.3 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 29: actual 3769 (0.541%)  origin-forest_43.843 2155 (err=1.749)  
76.9 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
62.5 queries/sec
Query 31: actual 75 (0.011%)  origin-forest_43.843 471 (err=6.280)  
71.0 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.7 queries/sec
Query 33: actual 15 (0.002%)  origin-forest_43.843 2 (err=7.500)  
76.9 queries/sec
Query 34: actual 55 (0.008%)  origin-forest_43.843 1 (err=55.000)  
76.9 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 36: actual 2566 (0.368%)  origin-forest_43.843 716 (err=3.584)  
83.3 queries/sec
Query 37: actual 20 (0.003%)  origin-forest_43.843 1 (err=20.000)  
71.4 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
60.5 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 40: actual 28 (0.004%)  origin-forest_43.843 35 (err=1.250)  
77.0 queries/sec
Query 41: actual 178 (0.026%)  origin-forest_43.843 29 (err=6.138)  
83.3 queries/sec
Query 42: actual 136 (0.020%)  origin-forest_43.843 1 (err=136.000)  
76.9 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
65.1 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.1 queries/sec
Query 46: actual 724 (0.104%)  origin-forest_43.843 690 (err=1.049)  
74.0 queries/sec
Query 47: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
71.4 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 49: actual 4 (0.001%)  origin-forest_43.843 7 (err=1.750)  
origin-forest_43.843 	max: 136.0000	99th: 103.2454	95th: 58.8500	median: 1.2083	mean: 8.7178
max_err 136.0
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 48/50 | Workload-time: 4.764839 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 49/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
31.2 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 2: actual 62 (0.009%)  origin-forest_43.843 1 (err=62.000)  
76.9 queries/sec
Query 3: actual 6 (0.001%)  origin-forest_43.843 9 (err=1.500)  
71.4 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
62.5 queries/sec
Query 5: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
70.5 queries/sec
Query 6: actual 35 (0.005%)  origin-forest_43.843 38 (err=1.086)  
71.4 queries/sec
Query 7: actual 2394 (0.343%)  origin-forest_43.843 2831 (err=1.183)  
76.9 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.7 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
55.6 queries/sec
Query 10: actual 205 (0.029%)  origin-forest_43.843 170 (err=1.206)  
76.9 queries/sec
Query 11: actual 150 (0.022%)  origin-forest_43.843 266 (err=1.773)  
71.4 queries/sec
Query 12: actual 899 (0.129%)  origin-forest_43.843 9 (err=99.889)  
76.0 queries/sec
Query 13: actual 570 (0.082%)  origin-forest_43.843 546 (err=1.044)  
71.4 queries/sec
Query 14: actual 1243 (0.178%)  origin-forest_43.843 775 (err=1.604)  
80.5 queries/sec
Query 15: actual 9 (0.001%)  origin-forest_43.843 3 (err=3.000)  
80.8 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
70.0 queries/sec
Query 17: actual 3057 (0.438%)  origin-forest_43.843 2700 (err=1.132)  
76.9 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 19: actual 9911 (1.422%)  origin-forest_43.843 1873 (err=5.292)  
71.4 queries/sec
Query 20: actual 7197 (1.032%)  origin-forest_43.843 8372 (err=1.163)  
83.1 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
73.8 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 23: actual 5 (0.001%)  origin-forest_43.843 1 (err=5.000)  
71.4 queries/sec
Query 24: actual 30 (0.004%)  origin-forest_43.843 32 (err=1.067)  
71.4 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.7 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
64.5 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 29: actual 3769 (0.541%)  origin-forest_43.843 2433 (err=1.549)  
83.3 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
66.7 queries/sec
Query 31: actual 75 (0.011%)  origin-forest_43.843 423 (err=5.640)  
83.3 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 33: actual 15 (0.002%)  origin-forest_43.843 2 (err=7.500)  
90.9 queries/sec
Query 34: actual 55 (0.008%)  origin-forest_43.843 1 (err=55.000)  
83.3 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
68.9 queries/sec
Query 36: actual 2566 (0.368%)  origin-forest_43.843 1105 (err=2.322)  
83.3 queries/sec
Query 37: actual 20 (0.003%)  origin-forest_43.843 1 (err=20.000)  
71.4 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.7 queries/sec
Query 40: actual 28 (0.004%)  origin-forest_43.843 31 (err=1.107)  
71.4 queries/sec
Query 41: actual 178 (0.026%)  origin-forest_43.843 20 (err=8.900)  
66.6 queries/sec
Query 42: actual 136 (0.020%)  origin-forest_43.843 1 (err=136.000)  
64.5 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 46: actual 724 (0.104%)  origin-forest_43.843 715 (err=1.013)  
76.9 queries/sec
Query 47: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
76.9 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
73.6 queries/sec
Query 49: actual 4 (0.001%)  origin-forest_43.843 7 (err=1.750)  
origin-forest_43.843 	max: 136.0000	99th: 118.3056	95th: 58.8500	median: 1.1197	mean: 9.3744
max_err 136.0
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 49/50 | Workload-time: 4.604274 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 50/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.1s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
32.3 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 2: actual 62 (0.009%)  origin-forest_43.843 1 (err=62.000)  
65.8 queries/sec
Query 3: actual 6 (0.001%)  origin-forest_43.843 9 (err=1.500)  
71.4 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 5: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
83.3 queries/sec
Query 6: actual 35 (0.005%)  origin-forest_43.843 32 (err=1.094)  
90.9 queries/sec
Query 7: actual 2394 (0.343%)  origin-forest_43.843 3515 (err=1.468)  
76.9 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.5 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
76.9 queries/sec
Query 10: actual 205 (0.029%)  origin-forest_43.843 167 (err=1.228)  
86.9 queries/sec
Query 11: actual 150 (0.022%)  origin-forest_43.843 278 (err=1.853)  
83.3 queries/sec
Query 12: actual 899 (0.129%)  origin-forest_43.843 8 (err=112.375)  
76.9 queries/sec
Query 13: actual 570 (0.082%)  origin-forest_43.843 434 (err=1.313)  
76.9 queries/sec
Query 14: actual 1243 (0.178%)  origin-forest_43.843 790 (err=1.573)  
83.3 queries/sec
Query 15: actual 9 (0.001%)  origin-forest_43.843 3 (err=3.000)  
76.9 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 17: actual 3057 (0.438%)  origin-forest_43.843 3282 (err=1.074)  
71.4 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
73.9 queries/sec
Query 19: actual 9911 (1.422%)  origin-forest_43.843 2038 (err=4.863)  
83.3 queries/sec
Query 20: actual 7197 (1.032%)  origin-forest_43.843 8333 (err=1.158)  
91.0 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 23: actual 5 (0.001%)  origin-forest_43.843 1 (err=5.000)  
83.3 queries/sec
Query 24: actual 30 (0.004%)  origin-forest_43.843 29 (err=1.034)  
90.9 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
74.0 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 29: actual 3769 (0.541%)  origin-forest_43.843 2565 (err=1.469)  
71.4 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
55.5 queries/sec
Query 31: actual 75 (0.011%)  origin-forest_43.843 412 (err=5.493)  
66.7 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 33: actual 15 (0.002%)  origin-forest_43.843 3 (err=5.000)  
86.9 queries/sec
Query 34: actual 55 (0.008%)  origin-forest_43.843 1 (err=55.000)  
83.3 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.7 queries/sec
Query 36: actual 2566 (0.368%)  origin-forest_43.843 989 (err=2.595)  
83.3 queries/sec
Query 37: actual 20 (0.003%)  origin-forest_43.843 1 (err=20.000)  
83.3 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 40: actual 28 (0.004%)  origin-forest_43.843 29 (err=1.036)  
76.9 queries/sec
Query 41: actual 178 (0.026%)  origin-forest_43.843 23 (err=7.739)  
86.9 queries/sec
Query 42: actual 136 (0.020%)  origin-forest_43.843 1 (err=136.000)  
76.9 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 46: actual 724 (0.104%)  origin-forest_43.843 649 (err=1.116)  
71.4 queries/sec
Query 47: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
76.9 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
74.0 queries/sec
Query 49: actual 4 (0.001%)  origin-forest_43.843 7 (err=1.750)  
origin-forest_43.843 	max: 136.0000	99th: 124.4237	95th: 58.8500	median: 1.1367	mean: 9.5546
max_err 136.0
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 50/50 | Workload-time: 4.523066 | Model-update-time: 0.000000





Experiment Summary: #drift=18 | total-time=630.228727

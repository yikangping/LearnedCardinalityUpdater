Input arguments = Namespace(data_update='single', dataset='forest', debug=False, drift_test='js', model_update='adapt', model='naru', random_seed=42, num_workload=50)
MODEL-PATH=F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
DATASET-PATH=F:\DBGroup\LearnedCardinalityUpdater\data\forest\end2end\forest.npy
Workload weights: query=15, data-update=10
Workloads: ['QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'QueryWorkload', 'QueryWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'DataUpdateWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'QueryWorkload', 'QueryWorkload', 'QueryWorkload', 'QueryWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'DataUpdateWorkload', 'DataUpdateWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'QueryWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'QueryWorkload', 'QueryWorkload', 'QueryWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'QueryWorkload', 'QueryWorkload', 'QueryWorkload']



WORKLOAD-START | Type: QueryWorkload | Progress: 1/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
40.8 queries/sec
Query 1: actual 5561 (0.798%)  origin-forest_43.843 5024 (err=1.107)  
83.3 queries/sec
Query 2: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 3: actual 59 (0.008%)  origin-forest_43.843 42 (err=1.405)  
76.9 queries/sec
Query 4: actual 8 (0.001%)  origin-forest_43.843 3 (err=2.667)  
90.9 queries/sec
Query 5: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 6: actual 384 (0.055%)  origin-forest_43.843 397 (err=1.034)  
90.9 queries/sec
Query 7: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 8: actual 703 (0.101%)  origin-forest_43.843 316 (err=2.225)  
95.1 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 10: actual 67 (0.010%)  origin-forest_43.843 72 (err=1.075)  
76.9 queries/sec
Query 11: actual 66 (0.009%)  origin-forest_43.843 1 (err=66.000)  
76.9 queries/sec
Query 12: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 13: actual 2 (0.000%)  origin-forest_43.843 5 (err=2.500)  
83.3 queries/sec
Query 14: actual 134 (0.019%)  origin-forest_43.843 65 (err=2.062)  
83.3 queries/sec
Query 15: actual 89 (0.013%)  origin-forest_43.843 75 (err=1.187)  
83.3 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 17: actual 22 (0.003%)  origin-forest_43.843 1 (err=22.000)  
83.3 queries/sec
Query 18: actual 53 (0.008%)  origin-forest_43.843 70 (err=1.321)  
83.3 queries/sec
Query 19: actual 86 (0.012%)  origin-forest_43.843 64 (err=1.344)  
100.1 queries/sec
Query 20: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 21: actual 134 (0.019%)  origin-forest_43.843 1 (err=134.000)  
83.3 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 23: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 24: actual 395 (0.057%)  origin-forest_43.843 593 (err=1.501)  
90.9 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.9 queries/sec
Query 26: actual 14604 (2.095%)  origin-forest_43.843 15062 (err=1.031)  
83.3 queries/sec
Query 27: actual 4 (0.001%)  origin-forest_43.843 1 (err=4.000)  
83.3 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 29: actual 7 (0.001%)  origin-forest_43.843 2 (err=3.500)  
83.3 queries/sec
Query 30: actual 4 (0.001%)  origin-forest_43.843 6 (err=1.500)  
76.9 queries/sec
Query 31: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 33: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 34: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 35: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
83.3 queries/sec
Query 36: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 37: actual 86 (0.012%)  origin-forest_43.843 1 (err=86.000)  
76.9 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 39: actual 6 (0.001%)  origin-forest_43.843 3 (err=2.000)  
90.9 queries/sec
Query 40: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
76.9 queries/sec
Query 41: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 42: actual 17 (0.002%)  origin-forest_43.843 10 (err=1.700)  
90.9 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 44: actual 123 (0.018%)  origin-forest_43.843 346 (err=2.813)  
83.3 queries/sec
Query 45: actual 689 (0.099%)  origin-forest_43.843 217 (err=3.175)  
90.9 queries/sec
Query 46: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 47: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
83.3 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 49: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
origin-forest_43.843 	max: 134.0000	99th: 110.4800	95th: 46.2000	median: 1.0542	mean: 7.5229
ReportEsts: [1.0, 1.1068869426751593, 1.0, 1.4047619047619047, 2.6666666666666665, 1.0, 1.0338541666666667, 1.0, 2.2246835443037973, 1.0, 1.0746268656716418, 66.0, 1.0, 2.5, 2.0615384615384613, 1.1866666666666668, 1.0, 22.0, 1.320754716981132, 1.34375, 1.0, 134.0, 1.0, 1.0, 1.5012658227848101, 1.0, 1.031361270884689, 4.0, 1.0, 3.5, 1.5, 1.0, 1.0, 1.0, 1.0, 2.0, 1.0, 86.0, 1.0, 2.0, 2.0, 1.0, 1.7, 1.0, 2.813008130081301, 3.175115207373272, 1.0, 2.0, 1.0, 1.0]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 1/50 | Workload-time: 4.141236 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 2/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=single', '--dataset=forest', '--drift_test=js', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
SingleSample - START
SingleSample - END
load_npy_dataset_from_path - df.shape = (591012, 10)
Parsing... done, took 0.0s
Data updated!
Mean JS divergence: 0.1259
JS devergence running time: 1.1175s
Drift detection: False
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 2/50 | Workload-time: 3.276686 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 3/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
40.8 queries/sec
Query 1: actual 3 (0.000%)  origin-forest_43.843 4 (err=1.333)  
76.9 queries/sec
Query 2: actual 4 (0.001%)  origin-forest_43.843 8 (err=2.000)  
83.3 queries/sec
Query 3: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 4: actual 292 (0.042%)  origin-forest_43.843 328 (err=1.123)  
90.9 queries/sec
Query 5: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 6: actual 35874 (5.145%)  origin-forest_43.843 46177 (err=1.287)  
90.9 queries/sec
Query 7: actual 4 (0.001%)  origin-forest_43.843 23 (err=5.750)  
76.9 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.9 queries/sec
Query 9: actual 2 (0.000%)  origin-forest_43.843 3 (err=1.500)  
83.3 queries/sec
Query 10: actual 13191 (1.892%)  origin-forest_43.843 16405 (err=1.244)  
90.7 queries/sec
Query 11: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 12: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 13: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 14: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 15: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
88.1 queries/sec
Query 17: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 19: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.4 queries/sec
Query 20: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 21: actual 51 (0.007%)  origin-forest_43.843 27 (err=1.889)  
83.3 queries/sec
Query 22: actual 277 (0.040%)  origin-forest_43.843 218 (err=1.271)  
83.3 queries/sec
Query 23: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 24: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.9 queries/sec
Query 25: actual 41 (0.006%)  origin-forest_43.843 1 (err=41.000)  
83.3 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 27: actual 852 (0.122%)  origin-forest_43.843 909 (err=1.067)  
90.9 queries/sec
Query 28: actual 339109 (48.638%)  origin-forest_43.843 319550 (err=1.061)  
90.9 queries/sec
Query 29: actual 11 (0.002%)  origin-forest_43.843 5 (err=2.200)  
83.3 queries/sec
Query 30: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
83.3 queries/sec
Query 31: actual 10 (0.001%)  origin-forest_43.843 10 (err=1.000)  
76.9 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 33: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.6 queries/sec
Query 34: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 35: actual 3 (0.000%)  origin-forest_43.843 2 (err=1.500)  
90.9 queries/sec
Query 36: actual 80 (0.011%)  origin-forest_43.843 1 (err=80.000)  
83.3 queries/sec
Query 37: actual 7 (0.001%)  origin-forest_43.843 10 (err=1.429)  
90.9 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 40: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
83.3 queries/sec
Query 41: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
95.8 queries/sec
Query 42: actual 64 (0.009%)  origin-forest_43.843 1 (err=64.000)  
76.9 queries/sec
Query 43: actual 25 (0.004%)  origin-forest_43.843 38 (err=1.520)  
71.4 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 45: actual 32 (0.005%)  origin-forest_43.843 23 (err=1.391)  
90.9 queries/sec
Query 46: actual 31604 (4.533%)  origin-forest_43.843 37224 (err=1.178)  
90.9 queries/sec
Query 47: actual 44 (0.006%)  origin-forest_43.843 50 (err=1.136)  
100.0 queries/sec
Query 48: actual 56 (0.008%)  origin-forest_43.843 85 (err=1.518)  
83.3 queries/sec
Query 49: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
origin-forest_43.843 	max: 80.0000	99th: 72.1600	95th: 25.1375	median: 1.0000	mean: 4.9279
ReportEsts: [1.0, 1.3333333333333333, 2.0, 1.0, 1.1232876712328768, 1.0, 1.2871996431956292, 5.75, 1.0, 1.5, 1.243650974149041, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.8888888888888888, 1.2706422018348624, 1.0, 1.0, 41.0, 1.0, 1.0669014084507042, 1.0612079486778283, 2.2, 2.0, 1.0, 1.0, 1.0, 1.0, 1.5, 80.0, 1.4285714285714286, 1.0, 1.0, 2.0, 1.0, 64.0, 1.52, 1.0, 1.391304347826087, 1.1778255916972535, 1.1363636363636365, 1.5178571428571428, 1.0]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 3/50 | Workload-time: 4.010659 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 4/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1898 (0.272%)  origin-forest_43.843 1803 (err=1.053)  
45.1 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 2: actual 6 (0.001%)  origin-forest_43.843 4 (err=1.500)  
83.3 queries/sec
Query 3: actual 3 (0.000%)  origin-forest_43.843 2 (err=1.500)  
83.3 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
58.8 queries/sec
Query 5: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
62.5 queries/sec
Query 6: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.6 queries/sec
Query 7: actual 18 (0.003%)  origin-forest_43.843 0 (err=18.000)  
60.6 queries/sec
Query 8: actual 2479 (0.356%)  origin-forest_43.843 1299 (err=1.908)  
62.5 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
62.5 queries/sec
Query 10: actual 140 (0.020%)  origin-forest_43.843 204 (err=1.457)  
66.7 queries/sec
Query 11: actual 9575 (1.373%)  origin-forest_43.843 11790 (err=1.231)  
66.7 queries/sec
Query 12: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
62.5 queries/sec
Query 13: actual 19 (0.003%)  origin-forest_43.843 1 (err=19.000)  
57.1 queries/sec
Query 14: actual 152 (0.022%)  origin-forest_43.843 206 (err=1.355)  
66.7 queries/sec
Query 15: actual 3607 (0.517%)  origin-forest_43.843 3042 (err=1.186)  
71.4 queries/sec
Query 16: actual 515 (0.074%)  origin-forest_43.843 627 (err=1.217)  
62.5 queries/sec
Query 17: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
62.5 queries/sec
Query 18: actual 41888 (6.008%)  origin-forest_43.843 5476 (err=7.649)  
62.5 queries/sec
Query 19: actual 578 (0.083%)  origin-forest_43.843 766 (err=1.325)  
66.7 queries/sec
Query 20: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
64.4 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
58.8 queries/sec
Query 22: actual 104091 (14.930%)  origin-forest_43.843 93850 (err=1.109)  
76.9 queries/sec
Query 23: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
62.5 queries/sec
Query 24: actual 15 (0.002%)  origin-forest_43.843 1 (err=15.000)  
58.8 queries/sec
Query 25: actual 3342 (0.479%)  origin-forest_43.843 3538 (err=1.059)  
66.6 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
64.5 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.7 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
62.5 queries/sec
Query 29: actual 7 (0.001%)  origin-forest_43.843 3 (err=2.333)  
71.4 queries/sec
Query 30: actual 44825 (6.429%)  origin-forest_43.843 54484 (err=1.215)  
71.4 queries/sec
Query 31: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 32: actual 721 (0.103%)  origin-forest_43.843 417 (err=1.729)  
83.3 queries/sec
Query 33: actual 32 (0.005%)  origin-forest_43.843 1 (err=32.000)  
83.1 queries/sec
Query 34: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.0 queries/sec
Query 35: actual 6 (0.001%)  origin-forest_43.843 1 (err=6.000)  
57.8 queries/sec
Query 36: actual 882 (0.127%)  origin-forest_43.843 520 (err=1.696)  
76.9 queries/sec
Query 37: actual 691 (0.099%)  origin-forest_43.843 756 (err=1.094)  
90.9 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 39: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
76.9 queries/sec
Query 40: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
76.9 queries/sec
Query 41: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 42: actual 5 (0.001%)  origin-forest_43.843 2 (err=2.500)  
60.2 queries/sec
Query 43: actual 393 (0.056%)  origin-forest_43.843 566 (err=1.440)  
66.7 queries/sec
Query 44: actual 5277 (0.757%)  origin-forest_43.843 6409 (err=1.215)  
62.5 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 46: actual 23 (0.003%)  origin-forest_43.843 1 (err=23.000)  
76.9 queries/sec
Query 47: actual 4 (0.001%)  origin-forest_43.843 1 (err=4.000)  
83.3 queries/sec
Query 48: actual 18 (0.003%)  origin-forest_43.843 17 (err=1.059)  
86.9 queries/sec
Query 49: actual 66 (0.009%)  origin-forest_43.843 1 (err=66.000)  
origin-forest_43.843 	max: 66.0000	99th: 49.3400	95th: 21.2000	median: 1.2783	mean: 4.9166
ReportEsts: [1.052689961175818, 1.0, 1.5, 1.5, 1.0, 2.0, 1.0, 18, 1.9083910700538875, 2.0, 1.457142857142857, 1.231331592689295, 1.0, 19.0, 1.355263157894737, 1.185733070348455, 1.2174757281553399, 1.0, 7.649379108838568, 1.3252595155709344, 1.0, 1.0, 1.109120937666489, 2.0, 15.0, 1.0586475164572113, 1.0, 1.0, 1.0, 2.3333333333333335, 1.2154824316787507, 1.0, 1.7290167865707433, 32.0, 1.0, 6.0, 1.6961538461538461, 1.0940665701881331, 1.0, 2.0, 2.0, 1.0, 2.5, 1.440203562340967, 1.2145158233844988, 1.0, 23.0, 4.0, 1.0588235294117647, 66.0]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 4/50 | Workload-time: 4.120362 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 5/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=single', '--dataset=forest', '--drift_test=js', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
SingleSample - START
SingleSample - END
load_npy_dataset_from_path - df.shape = (601012, 10)
Parsing... done, took 0.0s
Data updated!
Mean JS divergence: 0.1261
JS devergence running time: 1.1353s
Drift detection: False
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 5/50 | Workload-time: 3.392683 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 6/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 184 (0.026%)  origin-forest_43.843 0 (err=184.000)  
42.5 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 2: actual 219 (0.031%)  origin-forest_43.843 196 (err=1.117)  
76.9 queries/sec
Query 3: actual 1291 (0.185%)  origin-forest_43.843 1656 (err=1.283)  
62.5 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 5: actual 4 (0.001%)  origin-forest_43.843 1 (err=4.000)  
83.3 queries/sec
Query 6: actual 40770 (5.848%)  origin-forest_43.843 41071 (err=1.007)  
90.8 queries/sec
Query 7: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 8: actual 225 (0.032%)  origin-forest_43.843 296 (err=1.316)  
90.0 queries/sec
Query 9: actual 2367 (0.339%)  origin-forest_43.843 1383 (err=1.711)  
90.9 queries/sec
Query 10: actual 168 (0.024%)  origin-forest_43.843 1 (err=168.000)  
76.9 queries/sec
Query 11: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 12: actual 21 (0.003%)  origin-forest_43.843 49 (err=2.333)  
83.3 queries/sec
Query 13: actual 52 (0.007%)  origin-forest_43.843 64 (err=1.231)  
83.4 queries/sec
Query 14: actual 58 (0.008%)  origin-forest_43.843 64 (err=1.103)  
90.9 queries/sec
Query 15: actual 113 (0.016%)  origin-forest_43.843 1 (err=113.000)  
83.3 queries/sec
Query 16: actual 18 (0.003%)  origin-forest_43.843 39 (err=2.167)  
79.9 queries/sec
Query 17: actual 456 (0.065%)  origin-forest_43.843 661 (err=1.450)  
90.9 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 19: actual 3248 (0.466%)  origin-forest_43.843 3404 (err=1.048)  
90.9 queries/sec
Query 20: actual 45 (0.006%)  origin-forest_43.843 220 (err=4.889)  
90.9 queries/sec
Query 21: actual 6 (0.001%)  origin-forest_43.843 1 (err=6.000)  
83.3 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 23: actual 411 (0.059%)  origin-forest_43.843 1 (err=411.000)  
90.8 queries/sec
Query 24: actual 25071 (3.596%)  origin-forest_43.843 13683 (err=1.832)  
90.9 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.8 queries/sec
Query 26: actual 2 (0.000%)  origin-forest_43.843 4 (err=2.000)  
90.9 queries/sec
Query 27: actual 34 (0.005%)  origin-forest_43.843 1 (err=34.000)  
83.3 queries/sec
Query 28: actual 50 (0.007%)  origin-forest_43.843 37 (err=1.351)  
90.9 queries/sec
Query 29: actual 12447 (1.785%)  origin-forest_43.843 15319 (err=1.231)  
90.9 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 31: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 33: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.9 queries/sec
Query 34: actual 280 (0.040%)  origin-forest_43.843 264 (err=1.061)  
87.9 queries/sec
Query 35: actual 56 (0.008%)  origin-forest_43.843 1 (err=56.000)  
83.0 queries/sec
Query 36: actual 7 (0.001%)  origin-forest_43.843 6 (err=1.167)  
90.9 queries/sec
Query 37: actual 6 (0.001%)  origin-forest_43.843 7 (err=1.167)  
100.0 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 39: actual 137 (0.020%)  origin-forest_43.843 2 (err=68.500)  
100.0 queries/sec
Query 40: actual 3097 (0.444%)  origin-forest_43.843 4173 (err=1.347)  
90.9 queries/sec
Query 41: actual 40283 (5.778%)  origin-forest_43.843 16721 (err=2.409)  
90.9 queries/sec
Query 42: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 46: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 47: actual 1893 (0.272%)  origin-forest_43.843 3380 (err=1.786)  
90.9 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 49: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
origin-forest_43.843 	max: 411.0000	99th: 299.7700	95th: 143.2500	median: 1.1667	mean: 21.9901
ReportEsts: [184, 1.0, 1.1173469387755102, 1.2827265685515103, 1.0, 4.0, 1.00738287956831, 1.0, 1.3155555555555556, 1.7114967462039046, 168.0, 1.0, 2.3333333333333335, 1.2307692307692308, 1.103448275862069, 113.0, 2.1666666666666665, 1.4495614035087718, 1.0, 1.0480295566502462, 4.888888888888889, 6.0, 1.0, 411.0, 1.8322736242052182, 1.0, 2.0, 34.0, 1.3513513513513513, 1.2307383305214108, 1.0, 1.0, 1.0, 1.0, 1.0606060606060606, 56.0, 1.1666666666666667, 1.1666666666666667, 1.0, 68.5, 1.3474329996771068, 2.409126248430118, 1.0, 1.0, 1.0, 1.0, 1.0, 1.7855256207078711, 1.0, 1.0]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 6/50 | Workload-time: 3.987200 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 7/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 335 (0.048%)  origin-forest_43.843 323 (err=1.037)  
43.5 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 2: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
100.0 queries/sec
Query 3: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.9 queries/sec
Query 4: actual 2984 (0.428%)  origin-forest_43.843 2386 (err=1.251)  
76.9 queries/sec
Query 5: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
58.8 queries/sec
Query 6: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
75.6 queries/sec
Query 7: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.1 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 10: actual 66205 (9.496%)  origin-forest_43.843 41715 (err=1.587)  
90.8 queries/sec
Query 11: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
82.8 queries/sec
Query 12: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 13: actual 189 (0.027%)  origin-forest_43.843 21 (err=9.000)  
90.9 queries/sec
Query 14: actual 10 (0.001%)  origin-forest_43.843 1 (err=10.000)  
83.3 queries/sec
Query 15: actual 19 (0.003%)  origin-forest_43.843 33 (err=1.737)  
90.9 queries/sec
Query 16: actual 141378 (20.278%)  origin-forest_43.843 102081 (err=1.385)  
100.0 queries/sec
Query 17: actual 19 (0.003%)  origin-forest_43.843 29 (err=1.526)  
83.3 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.7 queries/sec
Query 19: actual 145 (0.021%)  origin-forest_43.843 152 (err=1.048)  
64.5 queries/sec
Query 20: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
58.8 queries/sec
Query 21: actual 939 (0.135%)  origin-forest_43.843 867 (err=1.083)  
83.3 queries/sec
Query 22: actual 604 (0.087%)  origin-forest_43.843 497 (err=1.215)  
90.9 queries/sec
Query 23: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 24: actual 181232 (25.994%)  origin-forest_43.843 183163 (err=1.011)  
90.9 queries/sec
Query 25: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
83.4 queries/sec
Query 26: actual 17 (0.002%)  origin-forest_43.843 1 (err=17.000)  
83.3 queries/sec
Query 27: actual 386673 (55.460%)  origin-forest_43.843 376370 (err=1.027)  
95.2 queries/sec
Query 28: actual 218 (0.031%)  origin-forest_43.843 266 (err=1.220)  
76.9 queries/sec
Query 29: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
83.3 queries/sec
Query 30: actual 1893 (0.272%)  origin-forest_43.843 2000 (err=1.057)  
83.3 queries/sec
Query 31: actual 4 (0.001%)  origin-forest_43.843 4 (err=1.000)  
83.3 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 33: actual 28 (0.004%)  origin-forest_43.843 24 (err=1.167)  
83.3 queries/sec
Query 34: actual 82 (0.012%)  origin-forest_43.843 1 (err=82.000)  
83.3 queries/sec
Query 35: actual 75224 (10.789%)  origin-forest_43.843 74324 (err=1.012)  
90.9 queries/sec
Query 36: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 37: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 38: actual 2066 (0.296%)  origin-forest_43.843 2852 (err=1.380)  
90.9 queries/sec
Query 39: actual 12 (0.002%)  origin-forest_43.843 14 (err=1.167)  
90.9 queries/sec
Query 40: actual 23 (0.003%)  origin-forest_43.843 22 (err=1.045)  
90.9 queries/sec
Query 41: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 42: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 43: actual 164 (0.024%)  origin-forest_43.843 158 (err=1.038)  
90.8 queries/sec
Query 44: actual 9007 (1.292%)  origin-forest_43.843 10359 (err=1.150)  
79.9 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 46: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
90.9 queries/sec
Query 47: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
76.9 queries/sec
Query 48: actual 14387 (2.063%)  origin-forest_43.843 14201 (err=1.013)  
90.9 queries/sec
Query 49: actual 7656 (1.098%)  origin-forest_43.843 6217 (err=1.231)  
origin-forest_43.843 	max: 82.0000	99th: 50.1500	95th: 9.5500	median: 1.0376	mean: 3.5678
ReportEsts: [1.0371517027863777, 1.0, 1.0, 1.0, 1.250628667225482, 1.0, 1.0, 1.0, 1.0, 1.0, 1.5870789883734868, 1.0, 1.0, 9.0, 10.0, 1.736842105263158, 1.3849590031445618, 1.5263157894736843, 1.0, 1.0482758620689656, 1.0, 1.0830449826989619, 1.215291750503018, 1.0, 1.010654851240399, 2.0, 17.0, 1.027374657916412, 1.2201834862385321, 8.0, 1.0565240359218173, 1.0, 1.0, 1.1666666666666667, 82.0, 1.0121091437489909, 1.0, 1.0, 1.3804453049370764, 1.1666666666666667, 1.0454545454545454, 1.0, 1.0, 1.0379746835443038, 1.1501054735205951, 1.0, 2.0, 2.0, 1.013097669178227, 1.231462119993566]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 7/50 | Workload-time: 3.977916 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 8/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1832 (0.263%)  origin-forest_43.843 2362 (err=1.289)  
41.7 queries/sec
Query 1: actual 33175 (4.758%)  origin-forest_43.843 34916 (err=1.052)  
83.3 queries/sec
Query 2: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 3: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 4: actual 172 (0.025%)  origin-forest_43.843 106 (err=1.623)  
90.9 queries/sec
Query 5: actual 20 (0.003%)  origin-forest_43.843 1 (err=20.000)  
90.9 queries/sec
Query 6: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 7: actual 59 (0.008%)  origin-forest_43.843 1 (err=59.000)  
86.9 queries/sec
Query 8: actual 2 (0.000%)  origin-forest_43.843 2 (err=1.000)  
83.3 queries/sec
Query 9: actual 47787 (6.854%)  origin-forest_43.843 18100 (err=2.640)  
83.3 queries/sec
Query 10: actual 13073 (1.875%)  origin-forest_43.843 16110 (err=1.232)  
90.9 queries/sec
Query 11: actual 12 (0.002%)  origin-forest_43.843 8 (err=1.500)  
83.3 queries/sec
Query 12: actual 3 (0.000%)  origin-forest_43.843 1 (err=3.000)  
83.3 queries/sec
Query 13: actual 9736 (1.396%)  origin-forest_43.843 9811 (err=1.008)  
90.9 queries/sec
Query 14: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 15: actual 1442 (0.207%)  origin-forest_43.843 1808 (err=1.254)  
82.6 queries/sec
Query 16: actual 6 (0.001%)  origin-forest_43.843 3 (err=2.000)  
90.9 queries/sec
Query 17: actual 23578 (3.382%)  origin-forest_43.843 30444 (err=1.291)  
83.3 queries/sec
Query 18: actual 52 (0.007%)  origin-forest_43.843 1 (err=52.000)  
90.9 queries/sec
Query 19: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 20: actual 13 (0.002%)  origin-forest_43.843 1 (err=13.000)  
83.3 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 23: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
80.0 queries/sec
Query 24: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 26: actual 21601 (3.098%)  origin-forest_43.843 25138 (err=1.164)  
90.9 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 29: actual 15 (0.002%)  origin-forest_43.843 6 (err=2.500)  
83.3 queries/sec
Query 30: actual 65 (0.009%)  origin-forest_43.843 1 (err=65.000)  
83.3 queries/sec
Query 31: actual 1639 (0.235%)  origin-forest_43.843 2050 (err=1.251)  
90.9 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.8 queries/sec
Query 33: actual 3592 (0.515%)  origin-forest_43.843 3430 (err=1.047)  
90.9 queries/sec
Query 34: actual 508 (0.073%)  origin-forest_43.843 89 (err=5.708)  
90.9 queries/sec
Query 35: actual 120 (0.017%)  origin-forest_43.843 257 (err=2.142)  
90.9 queries/sec
Query 36: actual 6 (0.001%)  origin-forest_43.843 9 (err=1.500)  
90.9 queries/sec
Query 37: actual 96854 (13.892%)  origin-forest_43.843 107119 (err=1.106)  
83.3 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 40: actual 21 (0.003%)  origin-forest_43.843 20 (err=1.050)  
83.3 queries/sec
Query 41: actual 87 (0.012%)  origin-forest_43.843 1 (err=87.000)  
86.9 queries/sec
Query 42: actual 5160 (0.740%)  origin-forest_43.843 6569 (err=1.273)  
90.9 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 44: actual 4 (0.001%)  origin-forest_43.843 7 (err=1.750)  
83.3 queries/sec
Query 45: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
85.7 queries/sec
Query 46: actual 1 (0.000%)  origin-forest_43.843 3 (err=3.000)  
92.6 queries/sec
Query 47: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
81.4 queries/sec
Query 48: actual 11 (0.002%)  origin-forest_43.843 15 (err=1.364)  
76.9 queries/sec
Query 49: actual 24 (0.003%)  origin-forest_43.843 19 (err=1.263)  
origin-forest_43.843 	max: 87.0000	99th: 76.2200	95th: 55.8500	median: 1.2415	mean: 7.2001
ReportEsts: [1.289301310043668, 1.0524792765636775, 1.0, 1.0, 1.6226415094339623, 20.0, 1.0, 59.0, 1.0, 2.6401657458563537, 1.2323108697315077, 1.5, 3.0, 1.0077033689400163, 1.0, 1.2538141470180306, 2.0, 1.2912036644329459, 52.0, 1.0, 13.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.1637424193324384, 1.0, 1.0, 2.5, 65.0, 1.2507626601586332, 1.0, 1.0472303206997085, 5.707865168539326, 2.1416666666666666, 1.5, 1.1059842649761498, 1.0, 1.0, 1.05, 87.0, 1.2730620155038759, 1.0, 1.75, 2.0, 3.0, 1.0, 1.3636363636363635, 1.263157894736842]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 8/50 | Workload-time: 3.928046 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 9/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 28 (0.004%)  origin-forest_43.843 46 (err=1.643)  
35.7 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.7 queries/sec
Query 2: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.6 queries/sec
Query 3: actual 38445 (5.514%)  origin-forest_43.843 13171 (err=2.919)  
64.5 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
45.5 queries/sec
Query 5: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
58.8 queries/sec
Query 6: actual 61640 (8.841%)  origin-forest_43.843 73169 (err=1.187)  
66.7 queries/sec
Query 7: actual 20 (0.003%)  origin-forest_43.843 2 (err=10.000)  
66.7 queries/sec
Query 8: actual 927 (0.133%)  origin-forest_43.843 1181 (err=1.274)  
66.7 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
62.1 queries/sec
Query 10: actual 1231 (0.177%)  origin-forest_43.843 917 (err=1.342)  
70.8 queries/sec
Query 11: actual 21076 (3.023%)  origin-forest_43.843 25187 (err=1.195)  
78.4 queries/sec
Query 12: actual 61 (0.009%)  origin-forest_43.843 0 (err=61.000)  
62.5 queries/sec
Query 13: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
62.5 queries/sec
Query 14: actual 133 (0.019%)  origin-forest_43.843 90 (err=1.478)  
71.4 queries/sec
Query 15: actual 12 (0.002%)  origin-forest_43.843 4 (err=3.000)  
76.9 queries/sec
Query 16: actual 491 (0.070%)  origin-forest_43.843 400 (err=1.228)  
74.0 queries/sec
Query 17: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 19: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 20: actual 151 (0.022%)  origin-forest_43.843 2 (err=75.500)  
83.4 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 23: actual 3 (0.000%)  origin-forest_43.843 2 (err=1.500)  
90.9 queries/sec
Query 24: actual 218 (0.031%)  origin-forest_43.843 255 (err=1.170)  
90.8 queries/sec
Query 25: actual 150795 (21.628%)  origin-forest_43.843 137474 (err=1.097)  
90.9 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 27: actual 18 (0.003%)  origin-forest_43.843 40 (err=2.222)  
90.9 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
83.3 queries/sec
Query 29: actual 321 (0.046%)  origin-forest_43.843 53 (err=6.057)  
83.3 queries/sec
Query 30: actual 80 (0.011%)  origin-forest_43.843 92 (err=1.150)  
76.9 queries/sec
Query 31: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 32: actual 195 (0.028%)  origin-forest_43.843 114 (err=1.711)  
70.9 queries/sec
Query 33: actual 6 (0.001%)  origin-forest_43.843 7 (err=1.167)  
62.5 queries/sec
Query 34: actual 217 (0.031%)  origin-forest_43.843 1 (err=217.000)  
71.4 queries/sec
Query 35: actual 6 (0.001%)  origin-forest_43.843 1 (err=6.000)  
66.7 queries/sec
Query 36: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
62.5 queries/sec
Query 37: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.7 queries/sec
Query 38: actual 3 (0.000%)  origin-forest_43.843 1 (err=3.000)  
58.8 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
64.4 queries/sec
Query 40: actual 151 (0.022%)  origin-forest_43.843 178 (err=1.179)  
71.4 queries/sec
Query 41: actual 7493 (1.075%)  origin-forest_43.843 9396 (err=1.254)  
66.7 queries/sec
Query 42: actual 127990 (18.357%)  origin-forest_43.843 90621 (err=1.412)  
76.9 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
62.5 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
58.8 queries/sec
Query 45: actual 166 (0.024%)  origin-forest_43.843 189 (err=1.139)  
68.9 queries/sec
Query 46: actual 31 (0.004%)  origin-forest_43.843 41 (err=1.323)  
71.4 queries/sec
Query 47: actual 376 (0.054%)  origin-forest_43.843 608 (err=1.617)  
66.7 queries/sec
Query 48: actual 6481 (0.930%)  origin-forest_43.843 5982 (err=1.083)  
62.5 queries/sec
Query 49: actual 59239 (8.497%)  origin-forest_43.843 70848 (err=1.196)  
origin-forest_43.843 	max: 217.0000	99th: 147.6650	95th: 38.0500	median: 1.1910	mean: 8.7008
ReportEsts: [1.6428571428571428, 1.0, 1.0, 2.9189127628881635, 1.0, 1.0, 1.1870376378974692, 10.0, 1.274002157497303, 1.0, 1.3424209378407852, 1.1950559878534825, 61, 1.0, 1.4777777777777779, 3.0, 1.2275, 1.0, 1.0, 1.0, 75.5, 1.0, 1.0, 1.5, 1.1697247706422018, 1.0968983225919082, 1.0, 2.2222222222222223, 2.0, 6.056603773584905, 1.15, 1.0, 1.7105263157894737, 1.1666666666666667, 217.0, 6.0, 2.0, 1.0, 3.0, 1.0, 1.1788079470198676, 1.2539703723475244, 1.412365787179572, 1.0, 1.0, 1.1385542168674698, 1.3225806451612903, 1.6170212765957446, 1.0834169174189234, 1.1959688718580666]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 9/50 | Workload-time: 4.242592 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 10/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=single', '--dataset=forest', '--drift_test=js', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
SingleSample - START
SingleSample - END
load_npy_dataset_from_path - df.shape = (611012, 10)
Parsing... done, took 0.0s
Data updated!
Mean JS divergence: 0.1262
JS devergence running time: 1.3099s
Drift detection: False
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 10/50 | Workload-time: 3.534899 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 11/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 5 (0.001%)  origin-forest_43.843 6 (err=1.200)  
33.2 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.7 queries/sec
Query 2: actual 5 (0.001%)  origin-forest_43.843 3 (err=1.667)  
62.5 queries/sec
Query 3: actual 9 (0.001%)  origin-forest_43.843 16 (err=1.778)  
66.7 queries/sec
Query 4: actual 1291 (0.185%)  origin-forest_43.843 4068 (err=3.151)  
66.7 queries/sec
Query 5: actual 20 (0.003%)  origin-forest_43.843 12 (err=1.667)  
71.4 queries/sec
Query 6: actual 21 (0.003%)  origin-forest_43.843 37 (err=1.762)  
62.5 queries/sec
Query 7: actual 2 (0.000%)  origin-forest_43.843 2 (err=1.000)  
60.6 queries/sec
Query 8: actual 34317 (4.922%)  origin-forest_43.843 36881 (err=1.075)  
76.9 queries/sec
Query 9: actual 187 (0.027%)  origin-forest_43.843 76 (err=2.461)  
71.4 queries/sec
Query 10: actual 12 (0.002%)  origin-forest_43.843 5 (err=2.400)  
71.4 queries/sec
Query 11: actual 461 (0.066%)  origin-forest_43.843 393 (err=1.173)  
76.9 queries/sec
Query 12: actual 90 (0.013%)  origin-forest_43.843 174 (err=1.933)  
83.3 queries/sec
Query 13: actual 37 (0.005%)  origin-forest_43.843 1 (err=37.000)  
71.4 queries/sec
Query 14: actual 23994 (3.441%)  origin-forest_43.843 27781 (err=1.158)  
86.9 queries/sec
Query 15: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
71.4 queries/sec
Query 16: actual 131 (0.019%)  origin-forest_43.843 144 (err=1.099)  
83.3 queries/sec
Query 17: actual 6 (0.001%)  origin-forest_43.843 6 (err=1.000)  
83.3 queries/sec
Query 18: actual 4 (0.001%)  origin-forest_43.843 3 (err=1.333)  
90.9 queries/sec
Query 19: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 20: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
83.3 queries/sec
Query 21: actual 125 (0.018%)  origin-forest_43.843 1 (err=125.000)  
83.3 queries/sec
Query 22: actual 1808 (0.259%)  origin-forest_43.843 1 (err=1808.000)  
86.9 queries/sec
Query 23: actual 533 (0.076%)  origin-forest_43.843 602 (err=1.129)  
83.3 queries/sec
Query 24: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 25: actual 3 (0.000%)  origin-forest_43.843 3 (err=1.000)  
90.9 queries/sec
Query 26: actual 116 (0.017%)  origin-forest_43.843 0 (err=116.000)  
83.3 queries/sec
Query 27: actual 547289 (78.497%)  origin-forest_43.843 550095 (err=1.005)  
90.9 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 29: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 30: actual 9155 (1.313%)  origin-forest_43.843 5873 (err=1.559)  
86.1 queries/sec
Query 31: actual 18764 (2.691%)  origin-forest_43.843 25002 (err=1.332)  
86.8 queries/sec
Query 32: actual 170 (0.024%)  origin-forest_43.843 4 (err=42.500)  
83.3 queries/sec
Query 33: actual 12244 (1.756%)  origin-forest_43.843 16036 (err=1.310)  
100.0 queries/sec
Query 34: actual 21 (0.003%)  origin-forest_43.843 34 (err=1.619)  
83.3 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 36: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 37: actual 5 (0.001%)  origin-forest_43.843 3 (err=1.667)  
83.3 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 39: actual 67 (0.010%)  origin-forest_43.843 40 (err=1.675)  
86.8 queries/sec
Query 40: actual 30444 (4.367%)  origin-forest_43.843 36851 (err=1.210)  
90.9 queries/sec
Query 41: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
76.9 queries/sec
Query 42: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 44: actual 36377 (5.217%)  origin-forest_43.843 47039 (err=1.293)  
90.9 queries/sec
Query 45: actual 3 (0.000%)  origin-forest_43.843 1 (err=3.000)  
90.9 queries/sec
Query 46: actual 90 (0.013%)  origin-forest_43.843 1 (err=90.000)  
83.3 queries/sec
Query 47: actual 127 (0.018%)  origin-forest_43.843 246 (err=1.937)  
83.3 queries/sec
Query 48: actual 388234 (55.684%)  origin-forest_43.843 381525 (err=1.018)  
68.9 queries/sec
Query 49: actual 520 (0.075%)  origin-forest_43.843 664 (err=1.277)  
origin-forest_43.843 	max: 1808.0000	99th: 983.3300	95th: 104.3000	median: 1.3211	mean: 45.6477
ReportEsts: [1.2, 1.0, 1.6666666666666667, 1.7777777777777777, 3.1510457010069715, 1.6666666666666667, 1.7619047619047619, 1.0, 1.074715155753708, 2.460526315789474, 2.4, 1.173027989821883, 1.9333333333333333, 37.0, 1.1578311244477786, 2.0, 1.099236641221374, 1.0, 1.3333333333333333, 1.0, 2.0, 125.0, 1808.0, 1.129455909943715, 1.0, 1.0, 116, 1.0051270900748965, 1.0, 1.0, 1.5588285373744253, 1.3324451076529524, 42.5, 1.309702711532179, 1.619047619047619, 1.0, 1.0, 1.6666666666666667, 1.0, 1.675, 1.21045197740113, 2.0, 1.0, 1.0, 1.2930972867471204, 3.0, 90.0, 1.937007874015748, 1.0175846930083219, 1.2769230769230768]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 11/50 | Workload-time: 4.099992 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 12/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=single', '--dataset=forest', '--drift_test=js', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
SingleSample - START
SingleSample - END
load_npy_dataset_from_path - df.shape = (621012, 10)
Parsing... done, took 0.0s
Data updated!
Mean JS divergence: 0.1267
JS devergence running time: 1.1896s
Drift detection: False
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 12/50 | Workload-time: 3.335002 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 13/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=single', '--dataset=forest', '--drift_test=js', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
SingleSample - START
SingleSample - END
load_npy_dataset_from_path - df.shape = (631012, 10)
Parsing... done, took 0.0s
Data updated!
Mean JS divergence: 0.1269
JS devergence running time: 1.1835s
Drift detection: False
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 13/50 | Workload-time: 3.294570 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 14/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=single', '--dataset=forest', '--drift_test=js', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
SingleSample - START
SingleSample - END
load_npy_dataset_from_path - df.shape = (641012, 10)
Parsing... done, took 0.0s
Data updated!
Mean JS divergence: 0.1274
JS devergence running time: 1.2009s
Drift detection: True
[0m
DRIFT-DETECTED after 14-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=adapt']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
AdaptTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (641012, 10)
Parsing... done, took 0.0s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.1s
dataset size: 641012
train data shape: torch.Size([10000, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 45.4248 bits (loss 63.229, data 17.804) 0.00100 lr
epoch 9 train loss 43.3961 nats / 62.6074 bits
time since start: 8.7 secs
Epoch 10 Iter 0, train entropy gap 44.8220 bits (loss 62.626, data 17.804) 0.00082 lr
epoch 19 train loss 43.1896 nats / 62.3094 bits
time since start: 16.3 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 41.8736 nats / 60.4109 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
AdaptTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 14/50 | Workload-time: 3.402121 | Model-update-time: 19.662793


WORKLOAD-START | Type: QueryWorkload | Progress: 15/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 42 (0.006%)  origin-forest_43.843 41 (err=1.024)  
41.6 queries/sec
Query 1: actual 10 (0.001%)  origin-forest_43.843 17 (err=1.700)  
76.9 queries/sec
Query 2: actual 58583 (8.402%)  origin-forest_43.843 77117 (err=1.316)  
86.9 queries/sec
Query 3: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 5: actual 21 (0.003%)  origin-forest_43.843 7 (err=3.000)  
90.9 queries/sec
Query 6: actual 63 (0.009%)  origin-forest_43.843 390 (err=6.190)  
83.3 queries/sec
Query 7: actual 12 (0.002%)  origin-forest_43.843 15 (err=1.250)  
83.3 queries/sec
Query 8: actual 23 (0.003%)  origin-forest_43.843 5 (err=4.600)  
83.3 queries/sec
Query 9: actual 3 (0.000%)  origin-forest_43.843 1 (err=3.000)  
90.8 queries/sec
Query 10: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 11: actual 108 (0.015%)  origin-forest_43.843 1 (err=108.000)  
83.3 queries/sec
Query 12: actual 55 (0.008%)  origin-forest_43.843 57 (err=1.036)  
90.9 queries/sec
Query 13: actual 160379 (23.003%)  origin-forest_43.843 185527 (err=1.157)  
90.9 queries/sec
Query 14: actual 31 (0.004%)  origin-forest_43.843 1 (err=31.000)  
83.3 queries/sec
Query 15: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 16: actual 47 (0.007%)  origin-forest_43.843 1 (err=47.000)  
83.3 queries/sec
Query 17: actual 10266 (1.472%)  origin-forest_43.843 12079 (err=1.177)  
90.9 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 19: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 20: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 22: actual 44 (0.006%)  origin-forest_43.843 40 (err=1.100)  
90.9 queries/sec
Query 23: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 24: actual 35 (0.005%)  origin-forest_43.843 8 (err=4.375)  
90.9 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 26: actual 192 (0.028%)  origin-forest_43.843 117 (err=1.641)  
83.3 queries/sec
Query 27: actual 25 (0.004%)  origin-forest_43.843 32 (err=1.280)  
86.8 queries/sec
Query 28: actual 285 (0.041%)  origin-forest_43.843 267 (err=1.067)  
81.9 queries/sec
Query 29: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.4 queries/sec
Query 30: actual 3 (0.000%)  origin-forest_43.843 1 (err=3.000)  
90.9 queries/sec
Query 31: actual 5 (0.001%)  origin-forest_43.843 1 (err=5.000)  
83.3 queries/sec
Query 32: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
83.3 queries/sec
Query 33: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 34: actual 73 (0.010%)  origin-forest_43.843 1 (err=73.000)  
76.9 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 36: actual 63040 (9.042%)  origin-forest_43.843 79100 (err=1.255)  
95.1 queries/sec
Query 37: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 38: actual 88 (0.013%)  origin-forest_43.843 119 (err=1.352)  
83.3 queries/sec
Query 39: actual 361 (0.052%)  origin-forest_43.843 400 (err=1.108)  
83.3 queries/sec
Query 40: actual 161 (0.023%)  origin-forest_43.843 1 (err=161.000)  
90.9 queries/sec
Query 41: actual 27 (0.004%)  origin-forest_43.843 204 (err=7.556)  
90.9 queries/sec
Query 42: actual 153 (0.022%)  origin-forest_43.843 1 (err=153.000)  
83.3 queries/sec
Query 43: actual 204 (0.029%)  origin-forest_43.843 133 (err=1.534)  
100.0 queries/sec
Query 44: actual 288 (0.041%)  origin-forest_43.843 459 (err=1.594)  
80.0 queries/sec
Query 45: actual 1016 (0.146%)  origin-forest_43.843 930 (err=1.092)  
83.3 queries/sec
Query 46: actual 288 (0.041%)  origin-forest_43.843 8 (err=36.000)  
83.3 queries/sec
Query 47: actual 1445 (0.207%)  origin-forest_43.843 1568 (err=1.085)  
83.3 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 49: actual 52 (0.007%)  origin-forest_43.843 114 (err=2.192)  
origin-forest_43.843 	max: 161.0000	99th: 157.0800	95th: 92.2500	median: 1.2524	mean: 13.7537
ReportEsts: [1.024390243902439, 1.7, 1.3163716436508885, 1.0, 1.0, 3.0, 6.190476190476191, 1.25, 4.6, 3.0, 1.0, 108.0, 1.0363636363636364, 1.1568035715399148, 31.0, 1.0, 47.0, 1.1766023767777127, 1.0, 1.0, 1.0, 1.0, 1.1, 1.0, 4.375, 1.0, 1.641025641025641, 1.28, 1.0674157303370786, 1.0, 3.0, 5.0, 2.0, 1.0, 73.0, 1.0, 1.2547588832487309, 1.0, 1.3522727272727273, 1.10803324099723, 161.0, 7.555555555555555, 153.0, 1.5338345864661653, 1.59375, 1.09247311827957, 36.0, 1.085121107266436, 1.0, 2.1923076923076925]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 15/50 | Workload-time: 3.995685 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 16/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=single', '--dataset=forest', '--drift_test=js', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
SingleSample - START
SingleSample - END
load_npy_dataset_from_path - df.shape = (651012, 10)
Parsing... done, took 0.0s
Data updated!
Mean JS divergence: 0.1277
JS devergence running time: 1.2528s
Drift detection: True
[0m
DRIFT-DETECTED after 16-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=adapt']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
AdaptTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (651012, 10)
Parsing... done, took 0.0s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.1s
dataset size: 651012
train data shape: torch.Size([10000, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 44.6723 bits (loss 62.254, data 17.582) 0.00100 lr
epoch 9 train loss 42.8506 nats / 61.8203 bits
time since start: 8.4 secs
Epoch 10 Iter 0, train entropy gap 44.1363 bits (loss 61.718, data 17.582) 0.00082 lr
epoch 19 train loss 42.6587 nats / 61.5436 bits
time since start: 16.0 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 38.9186 nats / 56.1477 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
AdaptTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 16/50 | Workload-time: 3.410206 | Model-update-time: 19.236017


WORKLOAD-START | Type: QueryWorkload | Progress: 17/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
35.1 queries/sec
Query 1: actual 214 (0.031%)  origin-forest_43.843 1 (err=214.000)  
76.9 queries/sec
Query 2: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 3: actual 55 (0.008%)  origin-forest_43.843 1 (err=55.000)  
90.9 queries/sec
Query 4: actual 3403 (0.488%)  origin-forest_43.843 2524 (err=1.348)  
90.9 queries/sec
Query 5: actual 623 (0.089%)  origin-forest_43.843 640 (err=1.027)  
90.9 queries/sec
Query 6: actual 13 (0.002%)  origin-forest_43.843 11 (err=1.182)  
83.3 queries/sec
Query 7: actual 3 (0.000%)  origin-forest_43.843 2 (err=1.500)  
86.9 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 9: actual 52 (0.007%)  origin-forest_43.843 61 (err=1.173)  
90.9 queries/sec
Query 10: actual 1674 (0.240%)  origin-forest_43.843 2185 (err=1.305)  
90.9 queries/sec
Query 11: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 12: actual 14 (0.002%)  origin-forest_43.843 1 (err=14.000)  
83.3 queries/sec
Query 13: actual 1191 (0.171%)  origin-forest_43.843 1049 (err=1.135)  
90.9 queries/sec
Query 14: actual 604 (0.087%)  origin-forest_43.843 827 (err=1.369)  
90.9 queries/sec
Query 15: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
67.5 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
77.8 queries/sec
Query 17: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 18: actual 30 (0.004%)  origin-forest_43.843 62 (err=2.067)  
90.9 queries/sec
Query 19: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.2 queries/sec
Query 20: actual 2569 (0.368%)  origin-forest_43.843 3067 (err=1.194)  
90.9 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 23: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 24: actual 18870 (2.706%)  origin-forest_43.843 20385 (err=1.080)  
86.9 queries/sec
Query 25: actual 2846 (0.408%)  origin-forest_43.843 3424 (err=1.203)  
90.9 queries/sec
Query 26: actual 6943 (0.996%)  origin-forest_43.843 998 (err=6.957)  
83.3 queries/sec
Query 27: actual 18582 (2.665%)  origin-forest_43.843 21908 (err=1.179)  
90.9 queries/sec
Query 28: actual 3190 (0.458%)  origin-forest_43.843 3865 (err=1.212)  
83.3 queries/sec
Query 29: actual 71 (0.010%)  origin-forest_43.843 121 (err=1.704)  
90.9 queries/sec
Query 30: actual 13 (0.002%)  origin-forest_43.843 18 (err=1.385)  
90.9 queries/sec
Query 31: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 32: actual 9 (0.001%)  origin-forest_43.843 8 (err=1.125)  
90.9 queries/sec
Query 33: actual 279 (0.040%)  origin-forest_43.843 4 (err=69.750)  
86.8 queries/sec
Query 34: actual 34855 (4.999%)  origin-forest_43.843 43231 (err=1.240)  
90.9 queries/sec
Query 35: actual 23 (0.003%)  origin-forest_43.843 16 (err=1.438)  
90.9 queries/sec
Query 36: actual 6 (0.001%)  origin-forest_43.843 7 (err=1.167)  
83.3 queries/sec
Query 37: actual 4 (0.001%)  origin-forest_43.843 5 (err=1.250)  
83.3 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 40: actual 71772 (10.294%)  origin-forest_43.843 63897 (err=1.123)  
99.9 queries/sec
Query 41: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.9 queries/sec
Query 42: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 43: actual 40 (0.006%)  origin-forest_43.843 19 (err=2.105)  
83.3 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 45: actual 4 (0.001%)  origin-forest_43.843 3 (err=1.333)  
83.3 queries/sec
Query 46: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 47: actual 27 (0.004%)  origin-forest_43.843 2 (err=13.500)  
90.9 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 49: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
origin-forest_43.843 	max: 214.0000	99th: 143.3175	95th: 36.5500	median: 1.1510	mean: 8.5010
ReportEsts: [1.0, 214.0, 1.0, 55.0, 1.348256735340729, 1.0272873194221508, 1.1818181818181819, 1.5, 1.0, 1.1730769230769231, 1.3052568697729987, 1.0, 14.0, 1.1353670162059104, 1.369205298013245, 1.0, 1.0, 1.0, 2.066666666666667, 1.0, 1.193849746983262, 1.0, 1.0, 1.0, 1.0802861685214626, 1.2030920590302179, 6.956913827655311, 1.1789904208373696, 1.2115987460815048, 1.704225352112676, 1.3846153846153846, 1.0, 1.125, 69.75, 1.240309855114044, 1.4375, 1.1666666666666667, 1.25, 1.0, 1.0, 1.1232452227804122, 1.0, 1.0, 2.1052631578947367, 1.0, 1.3333333333333333, 1.0, 13.5, 1.0, 1.0]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 17/50 | Workload-time: 4.022408 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 18/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 3155 (0.453%)  origin-forest_43.843 1089 (err=2.897)  
44.3 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 2: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
74.0 queries/sec
Query 3: actual 4130 (0.592%)  origin-forest_43.843 4571 (err=1.107)  
90.9 queries/sec
Query 4: actual 43 (0.006%)  origin-forest_43.843 30 (err=1.433)  
90.9 queries/sec
Query 5: actual 60 (0.009%)  origin-forest_43.843 64 (err=1.067)  
83.3 queries/sec
Query 6: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 7: actual 32710 (4.692%)  origin-forest_43.843 25761 (err=1.270)  
90.8 queries/sec
Query 8: actual 47 (0.007%)  origin-forest_43.843 51 (err=1.085)  
83.4 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 10: actual 178 (0.026%)  origin-forest_43.843 320 (err=1.798)  
99.5 queries/sec
Query 11: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
90.9 queries/sec
Query 12: actual 81 (0.012%)  origin-forest_43.843 82 (err=1.012)  
83.4 queries/sec
Query 13: actual 356 (0.051%)  origin-forest_43.843 28 (err=12.714)  
83.3 queries/sec
Query 14: actual 207 (0.030%)  origin-forest_43.843 1 (err=207.000)  
90.9 queries/sec
Query 15: actual 1597 (0.229%)  origin-forest_43.843 2346 (err=1.469)  
90.9 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 17: actual 15 (0.002%)  origin-forest_43.843 17 (err=1.133)  
83.3 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 19: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
86.9 queries/sec
Query 20: actual 15 (0.002%)  origin-forest_43.843 8 (err=1.875)  
90.9 queries/sec
Query 21: actual 157 (0.023%)  origin-forest_43.843 87 (err=1.805)  
100.0 queries/sec
Query 22: actual 110401 (15.835%)  origin-forest_43.843 127774 (err=1.157)  
83.3 queries/sec
Query 23: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 24: actual 713 (0.102%)  origin-forest_43.843 1 (err=713.000)  
90.9 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 26: actual 38 (0.005%)  origin-forest_43.843 1 (err=38.000)  
90.9 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
80.0 queries/sec
Query 29: actual 50 (0.007%)  origin-forest_43.843 1 (err=50.000)  
90.6 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
83.6 queries/sec
Query 31: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
82.7 queries/sec
Query 32: actual 497 (0.071%)  origin-forest_43.843 641 (err=1.290)  
90.9 queries/sec
Query 33: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 34: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 36: actual 1043 (0.150%)  origin-forest_43.843 707 (err=1.475)  
86.9 queries/sec
Query 37: actual 4 (0.001%)  origin-forest_43.843 6 (err=1.500)  
90.9 queries/sec
Query 38: actual 141 (0.020%)  origin-forest_43.843 64 (err=2.203)  
83.3 queries/sec
Query 39: actual 190 (0.027%)  origin-forest_43.843 93 (err=2.043)  
90.9 queries/sec
Query 40: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 41: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 42: actual 5740 (0.823%)  origin-forest_43.843 4742 (err=1.210)  
90.9 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 44: actual 21 (0.003%)  origin-forest_43.843 22 (err=1.048)  
90.9 queries/sec
Query 45: actual 5568 (0.799%)  origin-forest_43.843 8620 (err=1.548)  
95.2 queries/sec
Query 46: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 47: actual 3 (0.000%)  origin-forest_43.843 0 (err=3.000)  
76.9 queries/sec
Query 48: actual 16 (0.002%)  origin-forest_43.843 49 (err=3.062)  
90.9 queries/sec
Query 49: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
origin-forest_43.843 	max: 713.0000	99th: 465.0600	95th: 44.6000	median: 1.1453	mean: 21.6640
ReportEsts: [2.8971533516988064, 1.0, 1.0, 1.1067796610169491, 1.4333333333333333, 1.0666666666666667, 1.0, 1.2697488451535266, 1.0851063829787233, 1.0, 1.797752808988764, 2.0, 1.0123456790123457, 12.714285714285714, 207.0, 1.4690043832185347, 1.0, 1.1333333333333333, 1.0, 2.0, 1.875, 1.8045977011494252, 1.1573627050479616, 1.0, 713.0, 1.0, 38.0, 1.0, 1.0, 50.0, 2.0, 1.0, 1.289738430583501, 1.0, 1.0, 1.0, 1.4752475247524752, 1.5, 2.203125, 2.043010752688172, 1.0, 1.0, 1.2104597216364403, 1.0, 1.0476190476190477, 1.548132183908046, 1.0, 3, 3.0625, 1.0]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 18/50 | Workload-time: 3.968296 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 19/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.1s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 4511 (0.647%)  origin-forest_43.843 3754 (err=1.202)  
44.3 queries/sec
Query 1: actual 8 (0.001%)  origin-forest_43.843 3 (err=2.667)  
76.9 queries/sec
Query 2: actual 4102 (0.588%)  origin-forest_43.843 3724 (err=1.102)  
100.0 queries/sec
Query 3: actual 19 (0.003%)  origin-forest_43.843 1 (err=19.000)  
79.9 queries/sec
Query 4: actual 2449 (0.351%)  origin-forest_43.843 827 (err=2.961)  
83.3 queries/sec
Query 5: actual 3 (0.000%)  origin-forest_43.843 1 (err=3.000)  
83.3 queries/sec
Query 6: actual 21 (0.003%)  origin-forest_43.843 2 (err=10.500)  
83.3 queries/sec
Query 7: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 8: actual 578 (0.083%)  origin-forest_43.843 1 (err=578.000)  
83.3 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
82.1 queries/sec
Query 10: actual 26 (0.004%)  origin-forest_43.843 0 (err=26.000)  
75.5 queries/sec
Query 11: actual 453381 (65.028%)  origin-forest_43.843 442098 (err=1.026)  
90.5 queries/sec
Query 12: actual 6 (0.001%)  origin-forest_43.843 11 (err=1.833)  
83.3 queries/sec
Query 13: actual 339 (0.049%)  origin-forest_43.843 187 (err=1.813)  
90.9 queries/sec
Query 14: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 15: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.4 queries/sec
Query 17: actual 328 (0.047%)  origin-forest_43.843 2 (err=164.000)  
83.3 queries/sec
Query 18: actual 32 (0.005%)  origin-forest_43.843 30 (err=1.067)  
90.8 queries/sec
Query 19: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
80.0 queries/sec
Query 20: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 22: actual 33 (0.005%)  origin-forest_43.843 15 (err=2.200)  
90.9 queries/sec
Query 23: actual 13 (0.002%)  origin-forest_43.843 1 (err=13.000)  
76.9 queries/sec
Query 24: actual 6262 (0.898%)  origin-forest_43.843 9541 (err=1.524)  
100.0 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 26: actual 19 (0.003%)  origin-forest_43.843 11 (err=1.727)  
83.3 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 28: actual 4 (0.001%)  origin-forest_43.843 5 (err=1.250)  
95.2 queries/sec
Query 29: actual 4910 (0.704%)  origin-forest_43.843 4745 (err=1.035)  
90.9 queries/sec
Query 30: actual 76 (0.011%)  origin-forest_43.843 1 (err=76.000)  
83.3 queries/sec
Query 31: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 33: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.6 queries/sec
Query 34: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.6 queries/sec
Query 35: actual 214 (0.031%)  origin-forest_43.843 80 (err=2.675)  
83.3 queries/sec
Query 36: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 37: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.9 queries/sec
Query 38: actual 166510 (23.882%)  origin-forest_43.843 174217 (err=1.046)  
90.9 queries/sec
Query 39: actual 140 (0.020%)  origin-forest_43.843 186 (err=1.329)  
90.9 queries/sec
Query 40: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 41: actual 765 (0.110%)  origin-forest_43.843 16 (err=47.812)  
90.9 queries/sec
Query 42: actual 4 (0.001%)  origin-forest_43.843 7 (err=1.750)  
90.9 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 44: actual 6 (0.001%)  origin-forest_43.843 13 (err=2.167)  
83.3 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
80.0 queries/sec
Query 46: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
87.8 queries/sec
Query 47: actual 11862 (1.701%)  origin-forest_43.843 17100 (err=1.442)  
88.8 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
82.5 queries/sec
Query 49: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
origin-forest_43.843 	max: 578.0000	99th: 375.1400	95th: 63.3156	median: 1.0565	mean: 19.8225
ReportEsts: [1.2016515716568994, 2.6666666666666665, 1.1015037593984962, 19.0, 2.9613059250302296, 3.0, 10.5, 1.0, 578.0, 1.0, 26, 1.0255214907102046, 1.8333333333333333, 1.8128342245989304, 1.0, 1.0, 1.0, 164.0, 1.0666666666666667, 1.0, 1.0, 1.0, 2.2, 13.0, 1.5236346215266687, 1.0, 1.7272727272727273, 1.0, 1.25, 1.0347734457323499, 76.0, 1.0, 1.0, 1.0, 1.0, 2.675, 1.0, 1.0, 1.0462855083778753, 1.3285714285714285, 1.0, 47.8125, 1.75, 1.0, 2.1666666666666665, 1.0, 1.0, 1.4415781487101669, 1.0, 1.0]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 19/50 | Workload-time: 3.962095 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 20/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
35.1 queries/sec
Query 1: actual 6 (0.001%)  origin-forest_43.843 7 (err=1.167)  
83.3 queries/sec
Query 2: actual 633 (0.091%)  origin-forest_43.843 1 (err=633.000)  
76.9 queries/sec
Query 3: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 4: actual 8 (0.001%)  origin-forest_43.843 6 (err=1.333)  
83.3 queries/sec
Query 5: actual 2 (0.000%)  origin-forest_43.843 3 (err=1.500)  
90.9 queries/sec
Query 6: actual 380 (0.055%)  origin-forest_43.843 390 (err=1.026)  
90.9 queries/sec
Query 7: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.3 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 9: actual 167 (0.024%)  origin-forest_43.843 197 (err=1.180)  
95.1 queries/sec
Query 10: actual 42669 (6.120%)  origin-forest_43.843 52176 (err=1.223)  
83.3 queries/sec
Query 11: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 12: actual 10545 (1.512%)  origin-forest_43.843 14710 (err=1.395)  
90.9 queries/sec
Query 13: actual 25423 (3.646%)  origin-forest_43.843 19687 (err=1.291)  
90.9 queries/sec
Query 14: actual 35 (0.005%)  origin-forest_43.843 1 (err=35.000)  
83.3 queries/sec
Query 15: actual 70 (0.010%)  origin-forest_43.843 189 (err=2.700)  
71.4 queries/sec
Query 16: actual 5847 (0.839%)  origin-forest_43.843 9778 (err=1.672)  
99.9 queries/sec
Query 17: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 19: actual 42 (0.006%)  origin-forest_43.843 3 (err=14.000)  
90.9 queries/sec
Query 20: actual 161577 (23.175%)  origin-forest_43.843 146663 (err=1.102)  
83.3 queries/sec
Query 21: actual 71 (0.010%)  origin-forest_43.843 98 (err=1.380)  
90.9 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 23: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 24: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 26: actual 1741 (0.250%)  origin-forest_43.843 1 (err=1741.000)  
95.1 queries/sec
Query 27: actual 195 (0.028%)  origin-forest_43.843 212 (err=1.087)  
83.3 queries/sec
Query 28: actual 1359 (0.195%)  origin-forest_43.843 1416 (err=1.042)  
90.9 queries/sec
Query 29: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
76.9 queries/sec
Query 30: actual 5131 (0.736%)  origin-forest_43.843 5362 (err=1.045)  
83.3 queries/sec
Query 31: actual 111 (0.016%)  origin-forest_43.843 159 (err=1.432)  
100.0 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.6 queries/sec
Query 33: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.7 queries/sec
Query 34: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 35: actual 37 (0.005%)  origin-forest_43.843 14 (err=2.643)  
76.8 queries/sec
Query 36: actual 6 (0.001%)  origin-forest_43.843 5 (err=1.200)  
80.6 queries/sec
Query 37: actual 6 (0.001%)  origin-forest_43.843 6 (err=1.000)  
99.2 queries/sec
Query 38: actual 791 (0.113%)  origin-forest_43.843 1328 (err=1.679)  
90.9 queries/sec
Query 39: actual 7 (0.001%)  origin-forest_43.843 2 (err=3.500)  
76.9 queries/sec
Query 40: actual 1512 (0.217%)  origin-forest_43.843 2456 (err=1.624)  
76.9 queries/sec
Query 41: actual 52 (0.007%)  origin-forest_43.843 0 (err=52.000)  
83.3 queries/sec
Query 42: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 43: actual 9 (0.001%)  origin-forest_43.843 2 (err=4.500)  
83.3 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 46: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 47: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 49: actual 156933 (22.509%)  origin-forest_43.843 107190 (err=1.464)  
origin-forest_43.843 	max: 1741.0000	99th: 1198.0800	95th: 44.3500	median: 1.0944	mean: 50.7237
ReportEsts: [1.0, 1.1666666666666667, 633.0, 1.0, 1.3333333333333333, 1.5, 1.0263157894736843, 1.0, 1.0, 1.1796407185628743, 1.2228081276805174, 1.0, 1.3949739212897108, 1.2913597805658557, 35.0, 2.7, 1.67231058662562, 1.0, 1.0, 14.0, 1.10168890585901, 1.380281690140845, 1.0, 1.0, 1.0, 1.0, 1741.0, 1.087179487179487, 1.0419426048565121, 2.0, 1.0450204638472034, 1.4324324324324325, 1.0, 1.0, 1.0, 2.642857142857143, 1.2, 1.0, 1.6788874841972188, 3.5, 1.6243386243386244, 52, 1.0, 4.5, 1.0, 1.0, 1.0, 1.0, 1.0, 1.464063811922754]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 20/50 | Workload-time: 3.943568 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 21/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
35.1 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 2: actual 12128 (1.739%)  origin-forest_43.843 2196 (err=5.523)  
90.9 queries/sec
Query 3: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 4: actual 8 (0.001%)  origin-forest_43.843 6 (err=1.333)  
86.3 queries/sec
Query 5: actual 146 (0.021%)  origin-forest_43.843 146 (err=1.000)  
90.9 queries/sec
Query 6: actual 31786 (4.559%)  origin-forest_43.843 38022 (err=1.196)  
90.8 queries/sec
Query 7: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
86.8 queries/sec
Query 8: actual 11308 (1.622%)  origin-forest_43.843 5097 (err=2.219)  
83.3 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 10: actual 59 (0.008%)  origin-forest_43.843 129 (err=2.186)  
83.3 queries/sec
Query 11: actual 14574 (2.090%)  origin-forest_43.843 48 (err=303.625)  
83.3 queries/sec
Query 12: actual 854 (0.122%)  origin-forest_43.843 1294 (err=1.515)  
83.3 queries/sec
Query 13: actual 8 (0.001%)  origin-forest_43.843 11 (err=1.375)  
90.9 queries/sec
Query 14: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 15: actual 335 (0.048%)  origin-forest_43.843 280 (err=1.196)  
83.3 queries/sec
Query 16: actual 7 (0.001%)  origin-forest_43.843 57 (err=8.143)  
95.1 queries/sec
Query 17: actual 95 (0.014%)  origin-forest_43.843 1 (err=95.000)  
76.9 queries/sec
Query 18: actual 4247 (0.609%)  origin-forest_43.843 3054 (err=1.391)  
83.3 queries/sec
Query 19: actual 87 (0.012%)  origin-forest_43.843 6 (err=14.500)  
90.9 queries/sec
Query 20: actual 59035 (8.467%)  origin-forest_43.843 71358 (err=1.209)  
90.9 queries/sec
Query 21: actual 7 (0.001%)  origin-forest_43.843 3 (err=2.333)  
83.3 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 23: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.8 queries/sec
Query 24: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
74.0 queries/sec
Query 25: actual 232 (0.033%)  origin-forest_43.843 49 (err=4.735)  
83.3 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 28: actual 13 (0.002%)  origin-forest_43.843 8 (err=1.625)  
76.9 queries/sec
Query 29: actual 27 (0.004%)  origin-forest_43.843 1 (err=27.000)  
83.3 queries/sec
Query 30: actual 36 (0.005%)  origin-forest_43.843 1 (err=36.000)  
83.3 queries/sec
Query 31: actual 501 (0.072%)  origin-forest_43.843 655 (err=1.307)  
83.3 queries/sec
Query 32: actual 57 (0.008%)  origin-forest_43.843 1 (err=57.000)  
86.9 queries/sec
Query 33: actual 15 (0.002%)  origin-forest_43.843 24 (err=1.600)  
83.3 queries/sec
Query 34: actual 26 (0.004%)  origin-forest_43.843 1 (err=26.000)  
76.9 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 36: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
76.9 queries/sec
Query 37: actual 3379 (0.485%)  origin-forest_43.843 4078 (err=1.207)  
100.0 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 39: actual 175 (0.025%)  origin-forest_43.843 141 (err=1.241)  
83.3 queries/sec
Query 40: actual 3 (0.000%)  origin-forest_43.843 3 (err=1.000)  
76.9 queries/sec
Query 41: actual 76945 (11.036%)  origin-forest_43.843 76993 (err=1.001)  
88.4 queries/sec
Query 42: actual 2 (0.000%)  origin-forest_43.843 3 (err=1.500)  
76.9 queries/sec
Query 43: actual 19 (0.003%)  origin-forest_43.843 10 (err=1.900)  
76.9 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 45: actual 9 (0.001%)  origin-forest_43.843 9 (err=1.000)  
76.9 queries/sec
Query 46: actual 12212 (1.752%)  origin-forest_43.843 14909 (err=1.221)  
90.9 queries/sec
Query 47: actual 12503 (1.793%)  origin-forest_43.843 14807 (err=1.184)  
90.9 queries/sec
Query 48: actual 7 (0.001%)  origin-forest_43.843 3 (err=2.333)  
90.9 queries/sec
Query 49: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
origin-forest_43.843 	max: 303.6250	99th: 201.3987	95th: 47.5500	median: 1.2743	mean: 12.6120
ReportEsts: [1.0, 1.0, 5.522768670309654, 1.0, 1.3333333333333333, 1.0, 1.1961870005662871, 2.0, 2.218559937217971, 1.0, 2.1864406779661016, 303.625, 1.515222482435597, 1.375, 1.0, 1.1964285714285714, 8.142857142857142, 95.0, 1.3906352324819908, 14.5, 1.2087405776234437, 2.3333333333333335, 1.0, 1.0, 1.0, 4.73469387755102, 1.0, 1.0, 1.625, 27.0, 36.0, 1.307385229540918, 57.0, 1.6, 26.0, 1.0, 2.0, 1.206865936667653, 1.0, 1.2411347517730495, 1.0, 1.00062382221067, 1.5, 1.9, 1.0, 1.0, 1.2208483458892891, 1.1842757738142846, 2.3333333333333335, 1.0]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 21/50 | Workload-time: 4.049763 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 22/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
42.5 queries/sec
Query 1: actual 3 (0.000%)  origin-forest_43.843 10 (err=3.333)  
71.4 queries/sec
Query 2: actual 349 (0.050%)  origin-forest_43.843 324 (err=1.077)  
90.9 queries/sec
Query 3: actual 129 (0.019%)  origin-forest_43.843 120 (err=1.075)  
90.5 queries/sec
Query 4: actual 1181 (0.169%)  origin-forest_43.843 951 (err=1.242)  
79.4 queries/sec
Query 5: actual 145 (0.021%)  origin-forest_43.843 103 (err=1.408)  
86.8 queries/sec
Query 6: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 7: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 8: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
86.8 queries/sec
Query 9: actual 64 (0.009%)  origin-forest_43.843 1 (err=64.000)  
83.3 queries/sec
Query 10: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 11: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 12: actual 3 (0.000%)  origin-forest_43.843 1 (err=3.000)  
83.3 queries/sec
Query 13: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 14: actual 10 (0.001%)  origin-forest_43.843 6 (err=1.667)  
76.9 queries/sec
Query 15: actual 2472 (0.355%)  origin-forest_43.843 2920 (err=1.181)  
76.9 queries/sec
Query 16: actual 334 (0.048%)  origin-forest_43.843 360 (err=1.078)  
79.9 queries/sec
Query 17: actual 6959 (0.998%)  origin-forest_43.843 7604 (err=1.093)  
83.2 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
91.0 queries/sec
Query 19: actual 19 (0.003%)  origin-forest_43.843 15 (err=1.267)  
76.9 queries/sec
Query 20: actual 2 (0.000%)  origin-forest_43.843 2 (err=1.000)  
83.3 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 23: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 24: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 25: actual 47 (0.007%)  origin-forest_43.843 1 (err=47.000)  
95.1 queries/sec
Query 26: actual 2914 (0.418%)  origin-forest_43.843 3541 (err=1.215)  
90.9 queries/sec
Query 27: actual 16 (0.002%)  origin-forest_43.843 1 (err=16.000)  
76.9 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 29: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 30: actual 36 (0.005%)  origin-forest_43.843 1 (err=36.000)  
76.9 queries/sec
Query 31: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 32: actual 27 (0.004%)  origin-forest_43.843 11 (err=2.455)  
90.9 queries/sec
Query 33: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 34: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 35: actual 99 (0.014%)  origin-forest_43.843 1 (err=99.000)  
76.9 queries/sec
Query 36: actual 191 (0.027%)  origin-forest_43.843 1 (err=191.000)  
83.3 queries/sec
Query 37: actual 2147 (0.308%)  origin-forest_43.843 55 (err=39.036)  
90.9 queries/sec
Query 38: actual 2 (0.000%)  origin-forest_43.843 2 (err=1.000)  
83.3 queries/sec
Query 39: actual 171 (0.025%)  origin-forest_43.843 25 (err=6.840)  
90.9 queries/sec
Query 40: actual 198 (0.028%)  origin-forest_43.843 147 (err=1.347)  
83.3 queries/sec
Query 41: actual 555 (0.080%)  origin-forest_43.843 624 (err=1.124)  
79.9 queries/sec
Query 42: actual 131 (0.019%)  origin-forest_43.843 81 (err=1.617)  
90.9 queries/sec
Query 43: actual 3 (0.000%)  origin-forest_43.843 4 (err=1.333)  
83.3 queries/sec
Query 44: actual 1341 (0.192%)  origin-forest_43.843 1226 (err=1.094)  
90.9 queries/sec
Query 45: actual 101 (0.014%)  origin-forest_43.843 156 (err=1.545)  
83.3 queries/sec
Query 46: actual 95 (0.014%)  origin-forest_43.843 68 (err=1.397)  
90.9 queries/sec
Query 47: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 49: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
origin-forest_43.843 	max: 191.0000	99th: 145.9200	95th: 56.3500	median: 1.0932	mean: 11.0485
ReportEsts: [1.0, 3.3333333333333335, 1.0771604938271604, 1.075, 1.241850683491062, 1.4077669902912622, 1.0, 1.0, 2.0, 64.0, 1.0, 1.0, 3.0, 1.0, 1.6666666666666667, 1.1812297734627832, 1.0778443113772456, 1.0926857307084352, 1.0, 1.2666666666666666, 1.0, 1.0, 1.0, 1.0, 1.0, 47.0, 1.2151681537405628, 16.0, 1.0, 1.0, 36.0, 1.0, 2.4545454545454546, 1.0, 1.0, 99.0, 191.0, 39.03636363636364, 1.0, 6.84, 1.346938775510204, 1.1243243243243244, 1.617283950617284, 1.3333333333333333, 1.0938009787928222, 1.5445544554455446, 1.3970588235294117, 1.0, 1.0, 1.0]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 22/50 | Workload-time: 4.093702 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 23/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=single', '--dataset=forest', '--drift_test=js', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
SingleSample - START
SingleSample - END
load_npy_dataset_from_path - df.shape = (661012, 10)
Parsing... done, took 0.0s
Data updated!
Mean JS divergence: 0.1272
JS devergence running time: 1.3103s
Drift detection: True
[0m
DRIFT-DETECTED after 23-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=adapt']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
AdaptTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (661012, 10)
Parsing... done, took 0.0s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.1s
dataset size: 661012
train data shape: torch.Size([10000, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 43.9913 bits (loss 61.354, data 17.363) 0.00100 lr
epoch 9 train loss 42.3142 nats / 61.0465 bits
time since start: 8.4 secs
Epoch 10 Iter 0, train entropy gap 43.5571 bits (loss 60.920, data 17.363) 0.00082 lr
epoch 19 train loss 42.1238 nats / 60.7718 bits
time since start: 16.0 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 35.6797 nats / 51.4750 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
AdaptTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 23/50 | Workload-time: 3.466611 | Model-update-time: 19.197203


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 24/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=single', '--dataset=forest', '--drift_test=js', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
SingleSample - START
SingleSample - END
load_npy_dataset_from_path - df.shape = (671012, 10)
Parsing... done, took 0.0s
Data updated!
Mean JS divergence: 0.1284
JS devergence running time: 1.2904s
Drift detection: True
[0m
DRIFT-DETECTED after 24-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=adapt']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
AdaptTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (671012, 10)
Parsing... done, took 0.0s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.1s
dataset size: 671012
train data shape: torch.Size([10000, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 43.3991 bits (loss 60.548, data 17.149) 0.00100 lr
epoch 9 train loss 41.6503 nats / 60.0886 bits
time since start: 8.8 secs
Epoch 10 Iter 0, train entropy gap 42.9370 bits (loss 60.086, data 17.149) 0.00082 lr
epoch 19 train loss 41.3659 nats / 59.6784 bits
time since start: 16.7 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 31.9971 nats / 46.1620 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
AdaptTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 24/50 | Workload-time: 3.509929 | Model-update-time: 20.009225


WORKLOAD-START | Type: QueryWorkload | Progress: 25/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 60725 (8.710%)  origin-forest_43.843 18601 (err=3.265)  
43.5 queries/sec
Query 1: actual 1234 (0.177%)  origin-forest_43.843 1771 (err=1.435)  
90.9 queries/sec
Query 2: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 3: actual 1480 (0.212%)  origin-forest_43.843 1781 (err=1.203)  
90.9 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 5: actual 47 (0.007%)  origin-forest_43.843 1 (err=47.000)  
83.3 queries/sec
Query 6: actual 37 (0.005%)  origin-forest_43.843 33 (err=1.121)  
80.0 queries/sec
Query 7: actual 124 (0.018%)  origin-forest_43.843 118 (err=1.051)  
90.9 queries/sec
Query 8: actual 11 (0.002%)  origin-forest_43.843 4 (err=2.750)  
83.3 queries/sec
Query 9: actual 17 (0.002%)  origin-forest_43.843 21 (err=1.235)  
76.9 queries/sec
Query 10: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
100.0 queries/sec
Query 11: actual 6 (0.001%)  origin-forest_43.843 7 (err=1.167)  
83.3 queries/sec
Query 12: actual 894 (0.128%)  origin-forest_43.843 1018 (err=1.139)  
83.3 queries/sec
Query 13: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 14: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 15: actual 140 (0.020%)  origin-forest_43.843 48 (err=2.917)  
86.9 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 17: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 19: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 20: actual 138219 (19.824%)  origin-forest_43.843 127656 (err=1.083)  
100.0 queries/sec
Query 21: actual 36 (0.005%)  origin-forest_43.843 18 (err=2.000)  
90.9 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 23: actual 67 (0.010%)  origin-forest_43.843 2 (err=33.500)  
86.9 queries/sec
Query 24: actual 251 (0.036%)  origin-forest_43.843 10 (err=25.100)  
83.3 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 26: actual 2 (0.000%)  origin-forest_43.843 4 (err=2.000)  
76.9 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 28: actual 156 (0.022%)  origin-forest_43.843 203 (err=1.301)  
90.9 queries/sec
Query 29: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 30: actual 108 (0.015%)  origin-forest_43.843 88 (err=1.227)  
83.3 queries/sec
Query 31: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 32: actual 15 (0.002%)  origin-forest_43.843 24 (err=1.600)  
95.2 queries/sec
Query 33: actual 297 (0.043%)  origin-forest_43.843 424 (err=1.428)  
90.9 queries/sec
Query 34: actual 1490 (0.214%)  origin-forest_43.843 1969 (err=1.321)  
90.9 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 36: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 37: actual 41869 (6.005%)  origin-forest_43.843 44719 (err=1.068)  
90.9 queries/sec
Query 38: actual 43969 (6.306%)  origin-forest_43.843 22565 (err=1.949)  
90.9 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 40: actual 18989 (2.724%)  origin-forest_43.843 22692 (err=1.195)  
90.9 queries/sec
Query 41: actual 66 (0.009%)  origin-forest_43.843 55 (err=1.200)  
86.9 queries/sec
Query 42: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 43: actual 2 (0.000%)  origin-forest_43.843 2 (err=1.000)  
76.9 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 45: actual 31 (0.004%)  origin-forest_43.843 18 (err=1.722)  
83.3 queries/sec
Query 46: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 47: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
80.0 queries/sec
Query 48: actual 6810 (0.977%)  origin-forest_43.843 8230 (err=1.209)  
95.1 queries/sec
Query 49: actual 629 (0.090%)  origin-forest_43.843 617 (err=1.019)  
origin-forest_43.843 	max: 47.0000	99th: 40.3850	95th: 15.2741	median: 1.0754	mean: 3.3241
ReportEsts: [3.264609429600559, 1.4351701782820097, 1.0, 1.2033783783783785, 1.0, 47.0, 1.121212121212121, 1.0508474576271187, 2.75, 1.2352941176470589, 1.0, 1.1666666666666667, 1.138702460850112, 1.0, 1.0, 2.9166666666666665, 1.0, 1.0, 1.0, 1.0, 1.0827458168828727, 2.0, 1.0, 33.5, 25.1, 1.0, 2.0, 1.0, 1.3012820512820513, 1.0, 1.2272727272727273, 1.0, 1.6, 1.4276094276094276, 1.3214765100671142, 1.0, 1.0, 1.0680694547278415, 1.9485486372701086, 1.0, 1.1950076359997894, 1.2, 1.0, 1.0, 1.0, 1.7222222222222223, 1.0, 1.0, 1.208516886930984, 1.019448946515397]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 25/50 | Workload-time: 4.011017 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 26/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=single', '--dataset=forest', '--drift_test=js', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
SingleSample - START
SingleSample - END
load_npy_dataset_from_path - df.shape = (681012, 10)
Parsing... done, took 0.0s
Data updated!
Mean JS divergence: 0.1284
JS devergence running time: 1.2771s
Drift detection: True
[0m
DRIFT-DETECTED after 26-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=adapt']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
AdaptTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (681012, 10)
Parsing... done, took 0.0s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.1s
dataset size: 681012
train data shape: torch.Size([10000, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 42.3351 bits (loss 59.273, data 16.938) 0.00100 lr
epoch 9 train loss 40.8732 nats / 58.9676 bits
time since start: 9.1 secs
Epoch 10 Iter 0, train entropy gap 41.6797 bits (loss 58.618, data 16.938) 0.00082 lr
epoch 19 train loss 40.7246 nats / 58.7531 bits
time since start: 16.9 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 28.6727 nats / 41.3659 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
AdaptTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 26/50 | Workload-time: 3.511336 | Model-update-time: 20.272791


WORKLOAD-START | Type: QueryWorkload | Progress: 27/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
42.4 queries/sec
Query 1: actual 12327 (1.768%)  origin-forest_43.843 6399 (err=1.926)  
90.9 queries/sec
Query 2: actual 104 (0.015%)  origin-forest_43.843 93 (err=1.118)  
83.3 queries/sec
Query 3: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 4: actual 3703 (0.531%)  origin-forest_43.843 4426 (err=1.195)  
83.3 queries/sec
Query 5: actual 11 (0.002%)  origin-forest_43.843 11 (err=1.000)  
83.3 queries/sec
Query 6: actual 2 (0.000%)  origin-forest_43.843 5 (err=2.500)  
90.9 queries/sec
Query 7: actual 123 (0.018%)  origin-forest_43.843 111 (err=1.108)  
90.9 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 9: actual 52 (0.007%)  origin-forest_43.843 38 (err=1.368)  
90.9 queries/sec
Query 10: actual 99292 (14.241%)  origin-forest_43.843 121697 (err=1.226)  
90.8 queries/sec
Query 11: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
86.9 queries/sec
Query 12: actual 42698 (6.124%)  origin-forest_43.843 51796 (err=1.213)  
90.8 queries/sec
Query 13: actual 3 (0.000%)  origin-forest_43.843 1 (err=3.000)  
90.9 queries/sec
Query 14: actual 1 (0.000%)  origin-forest_43.843 3 (err=3.000)  
83.4 queries/sec
Query 15: actual 3 (0.000%)  origin-forest_43.843 1 (err=3.000)  
76.9 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 17: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 19: actual 305 (0.044%)  origin-forest_43.843 583 (err=1.911)  
83.3 queries/sec
Query 20: actual 341 (0.049%)  origin-forest_43.843 91 (err=3.747)  
86.8 queries/sec
Query 21: actual 5 (0.001%)  origin-forest_43.843 5 (err=1.000)  
83.3 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 23: actual 6 (0.001%)  origin-forest_43.843 5 (err=1.200)  
90.9 queries/sec
Query 24: actual 1518 (0.218%)  origin-forest_43.843 1825 (err=1.202)  
100.0 queries/sec
Query 25: actual 5 (0.001%)  origin-forest_43.843 8 (err=1.600)  
83.3 queries/sec
Query 26: actual 6 (0.001%)  origin-forest_43.843 26 (err=4.333)  
83.3 queries/sec
Query 27: actual 4 (0.001%)  origin-forest_43.843 2 (err=2.000)  
83.3 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.9 queries/sec
Query 29: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 30: actual 37 (0.005%)  origin-forest_43.843 1 (err=37.000)  
83.4 queries/sec
Query 31: actual 2099 (0.301%)  origin-forest_43.843 2995 (err=1.427)  
90.9 queries/sec
Query 32: actual 11 (0.002%)  origin-forest_43.843 1 (err=11.000)  
90.9 queries/sec
Query 33: actual 14813 (2.125%)  origin-forest_43.843 12100 (err=1.224)  
90.9 queries/sec
Query 34: actual 43 (0.006%)  origin-forest_43.843 1 (err=43.000)  
76.9 queries/sec
Query 35: actual 220449 (31.619%)  origin-forest_43.843 195842 (err=1.126)  
90.9 queries/sec
Query 36: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 37: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 40: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 41: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 42: actual 5 (0.001%)  origin-forest_43.843 4 (err=1.250)  
83.3 queries/sec
Query 43: actual 611 (0.088%)  origin-forest_43.843 827 (err=1.354)  
90.9 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.9 queries/sec
Query 46: actual 177 (0.025%)  origin-forest_43.843 215 (err=1.215)  
94.4 queries/sec
Query 47: actual 104 (0.015%)  origin-forest_43.843 134 (err=1.288)  
91.2 queries/sec
Query 48: actual 866 (0.124%)  origin-forest_43.843 877 (err=1.013)  
89.7 queries/sec
Query 49: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
origin-forest_43.843 	max: 43.0000	99th: 40.0600	95th: 8.0000	median: 1.2011	mean: 3.2109
ReportEsts: [2.0, 1.9263947491795592, 1.118279569892473, 1.0, 1.1952470969484201, 1.0, 2.5, 1.1081081081081081, 1.0, 1.368421052631579, 1.2256475849010997, 2.0, 1.2130778959201836, 3.0, 3.0, 3.0, 1.0, 1.0, 1.0, 1.9114754098360656, 3.7472527472527473, 1.0, 1.0, 1.2, 1.202239789196311, 1.6, 4.333333333333333, 2.0, 1.0, 1.0, 37.0, 1.4268699380657457, 11.0, 1.2242148760330578, 43.0, 1.1256472054002717, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.25, 1.353518821603928, 1.0, 1.0, 1.2146892655367232, 1.2884615384615385, 1.01270207852194, 1.0]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 27/50 | Workload-time: 3.978086 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 28/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=single', '--dataset=forest', '--drift_test=js', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
SingleSample - START
SingleSample - END
load_npy_dataset_from_path - df.shape = (691012, 10)
Parsing... done, took 0.0s
Data updated!
Mean JS divergence: 0.1287
JS devergence running time: 1.3104s
Drift detection: True
[0m
DRIFT-DETECTED after 28-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=adapt']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
AdaptTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (691012, 10)
Parsing... done, took 0.0s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.1s
dataset size: 691012
train data shape: torch.Size([10000, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 41.3768 bits (loss 58.109, data 16.732) 0.00100 lr
epoch 9 train loss 39.9744 nats / 57.6708 bits
time since start: 8.5 secs
Epoch 10 Iter 0, train entropy gap 41.0742 bits (loss 57.807, data 16.732) 0.00082 lr
epoch 19 train loss 39.8152 nats / 57.4412 bits
time since start: 16.2 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 26.3288 nats / 37.9844 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
AdaptTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 28/50 | Workload-time: 3.418058 | Model-update-time: 19.380036


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 29/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=single', '--dataset=forest', '--drift_test=js', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
SingleSample - START
SingleSample - END
load_npy_dataset_from_path - df.shape = (701012, 10)
Parsing... done, took 0.0s
Data updated!
Mean JS divergence: 0.1290
JS devergence running time: 1.3906s
Drift detection: True
[0m
DRIFT-DETECTED after 29-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=adapt']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
AdaptTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (701012, 10)
Parsing... done, took 0.0s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.1s
dataset size: 701012
train data shape: torch.Size([10000, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 40.8094 bits (loss 57.340, data 16.531) 0.00100 lr
epoch 9 train loss 39.2946 nats / 56.6902 bits
time since start: 8.6 secs
Epoch 10 Iter 0, train entropy gap 39.7945 bits (loss 56.325, data 16.531) 0.00082 lr
epoch 19 train loss 39.1262 nats / 56.4472 bits
time since start: 16.5 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 24.2927 nats / 35.0470 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
AdaptTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 29/50 | Workload-time: 3.648239 | Model-update-time: 19.871590


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 30/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=single', '--dataset=forest', '--drift_test=js', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
SingleSample - START
SingleSample - END
load_npy_dataset_from_path - df.shape = (711012, 10)
Parsing... done, took 0.0s
Data updated!
Mean JS divergence: 0.1290
JS devergence running time: 1.4231s
Drift detection: True
[0m
DRIFT-DETECTED after 30-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=adapt']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
AdaptTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (711012, 10)
Parsing... done, took 0.0s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.1s
dataset size: 711012
train data shape: torch.Size([10000, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 39.6337 bits (loss 55.967, data 16.333) 0.00100 lr
epoch 9 train loss 38.6410 nats / 55.7471 bits
time since start: 8.7 secs
Epoch 10 Iter 0, train entropy gap 39.7754 bits (loss 56.109, data 16.333) 0.00082 lr
epoch 19 train loss 38.5086 nats / 55.5561 bits
time since start: 16.6 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 21.8535 nats / 31.5280 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
AdaptTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 30/50 | Workload-time: 3.673580 | Model-update-time: 19.842497


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 31/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=single', '--dataset=forest', '--drift_test=js', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
SingleSample - START
SingleSample - END
load_npy_dataset_from_path - df.shape = (721012, 10)
Parsing... done, took 0.0s
Data updated!
Mean JS divergence: 0.1297
JS devergence running time: 1.3952s
Drift detection: True
[0m
DRIFT-DETECTED after 31-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=adapt']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
AdaptTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (721012, 10)
Parsing... done, took 0.0s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.1s
dataset size: 721012
train data shape: torch.Size([10000, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 39.4246 bits (loss 55.565, data 16.140) 0.00100 lr
epoch 9 train loss 37.8549 nats / 54.6130 bits
time since start: 8.5 secs
Epoch 10 Iter 0, train entropy gap 38.3168 bits (loss 54.457, data 16.140) 0.00082 lr
epoch 19 train loss 37.7592 nats / 54.4751 bits
time since start: 16.4 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 19.6357 nats / 28.3284 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
AdaptTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 31/50 | Workload-time: 3.534130 | Model-update-time: 19.692412


WORKLOAD-START | Type: QueryWorkload | Progress: 32/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 13463 (1.931%)  origin-forest_43.843 17250 (err=1.281)  
43.5 queries/sec
Query 1: actual 628 (0.090%)  origin-forest_43.843 558 (err=1.125)  
83.3 queries/sec
Query 2: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 3: actual 5 (0.001%)  origin-forest_43.843 10 (err=2.000)  
83.3 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 3 (err=3.000)  
86.9 queries/sec
Query 5: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 6: actual 4 (0.001%)  origin-forest_43.843 2 (err=2.000)  
83.3 queries/sec
Query 7: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 8: actual 35 (0.005%)  origin-forest_43.843 36 (err=1.029)  
90.9 queries/sec
Query 9: actual 3 (0.000%)  origin-forest_43.843 2 (err=1.500)  
83.3 queries/sec
Query 10: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 11: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 12: actual 17 (0.002%)  origin-forest_43.843 23 (err=1.353)  
90.9 queries/sec
Query 13: actual 260 (0.037%)  origin-forest_43.843 75 (err=3.467)  
86.9 queries/sec
Query 14: actual 1814 (0.260%)  origin-forest_43.843 2128 (err=1.173)  
83.3 queries/sec
Query 15: actual 65 (0.009%)  origin-forest_43.843 69 (err=1.062)  
90.9 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 17: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 19: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
100.0 queries/sec
Query 20: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
71.4 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.9 queries/sec
Query 22: actual 946 (0.136%)  origin-forest_43.843 1070 (err=1.131)  
83.3 queries/sec
Query 23: actual 519 (0.074%)  origin-forest_43.843 565 (err=1.089)  
83.3 queries/sec
Query 24: actual 3 (0.000%)  origin-forest_43.843 17 (err=5.667)  
83.3 queries/sec
Query 25: actual 39 (0.006%)  origin-forest_43.843 47 (err=1.205)  
90.9 queries/sec
Query 26: actual 7187 (1.031%)  origin-forest_43.843 11146 (err=1.551)  
90.9 queries/sec
Query 27: actual 103 (0.015%)  origin-forest_43.843 94 (err=1.096)  
83.3 queries/sec
Query 28: actual 2 (0.000%)  origin-forest_43.843 2 (err=1.000)  
83.3 queries/sec
Query 29: actual 45 (0.006%)  origin-forest_43.843 42 (err=1.071)  
96.6 queries/sec
Query 30: actual 341 (0.049%)  origin-forest_43.843 414 (err=1.214)  
90.2 queries/sec
Query 31: actual 23 (0.003%)  origin-forest_43.843 21 (err=1.095)  
90.9 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 33: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
83.3 queries/sec
Query 34: actual 15 (0.002%)  origin-forest_43.843 24 (err=1.600)  
90.9 queries/sec
Query 35: actual 5 (0.001%)  origin-forest_43.843 7 (err=1.400)  
83.3 queries/sec
Query 36: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 37: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 38: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
86.9 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 40: actual 11433 (1.640%)  origin-forest_43.843 14048 (err=1.229)  
90.9 queries/sec
Query 41: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 42: actual 25090 (3.599%)  origin-forest_43.843 31445 (err=1.253)  
91.0 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 44: actual 141 (0.020%)  origin-forest_43.843 1 (err=141.000)  
90.9 queries/sec
Query 45: actual 65 (0.009%)  origin-forest_43.843 54 (err=1.204)  
83.3 queries/sec
Query 46: actual 12 (0.002%)  origin-forest_43.843 36 (err=3.000)  
90.9 queries/sec
Query 47: actual 202 (0.029%)  origin-forest_43.843 139 (err=1.453)  
86.9 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 4 (err=4.000)  
90.9 queries/sec
Query 49: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
origin-forest_43.843 	max: 141.0000	99th: 74.6867	95th: 3.7600	median: 1.1283	mean: 4.2849
ReportEsts: [1.2812894600014855, 1.125448028673835, 1.0, 2.0, 3.0, 1.0, 2.0, 1.0, 1.0285714285714285, 1.5, 1.0, 1.0, 1.3529411764705883, 3.466666666666667, 1.173098125689085, 1.0615384615384615, 1.0, 1.0, 1.0, 1.0, 2.0, 1.0, 1.1310782241014798, 1.0886319845857417, 5.666666666666667, 1.205128205128205, 1.5508557117016837, 1.0957446808510638, 1.0, 1.0714285714285714, 1.2140762463343109, 1.0952380952380953, 1.0, 2.0, 1.6, 1.4, 1.0, 1.0, 2.0, 1.0, 1.2287238695005684, 1.0, 1.2532881626145875, 1.0, 141.0, 1.2037037037037037, 3.0, 1.4532374100719425, 4.0, 1.0]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 32/50 | Workload-time: 4.043345 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 33/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
41.7 queries/sec
Query 1: actual 8 (0.001%)  origin-forest_43.843 20 (err=2.500)  
81.3 queries/sec
Query 2: actual 298 (0.043%)  origin-forest_43.843 174 (err=1.713)  
90.8 queries/sec
Query 3: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.1 queries/sec
Query 4: actual 13499 (1.936%)  origin-forest_43.843 17186 (err=1.273)  
90.9 queries/sec
Query 5: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 6: actual 4 (0.001%)  origin-forest_43.843 1 (err=4.000)  
76.9 queries/sec
Query 7: actual 955 (0.137%)  origin-forest_43.843 1502 (err=1.573)  
76.9 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 9: actual 6 (0.001%)  origin-forest_43.843 7 (err=1.167)  
90.9 queries/sec
Query 10: actual 144 (0.021%)  origin-forest_43.843 5 (err=28.800)  
82.4 queries/sec
Query 11: actual 35 (0.005%)  origin-forest_43.843 1 (err=35.000)  
83.3 queries/sec
Query 12: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 13: actual 34 (0.005%)  origin-forest_43.843 1 (err=34.000)  
83.3 queries/sec
Query 14: actual 358 (0.051%)  origin-forest_43.843 282 (err=1.270)  
100.0 queries/sec
Query 15: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 17: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
99.9 queries/sec
Query 18: actual 5500 (0.789%)  origin-forest_43.843 4498 (err=1.223)  
86.9 queries/sec
Query 19: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 20: actual 233770 (33.529%)  origin-forest_43.843 223312 (err=1.047)  
100.0 queries/sec
Query 21: actual 8202 (1.176%)  origin-forest_43.843 10816 (err=1.319)  
90.9 queries/sec
Query 22: actual 3 (0.000%)  origin-forest_43.843 1 (err=3.000)  
76.9 queries/sec
Query 23: actual 104 (0.015%)  origin-forest_43.843 223 (err=2.144)  
83.3 queries/sec
Query 24: actual 62 (0.009%)  origin-forest_43.843 1 (err=62.000)  
83.3 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 26: actual 21 (0.003%)  origin-forest_43.843 34 (err=1.619)  
90.9 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 3 (err=3.000)  
90.9 queries/sec
Query 29: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 30: actual 21535 (3.089%)  origin-forest_43.843 25149 (err=1.168)  
90.9 queries/sec
Query 31: actual 29 (0.004%)  origin-forest_43.843 37 (err=1.276)  
83.4 queries/sec
Query 32: actual 11 (0.002%)  origin-forest_43.843 2 (err=5.500)  
90.9 queries/sec
Query 33: actual 605 (0.087%)  origin-forest_43.843 924 (err=1.527)  
83.3 queries/sec
Query 34: actual 201 (0.029%)  origin-forest_43.843 168 (err=1.196)  
83.3 queries/sec
Query 35: actual 446 (0.064%)  origin-forest_43.843 286 (err=1.559)  
90.9 queries/sec
Query 36: actual 5 (0.001%)  origin-forest_43.843 3 (err=1.667)  
79.9 queries/sec
Query 37: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 39: actual 32625 (4.679%)  origin-forest_43.843 24434 (err=1.335)  
90.9 queries/sec
Query 40: actual 282 (0.040%)  origin-forest_43.843 297 (err=1.053)  
76.9 queries/sec
Query 41: actual 989 (0.142%)  origin-forest_43.843 912 (err=1.084)  
66.7 queries/sec
Query 42: actual 3799 (0.545%)  origin-forest_43.843 3062 (err=1.241)  
62.5 queries/sec
Query 43: actual 14 (0.002%)  origin-forest_43.843 15 (err=1.071)  
68.9 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 45: actual 107 (0.015%)  origin-forest_43.843 152 (err=1.421)  
83.3 queries/sec
Query 46: actual 1 (0.000%)  origin-forest_43.843 3 (err=3.000)  
90.9 queries/sec
Query 47: actual 14271 (2.047%)  origin-forest_43.843 7530 (err=1.895)  
90.9 queries/sec
Query 48: actual 11 (0.002%)  origin-forest_43.843 24 (err=2.182)  
83.3 queries/sec
Query 49: actual 46 (0.007%)  origin-forest_43.843 57 (err=1.239)  
origin-forest_43.843 	max: 62.0000	99th: 48.7700	95th: 31.6600	median: 1.2551	mean: 4.6212
ReportEsts: [1.0, 2.5, 1.7126436781609196, 1.0, 1.2731313430624491, 1.0, 4.0, 1.5727748691099477, 1.0, 1.1666666666666667, 28.8, 35.0, 1.0, 34.0, 1.2695035460992907, 1.0, 1.0, 1.0, 1.2227656736327257, 1.0, 1.04683133911299, 1.318702755425506, 3.0, 2.144230769230769, 62.0, 1.0, 1.619047619047619, 1.0, 3.0, 1.0, 1.167819828186673, 1.2758620689655173, 5.5, 1.5272727272727273, 1.1964285714285714, 1.5594405594405594, 1.6666666666666667, 1.0, 1.0, 1.3352295981010067, 1.053191489361702, 1.0844298245614035, 1.2406923579359896, 1.0714285714285714, 1.0, 1.4205607476635513, 3.0, 1.895219123505976, 2.1818181818181817, 1.2391304347826086]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 33/50 | Workload-time: 4.049122 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 34/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
39.2 queries/sec
Query 1: actual 31665 (4.542%)  origin-forest_43.843 40453 (err=1.278)  
90.9 queries/sec
Query 2: actual 17 (0.002%)  origin-forest_43.843 14 (err=1.214)  
76.9 queries/sec
Query 3: actual 10 (0.001%)  origin-forest_43.843 2 (err=5.000)  
83.3 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 5: actual 8932 (1.281%)  origin-forest_43.843 9348 (err=1.047)  
76.9 queries/sec
Query 6: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 7: actual 132 (0.019%)  origin-forest_43.843 141 (err=1.068)  
90.9 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 9: actual 71707 (10.285%)  origin-forest_43.843 85590 (err=1.194)  
90.9 queries/sec
Query 10: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 11: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 12: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 13: actual 82 (0.012%)  origin-forest_43.843 47 (err=1.745)  
83.3 queries/sec
Query 14: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 15: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 17: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 18: actual 2496 (0.358%)  origin-forest_43.843 2883 (err=1.155)  
90.9 queries/sec
Query 19: actual 32501 (4.662%)  origin-forest_43.843 35168 (err=1.082)  
90.9 queries/sec
Query 20: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 23: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 24: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 25: actual 129 (0.019%)  origin-forest_43.843 201 (err=1.558)  
83.3 queries/sec
Query 26: actual 296 (0.042%)  origin-forest_43.843 330 (err=1.115)  
90.9 queries/sec
Query 27: actual 10 (0.001%)  origin-forest_43.843 10 (err=1.000)  
83.3 queries/sec
Query 28: actual 83 (0.012%)  origin-forest_43.843 1 (err=83.000)  
76.9 queries/sec
Query 29: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
83.3 queries/sec
Query 30: actual 55 (0.008%)  origin-forest_43.843 68 (err=1.236)  
83.3 queries/sec
Query 31: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 32: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
80.0 queries/sec
Query 33: actual 17232 (2.472%)  origin-forest_43.843 20632 (err=1.197)  
82.0 queries/sec
Query 34: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
87.2 queries/sec
Query 35: actual 146610 (21.028%)  origin-forest_43.843 104868 (err=1.398)  
89.0 queries/sec
Query 36: actual 164 (0.024%)  origin-forest_43.843 177 (err=1.079)  
90.9 queries/sec
Query 37: actual 15 (0.002%)  origin-forest_43.843 5 (err=3.000)  
83.3 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 40: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 41: actual 302 (0.043%)  origin-forest_43.843 25 (err=12.080)  
86.9 queries/sec
Query 42: actual 2366 (0.339%)  origin-forest_43.843 1246 (err=1.899)  
90.9 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 44: actual 81 (0.012%)  origin-forest_43.843 96 (err=1.185)  
90.9 queries/sec
Query 45: actual 5851 (0.839%)  origin-forest_43.843 7249 (err=1.239)  
100.0 queries/sec
Query 46: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 47: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 48: actual 140 (0.020%)  origin-forest_43.843 146 (err=1.043)  
90.8 queries/sec
Query 49: actual 412 (0.059%)  origin-forest_43.843 428 (err=1.039)  
origin-forest_43.843 	max: 83.0000	99th: 48.2492	95th: 4.1000	median: 1.0194	mean: 3.1170
ReportEsts: [1.0, 1.2775303963366493, 1.2142857142857142, 5.0, 1.0, 1.0465741155396329, 1.0, 1.0681818181818181, 1.0, 1.1936073186718172, 1.0, 1.0, 1.0, 1.7446808510638299, 1.0, 1.0, 1.0, 1.0, 1.1550480769230769, 1.0820590135688133, 1.0, 1.0, 1.0, 1.0, 1.0, 1.558139534883721, 1.114864864864865, 1.0, 83.0, 2.0, 1.2363636363636363, 1.0, 2.0, 1.1973073351903436, 1.0, 1.398043254376931, 1.079268292682927, 3.0, 1.0, 1.0, 1.0, 12.08, 1.898876404494382, 1.0, 1.1851851851851851, 1.2389335156383525, 1.0, 1.0, 1.042857142857143, 1.0388349514563107]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 34/50 | Workload-time: 4.023859 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 35/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=single', '--dataset=forest', '--drift_test=js', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
SingleSample - START
SingleSample - END
load_npy_dataset_from_path - df.shape = (731012, 10)
Parsing... done, took 0.0s
Data updated!
Mean JS divergence: 0.1300
JS devergence running time: 1.4190s
Drift detection: True
[0m
DRIFT-DETECTED after 35-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=adapt']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
AdaptTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (731012, 10)
Parsing... done, took 0.0s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.1s
dataset size: 731012
train data shape: torch.Size([10000, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 38.3092 bits (loss 54.260, data 15.951) 0.00100 lr
epoch 9 train loss 37.3271 nats / 53.8516 bits
time since start: 8.8 secs
Epoch 10 Iter 0, train entropy gap 37.8960 bits (loss 53.847, data 15.951) 0.00082 lr
epoch 19 train loss 36.9498 nats / 53.3073 bits
time since start: 16.9 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 17.9435 nats / 25.8869 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
AdaptTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 35/50 | Workload-time: 3.676238 | Model-update-time: 20.328588


WORKLOAD-START | Type: QueryWorkload | Progress: 36/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
42.5 queries/sec
Query 1: actual 29 (0.004%)  origin-forest_43.843 38 (err=1.310)  
90.9 queries/sec
Query 2: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 3: actual 58 (0.008%)  origin-forest_43.843 2 (err=29.000)  
100.0 queries/sec
Query 4: actual 348 (0.050%)  origin-forest_43.843 34 (err=10.235)  
83.3 queries/sec
Query 5: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 6: actual 2205 (0.316%)  origin-forest_43.843 2296 (err=1.041)  
90.8 queries/sec
Query 7: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.4 queries/sec
Query 8: actual 61 (0.009%)  origin-forest_43.843 1 (err=61.000)  
86.9 queries/sec
Query 9: actual 66 (0.009%)  origin-forest_43.843 8 (err=8.250)  
83.3 queries/sec
Query 10: actual 19 (0.003%)  origin-forest_43.843 2 (err=9.500)  
90.9 queries/sec
Query 11: actual 3 (0.000%)  origin-forest_43.843 3 (err=1.000)  
83.3 queries/sec
Query 12: actual 36 (0.005%)  origin-forest_43.843 1 (err=36.000)  
83.3 queries/sec
Query 13: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 14: actual 50 (0.007%)  origin-forest_43.843 28 (err=1.786)  
76.9 queries/sec
Query 15: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 16: actual 47 (0.007%)  origin-forest_43.843 1 (err=47.000)  
76.9 queries/sec
Query 17: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 18: actual 5 (0.001%)  origin-forest_43.843 5 (err=1.000)  
83.3 queries/sec
Query 19: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 20: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 21: actual 86580 (12.418%)  origin-forest_43.843 39851 (err=2.173)  
90.9 queries/sec
Query 22: actual 14 (0.002%)  origin-forest_43.843 26 (err=1.857)  
83.3 queries/sec
Query 23: actual 34 (0.005%)  origin-forest_43.843 26 (err=1.308)  
90.9 queries/sec
Query 24: actual 633 (0.091%)  origin-forest_43.843 447 (err=1.416)  
90.9 queries/sec
Query 25: actual 327 (0.047%)  origin-forest_43.843 754 (err=2.306)  
95.2 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 27: actual 127960 (18.353%)  origin-forest_43.843 156107 (err=1.220)  
90.9 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 29: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 30: actual 148340 (21.276%)  origin-forest_43.843 156032 (err=1.052)  
90.9 queries/sec
Query 31: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 32: actual 10 (0.001%)  origin-forest_43.843 3 (err=3.333)  
90.9 queries/sec
Query 33: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 34: actual 102 (0.015%)  origin-forest_43.843 109 (err=1.069)  
88.8 queries/sec
Query 35: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
90.9 queries/sec
Query 36: actual 66410 (9.525%)  origin-forest_43.843 77885 (err=1.173)  
100.0 queries/sec
Query 37: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.4 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 39: actual 77146 (11.065%)  origin-forest_43.843 84919 (err=1.101)  
90.9 queries/sec
Query 40: actual 1115 (0.160%)  origin-forest_43.843 1858 (err=1.666)  
76.9 queries/sec
Query 41: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 42: actual 3 (0.000%)  origin-forest_43.843 1 (err=3.000)  
76.9 queries/sec
Query 43: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
82.8 queries/sec
Query 44: actual 3 (0.000%)  origin-forest_43.843 9 (err=3.000)  
83.3 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 46: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 47: actual 2363 (0.339%)  origin-forest_43.843 2130 (err=1.109)  
83.3 queries/sec
Query 48: actual 279 (0.040%)  origin-forest_43.843 341 (err=1.222)  
90.9 queries/sec
Query 49: actual 2 (0.000%)  origin-forest_43.843 2 (err=1.000)  
origin-forest_43.843 	max: 61.0000	99th: 54.1400	95th: 32.8500	median: 1.0847	mean: 5.3025
ReportEsts: [1.0, 1.3103448275862069, 1.0, 29.0, 10.235294117647058, 1.0, 1.0412698412698413, 1.0, 61.0, 8.25, 9.5, 1.0, 36.0, 1.0, 1.7857142857142858, 1.0, 47.0, 1.0, 1.0, 1.0, 1.0, 2.1725929085844773, 1.8571428571428572, 1.3076923076923077, 1.4161073825503356, 2.305810397553517, 1.0, 1.2199671772428884, 1.0, 1.0, 1.0518538492652016, 1.0, 3.3333333333333335, 1.0, 1.0686274509803921, 2.0, 1.1727902424333685, 1.0, 1.0, 1.1007570061960439, 1.6663677130044843, 1.0, 3.0, 8.0, 3.0, 1.0, 1.0, 1.1093896713615023, 1.2222222222222223, 1.0]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 36/50 | Workload-time: 4.092893 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 37/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 2425 (0.348%)  origin-forest_43.843 2609 (err=1.076)  
42.5 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 2: actual 11 (0.002%)  origin-forest_43.843 2 (err=5.500)  
76.9 queries/sec
Query 3: actual 10 (0.001%)  origin-forest_43.843 26 (err=2.600)  
90.9 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 5: actual 273 (0.039%)  origin-forest_43.843 395 (err=1.447)  
90.9 queries/sec
Query 6: actual 84 (0.012%)  origin-forest_43.843 11 (err=7.636)  
83.3 queries/sec
Query 7: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 8: actual 308779 (44.288%)  origin-forest_43.843 281308 (err=1.098)  
86.8 queries/sec
Query 9: actual 9405 (1.349%)  origin-forest_43.843 10754 (err=1.143)  
83.3 queries/sec
Query 10: actual 251 (0.036%)  origin-forest_43.843 172 (err=1.459)  
90.9 queries/sec
Query 11: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 12: actual 4 (0.001%)  origin-forest_43.843 1 (err=4.000)  
62.5 queries/sec
Query 13: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
52.6 queries/sec
Query 14: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
52.6 queries/sec
Query 15: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
74.0 queries/sec
Query 16: actual 30 (0.004%)  origin-forest_43.843 42 (err=1.400)  
90.9 queries/sec
Query 17: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 18: actual 44 (0.006%)  origin-forest_43.843 43 (err=1.023)  
90.9 queries/sec
Query 19: actual 3 (0.000%)  origin-forest_43.843 3 (err=1.000)  
83.3 queries/sec
Query 20: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 21: actual 3 (0.000%)  origin-forest_43.843 4 (err=1.333)  
91.0 queries/sec
Query 22: actual 12 (0.002%)  origin-forest_43.843 23 (err=1.917)  
83.3 queries/sec
Query 23: actual 110 (0.016%)  origin-forest_43.843 103 (err=1.068)  
86.9 queries/sec
Query 24: actual 36 (0.005%)  origin-forest_43.843 37 (err=1.028)  
84.2 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.7 queries/sec
Query 26: actual 2140 (0.307%)  origin-forest_43.843 2299 (err=1.074)  
94.1 queries/sec
Query 27: actual 61 (0.009%)  origin-forest_43.843 21 (err=2.905)  
83.3 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 29: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 30: actual 140 (0.020%)  origin-forest_43.843 129 (err=1.085)  
83.3 queries/sec
Query 31: actual 307 (0.044%)  origin-forest_43.843 1 (err=307.000)  
89.9 queries/sec
Query 32: actual 46 (0.007%)  origin-forest_43.843 1 (err=46.000)  
83.6 queries/sec
Query 33: actual 6688 (0.959%)  origin-forest_43.843 9210 (err=1.377)  
90.9 queries/sec
Query 34: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 36: actual 2727 (0.391%)  origin-forest_43.843 308 (err=8.854)  
90.9 queries/sec
Query 37: actual 75 (0.011%)  origin-forest_43.843 70 (err=1.071)  
83.3 queries/sec
Query 38: actual 4 (0.001%)  origin-forest_43.843 5 (err=1.250)  
66.6 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
74.0 queries/sec
Query 40: actual 58 (0.008%)  origin-forest_43.843 1 (err=58.000)  
71.4 queries/sec
Query 41: actual 32 (0.005%)  origin-forest_43.843 56 (err=1.750)  
50.0 queries/sec
Query 42: actual 952 (0.137%)  origin-forest_43.843 898 (err=1.060)  
76.9 queries/sec
Query 43: actual 77365 (11.096%)  origin-forest_43.843 84985 (err=1.098)  
83.3 queries/sec
Query 44: actual 42731 (6.129%)  origin-forest_43.843 52339 (err=1.225)  
83.3 queries/sec
Query 45: actual 58017 (8.321%)  origin-forest_43.843 26060 (err=2.226)  
90.9 queries/sec
Query 46: actual 8 (0.001%)  origin-forest_43.843 15 (err=1.875)  
83.3 queries/sec
Query 47: actual 625 (0.090%)  origin-forest_43.843 707 (err=1.131)  
86.8 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.7 queries/sec
Query 49: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
origin-forest_43.843 	max: 307.0000	99th: 184.9900	95th: 29.2843	median: 1.0806	mean: 9.8142
ReportEsts: [1.075876288659794, 1.0, 5.5, 2.6, 1.0, 1.4468864468864469, 7.636363636363637, 1.0, 1.0976545281328651, 1.1434343434343435, 1.4593023255813953, 1.0, 4.0, 1.0, 1.0, 1.0, 1.4, 1.0, 1.0232558139534884, 1.0, 1.0, 1.3333333333333333, 1.9166666666666667, 1.0679611650485437, 1.0277777777777777, 1.0, 1.0742990654205606, 2.9047619047619047, 1.0, 1.0, 1.0852713178294573, 307.0, 46.0, 1.3770933014354068, 1.0, 1.0, 8.853896103896103, 1.0714285714285714, 1.25, 1.0, 58.0, 1.75, 1.0601336302895323, 1.0984941511019195, 1.2248484706653249, 2.226285495011512, 1.875, 1.1312, 1.0, 1.0]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 37/50 | Workload-time: 4.079059 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 38/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=single', '--dataset=forest', '--drift_test=js', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
SingleSample - START
SingleSample - END
load_npy_dataset_from_path - df.shape = (741012, 10)
Parsing... done, took 0.0s
Data updated!
Mean JS divergence: 0.1300
JS devergence running time: 1.4523s
Drift detection: True
[0m
DRIFT-DETECTED after 38-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=adapt']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
AdaptTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (741012, 10)
Parsing... done, took 0.0s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.1s
dataset size: 741012
train data shape: torch.Size([10000, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 37.0021 bits (loss 52.768, data 15.766) 0.00100 lr
epoch 9 train loss 36.3936 nats / 52.5048 bits
time since start: 8.9 secs
Epoch 10 Iter 0, train entropy gap 36.5298 bits (loss 52.296, data 15.766) 0.00082 lr
epoch 19 train loss 36.4157 nats / 52.5367 bits
time since start: 16.9 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 16.6595 nats / 24.0345 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
AdaptTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 38/50 | Workload-time: 3.680685 | Model-update-time: 20.283458


WORKLOAD-START | Type: QueryWorkload | Progress: 39/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
38.5 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.7 queries/sec
Query 2: actual 61787 (8.862%)  origin-forest_43.843 75467 (err=1.221)  
71.4 queries/sec
Query 3: actual 16 (0.002%)  origin-forest_43.843 11 (err=1.455)  
68.9 queries/sec
Query 4: actual 4000 (0.574%)  origin-forest_43.843 3721 (err=1.075)  
83.3 queries/sec
Query 5: actual 27 (0.004%)  origin-forest_43.843 49 (err=1.815)  
66.7 queries/sec
Query 6: actual 53 (0.008%)  origin-forest_43.843 24 (err=2.208)  
76.9 queries/sec
Query 7: actual 85342 (12.240%)  origin-forest_43.843 91209 (err=1.069)  
83.3 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 9: actual 14 (0.002%)  origin-forest_43.843 13 (err=1.077)  
83.4 queries/sec
Query 10: actual 86 (0.012%)  origin-forest_43.843 4 (err=21.500)  
83.3 queries/sec
Query 11: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
74.0 queries/sec
Query 12: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 13: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 14: actual 574 (0.082%)  origin-forest_43.843 214 (err=2.682)  
90.9 queries/sec
Query 15: actual 109505 (15.706%)  origin-forest_43.843 72846 (err=1.503)  
90.9 queries/sec
Query 16: actual 353 (0.051%)  origin-forest_43.843 220 (err=1.605)  
90.9 queries/sec
Query 17: actual 467 (0.067%)  origin-forest_43.843 161 (err=2.901)  
83.3 queries/sec
Query 18: actual 3 (0.000%)  origin-forest_43.843 1 (err=3.000)  
83.3 queries/sec
Query 19: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.8 queries/sec
Query 20: actual 7 (0.001%)  origin-forest_43.843 2 (err=3.500)  
90.9 queries/sec
Query 21: actual 779 (0.112%)  origin-forest_43.843 911 (err=1.169)  
83.3 queries/sec
Query 22: actual 18 (0.003%)  origin-forest_43.843 12 (err=1.500)  
83.3 queries/sec
Query 23: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 24: actual 17 (0.002%)  origin-forest_43.843 1 (err=17.000)  
90.9 queries/sec
Query 25: actual 41 (0.006%)  origin-forest_43.843 34 (err=1.206)  
83.3 queries/sec
Query 26: actual 15 (0.002%)  origin-forest_43.843 10 (err=1.500)  
90.9 queries/sec
Query 27: actual 318 (0.046%)  origin-forest_43.843 1075 (err=3.381)  
90.9 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.8 queries/sec
Query 29: actual 4 (0.001%)  origin-forest_43.843 4 (err=1.000)  
80.6 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.8 queries/sec
Query 31: actual 24 (0.003%)  origin-forest_43.843 23 (err=1.043)  
90.9 queries/sec
Query 32: actual 12 (0.002%)  origin-forest_43.843 12 (err=1.000)  
83.3 queries/sec
Query 33: actual 30 (0.004%)  origin-forest_43.843 8 (err=3.750)  
83.3 queries/sec
Query 34: actual 245 (0.035%)  origin-forest_43.843 277 (err=1.131)  
83.3 queries/sec
Query 35: actual 35 (0.005%)  origin-forest_43.843 1 (err=35.000)  
90.9 queries/sec
Query 36: actual 2 (0.000%)  origin-forest_43.843 23 (err=11.500)  
86.9 queries/sec
Query 37: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.6 queries/sec
Query 38: actual 1261 (0.181%)  origin-forest_43.843 1 (err=1261.000)  
83.3 queries/sec
Query 39: actual 12 (0.002%)  origin-forest_43.843 5 (err=2.400)  
83.3 queries/sec
Query 40: actual 6 (0.001%)  origin-forest_43.843 5 (err=1.200)  
83.4 queries/sec
Query 41: actual 6 (0.001%)  origin-forest_43.843 1 (err=6.000)  
90.9 queries/sec
Query 42: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 44: actual 19057 (2.733%)  origin-forest_43.843 24116 (err=1.265)  
86.3 queries/sec
Query 45: actual 126 (0.018%)  origin-forest_43.843 42 (err=3.000)  
82.8 queries/sec
Query 46: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 47: actual 320 (0.046%)  origin-forest_43.843 1 (err=320.000)  
90.9 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 49: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
origin-forest_43.843 	max: 1261.0000	99th: 799.9100	95th: 28.9250	median: 1.2029	mean: 34.7531
ReportEsts: [1.0, 1.0, 1.2214057973360093, 1.4545454545454546, 1.0749798441279226, 1.8148148148148149, 2.2083333333333335, 1.068746924140517, 1.0, 1.0769230769230769, 21.5, 1.0, 1.0, 1.0, 2.682242990654206, 1.5032397111715126, 1.6045454545454545, 2.900621118012422, 3.0, 1.0, 3.5, 1.1694480102695763, 1.5, 1.0, 17.0, 1.2058823529411764, 1.5, 3.380503144654088, 1.0, 1.0, 1.0, 1.0434782608695652, 1.0, 3.75, 1.1306122448979592, 35.0, 11.5, 1.0, 1261.0, 2.4, 1.2, 6.0, 1.0, 1.0, 1.2654667576218712, 3.0, 1.0, 320.0, 1.0, 1.0]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 39/50 | Workload-time: 4.125813 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 40/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=single', '--dataset=forest', '--drift_test=js', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
SingleSample - START
SingleSample - END
load_npy_dataset_from_path - df.shape = (751012, 10)
Parsing... done, took 0.0s
Data updated!
Mean JS divergence: 0.1300
JS devergence running time: 1.5309s
Drift detection: True
[0m
DRIFT-DETECTED after 40-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=adapt']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
AdaptTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (751012, 10)
Parsing... done, took 0.0s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.1s
dataset size: 751012
train data shape: torch.Size([10000, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 36.4023 bits (loss 51.988, data 15.585) 0.00100 lr
epoch 9 train loss 35.8167 nats / 51.6726 bits
time since start: 8.9 secs
Epoch 10 Iter 0, train entropy gap 35.9350 bits (loss 51.520, data 15.585) 0.00082 lr
epoch 19 train loss 35.6465 nats / 51.4271 bits
time since start: 16.7 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 15.5608 nats / 22.4495 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
AdaptTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 40/50 | Workload-time: 3.779271 | Model-update-time: 20.095192


WORKLOAD-START | Type: QueryWorkload | Progress: 41/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1661 (0.238%)  origin-forest_43.843 1 (err=1661.000)  
41.7 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 2: actual 3 (0.000%)  origin-forest_43.843 2 (err=1.500)  
86.8 queries/sec
Query 3: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 4: actual 73 (0.010%)  origin-forest_43.843 47 (err=1.553)  
90.9 queries/sec
Query 5: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 6: actual 11625 (1.667%)  origin-forest_43.843 6743 (err=1.724)  
90.9 queries/sec
Query 7: actual 1663 (0.239%)  origin-forest_43.843 1457 (err=1.141)  
90.9 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
82.8 queries/sec
Query 9: actual 36 (0.005%)  origin-forest_43.843 48 (err=1.333)  
86.3 queries/sec
Query 10: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 11: actual 3 (0.000%)  origin-forest_43.843 2 (err=1.500)  
95.1 queries/sec
Query 12: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
76.9 queries/sec
Query 13: actual 221 (0.032%)  origin-forest_43.843 216 (err=1.023)  
83.3 queries/sec
Query 14: actual 2 (0.000%)  origin-forest_43.843 3 (err=1.500)  
83.3 queries/sec
Query 15: actual 767 (0.110%)  origin-forest_43.843 1155 (err=1.506)  
90.9 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 17: actual 338274 (48.518%)  origin-forest_43.843 338957 (err=1.002)  
90.9 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 19: actual 110 (0.016%)  origin-forest_43.843 0 (err=110.000)  
79.9 queries/sec
Query 20: actual 182 (0.026%)  origin-forest_43.843 1 (err=182.000)  
76.9 queries/sec
Query 21: actual 131 (0.019%)  origin-forest_43.843 1 (err=131.000)  
83.3 queries/sec
Query 22: actual 198 (0.028%)  origin-forest_43.843 85 (err=2.329)  
90.9 queries/sec
Query 23: actual 717 (0.103%)  origin-forest_43.843 1 (err=717.000)  
83.3 queries/sec
Query 24: actual 282 (0.040%)  origin-forest_43.843 323 (err=1.145)  
100.0 queries/sec
Query 25: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
83.3 queries/sec
Query 26: actual 22 (0.003%)  origin-forest_43.843 46 (err=2.091)  
83.3 queries/sec
Query 27: actual 328 (0.047%)  origin-forest_43.843 747 (err=2.277)  
83.3 queries/sec
Query 28: actual 65 (0.009%)  origin-forest_43.843 115 (err=1.769)  
86.8 queries/sec
Query 29: actual 76297 (10.943%)  origin-forest_43.843 89994 (err=1.180)  
100.0 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 31: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 32: actual 115955 (16.631%)  origin-forest_43.843 110523 (err=1.049)  
90.9 queries/sec
Query 33: actual 104726 (15.021%)  origin-forest_43.843 97204 (err=1.077)  
90.9 queries/sec
Query 34: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 35: actual 126 (0.018%)  origin-forest_43.843 157 (err=1.246)  
99.9 queries/sec
Query 36: actual 251 (0.036%)  origin-forest_43.843 357 (err=1.422)  
90.9 queries/sec
Query 37: actual 290 (0.042%)  origin-forest_43.843 379 (err=1.307)  
74.0 queries/sec
Query 38: actual 8 (0.001%)  origin-forest_43.843 8 (err=1.000)  
90.9 queries/sec
Query 39: actual 104 (0.015%)  origin-forest_43.843 105 (err=1.010)  
90.9 queries/sec
Query 40: actual 1508 (0.216%)  origin-forest_43.843 1360 (err=1.109)  
83.3 queries/sec
Query 41: actual 9 (0.001%)  origin-forest_43.843 40 (err=4.444)  
83.3 queries/sec
Query 42: actual 98 (0.014%)  origin-forest_43.843 31 (err=3.161)  
90.9 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 44: actual 54058 (7.753%)  origin-forest_43.843 59941 (err=1.109)  
90.9 queries/sec
Query 45: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
74.0 queries/sec
Query 46: actual 105633 (15.151%)  origin-forest_43.843 152055 (err=1.439)  
90.9 queries/sec
Query 47: actual 51 (0.007%)  origin-forest_43.843 81 (err=1.588)  
83.4 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 49: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
origin-forest_43.843 	max: 1661.0000	99th: 1198.4400	95th: 159.0500	median: 1.3201	mean: 57.3307
ReportEsts: [1661.0, 1.0, 1.5, 1.0, 1.553191489361702, 1.0, 1.7240100845321074, 1.1413864104323954, 1.0, 1.3333333333333333, 1.0, 1.5, 2.0, 1.0231481481481481, 1.5, 1.5058670143415906, 1.0, 1.0020190732956125, 1.0, 110, 182.0, 131.0, 2.3294117647058825, 717.0, 1.1453900709219857, 2.0, 2.090909090909091, 2.277439024390244, 1.7692307692307692, 1.1795221306211254, 1.0, 1.0, 1.0491481411109, 1.0773836467635076, 1.0, 1.246031746031746, 1.4223107569721116, 1.306896551724138, 1.0, 1.0096153846153846, 1.1088235294117648, 4.444444444444445, 3.161290322580645, 1.0, 1.1088275555884421, 2.0, 1.4394649399335435, 1.588235294117647, 1.0, 2.0]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 41/50 | Workload-time: 4.035204 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 42/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 5 (0.001%)  origin-forest_43.843 1 (err=5.000)  
43.5 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 2: actual 56 (0.008%)  origin-forest_43.843 1 (err=56.000)  
83.3 queries/sec
Query 3: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.2 queries/sec
Query 4: actual 1683 (0.241%)  origin-forest_43.843 1708 (err=1.015)  
90.9 queries/sec
Query 5: actual 3 (0.000%)  origin-forest_43.843 2 (err=1.500)  
76.9 queries/sec
Query 6: actual 41934 (6.015%)  origin-forest_43.843 47615 (err=1.135)  
90.9 queries/sec
Query 7: actual 92 (0.013%)  origin-forest_43.843 10 (err=9.200)  
90.9 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 10: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 11: actual 36 (0.005%)  origin-forest_43.843 4 (err=9.000)  
90.9 queries/sec
Query 12: actual 528 (0.076%)  origin-forest_43.843 965 (err=1.828)  
95.1 queries/sec
Query 13: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 14: actual 562 (0.081%)  origin-forest_43.843 50 (err=11.240)  
83.3 queries/sec
Query 15: actual 14528 (2.084%)  origin-forest_43.843 17151 (err=1.181)  
90.9 queries/sec
Query 16: actual 3 (0.000%)  origin-forest_43.843 1 (err=3.000)  
83.3 queries/sec
Query 17: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 19: actual 3601 (0.516%)  origin-forest_43.843 2888 (err=1.247)  
83.3 queries/sec
Query 20: actual 18 (0.003%)  origin-forest_43.843 1 (err=18.000)  
86.8 queries/sec
Query 21: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
83.3 queries/sec
Query 22: actual 16 (0.002%)  origin-forest_43.843 1 (err=16.000)  
76.9 queries/sec
Query 23: actual 389 (0.056%)  origin-forest_43.843 468 (err=1.203)  
100.0 queries/sec
Query 24: actual 882 (0.127%)  origin-forest_43.843 1146 (err=1.299)  
100.0 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 27: actual 263 (0.038%)  origin-forest_43.843 336 (err=1.278)  
90.9 queries/sec
Query 28: actual 92437 (13.258%)  origin-forest_43.843 112831 (err=1.221)  
90.8 queries/sec
Query 29: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
95.1 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 31: actual 38 (0.005%)  origin-forest_43.843 22 (err=1.727)  
90.9 queries/sec
Query 32: actual 407 (0.058%)  origin-forest_43.843 444 (err=1.091)  
90.9 queries/sec
Query 33: actual 44 (0.006%)  origin-forest_43.843 57 (err=1.295)  
90.9 queries/sec
Query 34: actual 998 (0.143%)  origin-forest_43.843 1161 (err=1.163)  
100.0 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 36: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
90.9 queries/sec
Query 37: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.8 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 40: actual 7075 (1.015%)  origin-forest_43.843 8170 (err=1.155)  
90.9 queries/sec
Query 41: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 42: actual 968 (0.139%)  origin-forest_43.843 1168 (err=1.207)  
100.0 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 44: actual 25 (0.004%)  origin-forest_43.843 1 (err=25.000)  
90.9 queries/sec
Query 45: actual 59970 (8.601%)  origin-forest_43.843 66458 (err=1.108)  
90.9 queries/sec
Query 46: actual 1577 (0.226%)  origin-forest_43.843 2150 (err=1.363)  
83.3 queries/sec
Query 47: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
74.0 queries/sec
Query 48: actual 11 (0.002%)  origin-forest_43.843 22 (err=2.000)  
90.9 queries/sec
Query 49: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
origin-forest_43.843 	max: 56.0000	99th: 40.8100	95th: 17.1000	median: 1.1590	mean: 4.0291
ReportEsts: [5.0, 1.0, 56.0, 1.0, 1.0148544266191326, 1.5, 1.1354747937234702, 9.2, 1.0, 1.0, 1.0, 9.0, 1.8276515151515151, 1.0, 11.24, 1.1805479074889869, 3.0, 1.0, 1.0, 1.2468836565096952, 18.0, 2.0, 16.0, 1.2030848329048842, 1.2993197278911566, 1.0, 1.0, 1.2775665399239544, 1.2206259398292891, 1.0, 1.0, 1.7272727272727273, 1.0909090909090908, 1.2954545454545454, 1.1633266533066133, 1.0, 2.0, 1.0, 1.0, 1.0, 1.1547703180212014, 1.0, 1.2066115702479339, 1.0, 25.0, 1.1081874270468568, 1.3633481293595435, 1.0, 2.0, 1.0]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 42/50 | Workload-time: 3.980888 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 43/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 19 (0.003%)  origin-forest_43.843 10 (err=1.900)  
41.7 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 2: actual 2 (0.000%)  origin-forest_43.843 2 (err=1.000)  
90.9 queries/sec
Query 3: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.8 queries/sec
Query 4: actual 942 (0.135%)  origin-forest_43.843 1809 (err=1.920)  
80.0 queries/sec
Query 5: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 6: actual 12 (0.002%)  origin-forest_43.843 5 (err=2.400)  
83.3 queries/sec
Query 7: actual 8677 (1.245%)  origin-forest_43.843 9224 (err=1.063)  
100.0 queries/sec
Query 8: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
83.3 queries/sec
Query 9: actual 65 (0.009%)  origin-forest_43.843 100 (err=1.538)  
100.0 queries/sec
Query 10: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 11: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 12: actual 7 (0.001%)  origin-forest_43.843 10 (err=1.429)  
90.9 queries/sec
Query 13: actual 136 (0.020%)  origin-forest_43.843 1 (err=136.000)  
86.7 queries/sec
Query 14: actual 39 (0.006%)  origin-forest_43.843 40 (err=1.026)  
90.9 queries/sec
Query 15: actual 15629 (2.242%)  origin-forest_43.843 10065 (err=1.553)  
90.9 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 17: actual 1555 (0.223%)  origin-forest_43.843 1539 (err=1.010)  
83.3 queries/sec
Query 18: actual 26 (0.004%)  origin-forest_43.843 37 (err=1.423)  
90.9 queries/sec
Query 19: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 20: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 21: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
83.3 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 23: actual 1279 (0.183%)  origin-forest_43.843 1427 (err=1.116)  
83.3 queries/sec
Query 24: actual 4171 (0.598%)  origin-forest_43.843 5473 (err=1.312)  
90.9 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 26: actual 5 (0.001%)  origin-forest_43.843 4 (err=1.250)  
90.9 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 28: actual 84 (0.012%)  origin-forest_43.843 119 (err=1.417)  
90.9 queries/sec
Query 29: actual 52 (0.007%)  origin-forest_43.843 36 (err=1.444)  
84.6 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
82.8 queries/sec
Query 31: actual 5 (0.001%)  origin-forest_43.843 9 (err=1.800)  
83.3 queries/sec
Query 32: actual 1196 (0.172%)  origin-forest_43.843 1312 (err=1.097)  
90.9 queries/sec
Query 33: actual 554 (0.079%)  origin-forest_43.843 477 (err=1.161)  
90.9 queries/sec
Query 34: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 35: actual 53 (0.008%)  origin-forest_43.843 1 (err=53.000)  
83.3 queries/sec
Query 36: actual 28 (0.004%)  origin-forest_43.843 1 (err=28.000)  
83.3 queries/sec
Query 37: actual 21 (0.003%)  origin-forest_43.843 60 (err=2.857)  
83.3 queries/sec
Query 38: actual 6831 (0.980%)  origin-forest_43.843 9219 (err=1.350)  
86.9 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 40: actual 5121 (0.734%)  origin-forest_43.843 4596 (err=1.114)  
90.9 queries/sec
Query 41: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 42: actual 8 (0.001%)  origin-forest_43.843 6 (err=1.333)  
83.3 queries/sec
Query 43: actual 454 (0.065%)  origin-forest_43.843 542 (err=1.194)  
90.9 queries/sec
Query 44: actual 33 (0.005%)  origin-forest_43.843 3 (err=11.000)  
76.9 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 46: actual 500 (0.072%)  origin-forest_43.843 469 (err=1.066)  
71.4 queries/sec
Query 47: actual 8 (0.001%)  origin-forest_43.843 2 (err=4.000)  
97.3 queries/sec
Query 48: actual 3 (0.000%)  origin-forest_43.843 5 (err=1.667)  
83.3 queries/sec
Query 49: actual 19 (0.003%)  origin-forest_43.843 1 (err=19.000)  
origin-forest_43.843 	max: 136.0000	99th: 95.3300	95th: 23.9500	median: 1.1776	mean: 6.1688
ReportEsts: [1.9, 1.0, 1.0, 1.0, 1.9203821656050954, 1.0, 2.4, 1.0630402212746342, 2.0, 1.5384615384615385, 1.0, 1.0, 1.4285714285714286, 136.0, 1.0256410256410255, 1.5528067560854446, 1.0, 1.0103963612735543, 1.4230769230769231, 1.0, 1.0, 2.0, 1.0, 1.115715402658327, 1.3121553584272356, 1.0, 1.25, 1.0, 1.4166666666666667, 1.4444444444444444, 1.0, 1.8, 1.0969899665551839, 1.1614255765199162, 1.0, 53.0, 28.0, 2.857142857142857, 1.3495827843653931, 1.0, 1.1142297650130548, 1.0, 1.3333333333333333, 1.1938325991189427, 11.0, 1.0, 1.0660980810234542, 4.0, 1.6666666666666667, 19.0]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 43/50 | Workload-time: 3.997882 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 44/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
36.7 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 2: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 3: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 5: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.8 queries/sec
Query 6: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 7: actual 18577 (2.664%)  origin-forest_43.843 22962 (err=1.236)  
100.0 queries/sec
Query 8: actual 125 (0.018%)  origin-forest_43.843 52 (err=2.404)  
83.3 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 10: actual 62643 (8.985%)  origin-forest_43.843 84053 (err=1.342)  
90.9 queries/sec
Query 11: actual 15 (0.002%)  origin-forest_43.843 44 (err=2.933)  
83.3 queries/sec
Query 12: actual 394 (0.057%)  origin-forest_43.843 325 (err=1.212)  
90.8 queries/sec
Query 13: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
74.0 queries/sec
Query 14: actual 12 (0.002%)  origin-forest_43.843 12 (err=1.000)  
83.3 queries/sec
Query 15: actual 4 (0.001%)  origin-forest_43.843 1 (err=4.000)  
83.3 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 17: actual 262 (0.038%)  origin-forest_43.843 281 (err=1.073)  
83.3 queries/sec
Query 18: actual 17 (0.002%)  origin-forest_43.843 21 (err=1.235)  
90.9 queries/sec
Query 19: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 20: actual 7950 (1.140%)  origin-forest_43.843 7915 (err=1.004)  
90.8 queries/sec
Query 21: actual 130 (0.019%)  origin-forest_43.843 174 (err=1.338)  
100.0 queries/sec
Query 22: actual 15 (0.002%)  origin-forest_43.843 1 (err=15.000)  
79.9 queries/sec
Query 23: actual 6136 (0.880%)  origin-forest_43.843 4089 (err=1.501)  
90.9 queries/sec
Query 24: actual 60 (0.009%)  origin-forest_43.843 0 (err=60.000)  
83.3 queries/sec
Query 25: actual 13 (0.002%)  origin-forest_43.843 28 (err=2.154)  
76.9 queries/sec
Query 26: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
76.9 queries/sec
Query 27: actual 5 (0.001%)  origin-forest_43.843 13 (err=2.600)  
83.3 queries/sec
Query 28: actual 13 (0.002%)  origin-forest_43.843 10 (err=1.300)  
83.4 queries/sec
Query 29: actual 160120 (22.966%)  origin-forest_43.843 163873 (err=1.023)  
90.9 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 31: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 32: actual 3 (0.000%)  origin-forest_43.843 3 (err=1.000)  
83.3 queries/sec
Query 33: actual 112 (0.016%)  origin-forest_43.843 166 (err=1.482)  
90.9 queries/sec
Query 34: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 35: actual 27 (0.004%)  origin-forest_43.843 20 (err=1.350)  
90.8 queries/sec
Query 36: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
77.0 queries/sec
Query 37: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 38: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
86.8 queries/sec
Query 39: actual 1510 (0.217%)  origin-forest_43.843 907 (err=1.665)  
90.9 queries/sec
Query 40: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 41: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.3 queries/sec
Query 42: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 43: actual 140 (0.020%)  origin-forest_43.843 1 (err=140.000)  
83.3 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 46: actual 20713 (2.971%)  origin-forest_43.843 25444 (err=1.228)  
80.0 queries/sec
Query 47: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 48: actual 18 (0.003%)  origin-forest_43.843 1 (err=18.000)  
76.9 queries/sec
Query 49: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
origin-forest_43.843 	max: 140.0000	99th: 100.8000	95th: 16.6500	median: 1.0022	mean: 5.8816
ReportEsts: [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.2360445712440113, 2.4038461538461537, 1.0, 1.3417780119087528, 2.933333333333333, 1.2123076923076923, 1.0, 1.0, 4.0, 1.0, 1.0725190839694656, 1.2352941176470589, 1.0, 1.0044219835754895, 1.3384615384615384, 15.0, 1.5006113964294447, 60, 2.1538461538461537, 2.0, 2.6, 1.3, 1.0234386709967525, 1.0, 1.0, 1.0, 1.4821428571428572, 1.0, 1.35, 1.0, 1.0, 2.0, 1.6648291069459757, 1.0, 1.0, 1.0, 140.0, 1.0, 1.0, 1.2284072804518902, 1.0, 18.0, 1.0]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 44/50 | Workload-time: 4.034738 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 45/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
40.6 queries/sec
Query 1: actual 35 (0.005%)  origin-forest_43.843 11 (err=3.182)  
83.3 queries/sec
Query 2: actual 7770 (1.114%)  origin-forest_43.843 6183 (err=1.257)  
83.3 queries/sec
Query 3: actual 3484 (0.500%)  origin-forest_43.843 3936 (err=1.130)  
90.9 queries/sec
Query 4: actual 3 (0.000%)  origin-forest_43.843 1 (err=3.000)  
83.3 queries/sec
Query 5: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
76.9 queries/sec
Query 6: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 7: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.8 queries/sec
Query 8: actual 589 (0.084%)  origin-forest_43.843 544 (err=1.083)  
90.9 queries/sec
Query 9: actual 2 (0.000%)  origin-forest_43.843 2 (err=1.000)  
76.9 queries/sec
Query 10: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 11: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.4 queries/sec
Query 12: actual 87 (0.012%)  origin-forest_43.843 1 (err=87.000)  
83.3 queries/sec
Query 13: actual 19485 (2.795%)  origin-forest_43.843 21813 (err=1.119)  
90.9 queries/sec
Query 14: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.8 queries/sec
Query 15: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 16: actual 332 (0.048%)  origin-forest_43.843 401 (err=1.208)  
83.4 queries/sec
Query 17: actual 253 (0.036%)  origin-forest_43.843 1 (err=253.000)  
83.3 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 19: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 20: actual 232 (0.033%)  origin-forest_43.843 75 (err=3.093)  
90.9 queries/sec
Query 21: actual 2 (0.000%)  origin-forest_43.843 4 (err=2.000)  
90.9 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 23: actual 2 (0.000%)  origin-forest_43.843 2 (err=1.000)  
83.3 queries/sec
Query 24: actual 23 (0.003%)  origin-forest_43.843 9 (err=2.556)  
86.8 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 26: actual 1555 (0.223%)  origin-forest_43.843 1920 (err=1.235)  
90.9 queries/sec
Query 27: actual 133 (0.019%)  origin-forest_43.843 1 (err=133.000)  
90.9 queries/sec
Query 28: actual 14 (0.002%)  origin-forest_43.843 22 (err=1.571)  
100.0 queries/sec
Query 29: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 31: actual 3 (0.000%)  origin-forest_43.843 5 (err=1.667)  
90.8 queries/sec
Query 32: actual 5 (0.001%)  origin-forest_43.843 5 (err=1.000)  
95.1 queries/sec
Query 33: actual 241 (0.035%)  origin-forest_43.843 290 (err=1.203)  
90.9 queries/sec
Query 34: actual 177 (0.025%)  origin-forest_43.843 199 (err=1.124)  
90.9 queries/sec
Query 35: actual 100 (0.014%)  origin-forest_43.843 1 (err=100.000)  
83.3 queries/sec
Query 36: actual 32 (0.005%)  origin-forest_43.843 30 (err=1.067)  
83.3 queries/sec
Query 37: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 38: actual 2 (0.000%)  origin-forest_43.843 2 (err=1.000)  
90.9 queries/sec
Query 39: actual 6 (0.001%)  origin-forest_43.843 2 (err=3.000)  
90.9 queries/sec
Query 40: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 41: actual 431521 (61.892%)  origin-forest_43.843 414132 (err=1.042)  
86.8 queries/sec
Query 42: actual 187 (0.027%)  origin-forest_43.843 295 (err=1.578)  
76.9 queries/sec
Query 43: actual 255 (0.037%)  origin-forest_43.843 22 (err=11.591)  
100.0 queries/sec
Query 44: actual 45 (0.006%)  origin-forest_43.843 20 (err=2.250)  
90.9 queries/sec
Query 45: actual 39 (0.006%)  origin-forest_43.843 1 (err=39.000)  
76.9 queries/sec
Query 46: actual 242 (0.035%)  origin-forest_43.843 275 (err=1.136)  
90.9 queries/sec
Query 47: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 48: actual 62 (0.009%)  origin-forest_43.843 1 (err=62.000)  
86.2 queries/sec
Query 49: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
origin-forest_43.843 	max: 253.0000	99th: 194.2000	95th: 94.1500	median: 1.1270	mean: 14.9218
ReportEsts: [1.0, 3.1818181818181817, 1.2566715186802524, 1.129735935706085, 3.0, 2.0, 1.0, 1.0, 1.0827205882352942, 1.0, 1.0, 1.0, 87.0, 1.1194765204003079, 1.0, 1.0, 1.2078313253012047, 253.0, 1.0, 1.0, 3.0933333333333333, 2.0, 1.0, 1.0, 2.5555555555555554, 1.0, 1.234726688102894, 133.0, 1.5714285714285714, 1.0, 1.0, 1.6666666666666667, 1.0, 1.2033195020746887, 1.1242937853107344, 100.0, 1.0666666666666667, 1.0, 1.0, 3.0, 1.0, 1.0419890276530188, 1.5775401069518717, 11.590909090909092, 2.25, 39.0, 1.1363636363636365, 1.0, 62.0, 2.0]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 45/50 | Workload-time: 4.028864 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 46/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=single', '--dataset=forest', '--drift_test=js', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
SingleSample - START
SingleSample - END
load_npy_dataset_from_path - df.shape = (761012, 10)
Parsing... done, took 0.0s
Data updated!
Mean JS divergence: 0.1304
JS devergence running time: 1.4713s
Drift detection: True
[0m
DRIFT-DETECTED after 46-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=adapt']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
AdaptTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (761012, 10)
Parsing... done, took 0.0s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.1s
dataset size: 761012
train data shape: torch.Size([10000, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 35.4171 bits (loss 50.825, data 15.408) 0.00100 lr
epoch 9 train loss 35.2592 nats / 50.8682 bits
time since start: 8.6 secs
Epoch 10 Iter 0, train entropy gap 34.6963 bits (loss 50.105, data 15.408) 0.00082 lr
epoch 19 train loss 35.1173 nats / 50.6635 bits
time since start: 16.5 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 14.5762 nats / 21.0291 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
AdaptTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 46/50 | Workload-time: 3.676074 | Model-update-time: 19.848498


WORKLOAD-START | Type: QueryWorkload | Progress: 47/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 2 (0.000%)  origin-forest_43.843 5 (err=2.500)  
43.5 queries/sec
Query 1: actual 31 (0.004%)  origin-forest_43.843 1 (err=31.000)  
68.6 queries/sec
Query 2: actual 45 (0.006%)  origin-forest_43.843 32 (err=1.406)  
83.3 queries/sec
Query 3: actual 314 (0.045%)  origin-forest_43.843 296 (err=1.061)  
86.9 queries/sec
Query 4: actual 14 (0.002%)  origin-forest_43.843 12 (err=1.167)  
83.3 queries/sec
Query 5: actual 18 (0.003%)  origin-forest_43.843 16 (err=1.125)  
83.3 queries/sec
Query 6: actual 63 (0.009%)  origin-forest_43.843 1 (err=63.000)  
83.3 queries/sec
Query 7: actual 29709 (4.261%)  origin-forest_43.843 29169 (err=1.019)  
89.8 queries/sec
Query 8: actual 4 (0.001%)  origin-forest_43.843 4 (err=1.000)  
93.6 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.4 queries/sec
Query 10: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 11: actual 77979 (11.184%)  origin-forest_43.843 92486 (err=1.186)  
86.9 queries/sec
Query 12: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
76.9 queries/sec
Query 13: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 14: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 15: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 16: actual 193 (0.028%)  origin-forest_43.843 1 (err=193.000)  
83.3 queries/sec
Query 17: actual 19 (0.003%)  origin-forest_43.843 0 (err=19.000)  
83.3 queries/sec
Query 18: actual 84976 (12.188%)  origin-forest_43.843 69036 (err=1.231)  
83.3 queries/sec
Query 19: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 20: actual 48 (0.007%)  origin-forest_43.843 1 (err=48.000)  
79.9 queries/sec
Query 21: actual 201 (0.029%)  origin-forest_43.843 167 (err=1.204)  
90.9 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 23: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 24: actual 312 (0.045%)  origin-forest_43.843 365 (err=1.170)  
83.3 queries/sec
Query 25: actual 148 (0.021%)  origin-forest_43.843 299 (err=2.020)  
90.9 queries/sec
Query 26: actual 828 (0.119%)  origin-forest_43.843 306 (err=2.706)  
76.9 queries/sec
Query 27: actual 5288 (0.758%)  origin-forest_43.843 5156 (err=1.026)  
90.8 queries/sec
Query 28: actual 138 (0.020%)  origin-forest_43.843 92 (err=1.500)  
95.1 queries/sec
Query 29: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 30: actual 215 (0.031%)  origin-forest_43.843 164 (err=1.311)  
83.3 queries/sec
Query 31: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 33: actual 2257 (0.324%)  origin-forest_43.843 2084 (err=1.083)  
90.9 queries/sec
Query 34: actual 150 (0.022%)  origin-forest_43.843 237 (err=1.580)  
83.3 queries/sec
Query 35: actual 108507 (15.563%)  origin-forest_43.843 93636 (err=1.159)  
90.9 queries/sec
Query 36: actual 3897 (0.559%)  origin-forest_43.843 3805 (err=1.024)  
90.9 queries/sec
Query 37: actual 69 (0.010%)  origin-forest_43.843 68 (err=1.015)  
86.9 queries/sec
Query 38: actual 10077 (1.445%)  origin-forest_43.843 12689 (err=1.259)  
100.0 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 40: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 41: actual 342 (0.049%)  origin-forest_43.843 490 (err=1.433)  
83.3 queries/sec
Query 42: actual 3 (0.000%)  origin-forest_43.843 3 (err=1.000)  
83.3 queries/sec
Query 43: actual 88982 (12.763%)  origin-forest_43.843 85551 (err=1.040)  
90.9 queries/sec
Query 44: actual 208 (0.030%)  origin-forest_43.843 232 (err=1.115)  
83.3 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.8 queries/sec
Query 46: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 47: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 48: actual 14 (0.002%)  origin-forest_43.843 13 (err=1.077)  
83.3 queries/sec
Query 49: actual 15 (0.002%)  origin-forest_43.843 1 (err=15.000)  
origin-forest_43.843 	max: 193.0000	99th: 129.3000	95th: 40.3500	median: 1.0800	mean: 8.4483
ReportEsts: [2.5, 31.0, 1.40625, 1.0608108108108107, 1.1666666666666667, 1.125, 63.0, 1.0185128046899106, 1.0, 1.0, 1.0, 1.1860372664435297, 2.0, 1.0, 1.0, 1.0, 193.0, 19, 1.2308940263051162, 1.0, 48.0, 1.2035928143712575, 1.0, 1.0, 1.169871794871795, 2.02027027027027, 2.7058823529411766, 1.0256012412723041, 1.5, 1.0, 1.3109756097560976, 1.0, 1.0, 1.0830134357005758, 1.58, 1.1588171216198897, 1.0241787122207622, 1.0147058823529411, 1.2592041282127617, 1.0, 1.0, 1.432748538011696, 1.0, 1.0401047328494115, 1.1153846153846154, 1.0, 1.0, 1.0, 1.0769230769230769, 15.0]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 47/50 | Workload-time: 4.054073 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 48/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.1s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
40.7 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 2: actual 9 (0.001%)  origin-forest_43.843 5 (err=1.800)  
74.0 queries/sec
Query 3: actual 19 (0.003%)  origin-forest_43.843 0 (err=19.000)  
76.9 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 5: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 6: actual 2342 (0.336%)  origin-forest_43.843 3017 (err=1.288)  
83.3 queries/sec
Query 7: actual 120321 (17.257%)  origin-forest_43.843 114695 (err=1.049)  
90.9 queries/sec
Query 8: actual 2 (0.000%)  origin-forest_43.843 4 (err=2.000)  
83.3 queries/sec
Query 9: actual 65 (0.009%)  origin-forest_43.843 1 (err=65.000)  
90.8 queries/sec
Query 10: actual 27 (0.004%)  origin-forest_43.843 1 (err=27.000)  
83.3 queries/sec
Query 11: actual 21 (0.003%)  origin-forest_43.843 1 (err=21.000)  
79.9 queries/sec
Query 12: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
76.9 queries/sec
Query 13: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 14: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 15: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 17: actual 385 (0.055%)  origin-forest_43.843 3 (err=128.333)  
90.9 queries/sec
Query 18: actual 6452 (0.925%)  origin-forest_43.843 3971 (err=1.625)  
83.3 queries/sec
Query 19: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.9 queries/sec
Query 20: actual 284 (0.041%)  origin-forest_43.843 347 (err=1.222)  
83.3 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 22: actual 349 (0.050%)  origin-forest_43.843 321 (err=1.087)  
83.3 queries/sec
Query 23: actual 2560 (0.367%)  origin-forest_43.843 1 (err=2560.000)  
90.9 queries/sec
Query 24: actual 32 (0.005%)  origin-forest_43.843 1 (err=32.000)  
83.3 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 26: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
83.3 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 29: actual 195 (0.028%)  origin-forest_43.843 254 (err=1.303)  
90.9 queries/sec
Query 30: actual 267 (0.038%)  origin-forest_43.843 82 (err=3.256)  
83.3 queries/sec
Query 31: actual 208 (0.030%)  origin-forest_43.843 207 (err=1.005)  
83.3 queries/sec
Query 32: actual 124 (0.018%)  origin-forest_43.843 98 (err=1.265)  
76.9 queries/sec
Query 33: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 34: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
74.0 queries/sec
Query 36: actual 6 (0.001%)  origin-forest_43.843 2 (err=3.000)  
83.3 queries/sec
Query 37: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
75.3 queries/sec
Query 39: actual 579 (0.083%)  origin-forest_43.843 834 (err=1.440)  
86.2 queries/sec
Query 40: actual 3 (0.000%)  origin-forest_43.843 4 (err=1.333)  
86.4 queries/sec
Query 41: actual 5 (0.001%)  origin-forest_43.843 7 (err=1.400)  
90.9 queries/sec
Query 42: actual 3 (0.000%)  origin-forest_43.843 2 (err=1.500)  
76.9 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
76.9 queries/sec
Query 45: actual 35 (0.005%)  origin-forest_43.843 15 (err=2.333)  
83.3 queries/sec
Query 46: actual 151 (0.022%)  origin-forest_43.843 252 (err=1.669)  
90.9 queries/sec
Query 47: actual 31053 (4.454%)  origin-forest_43.843 33805 (err=1.089)  
90.9 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 49: actual 119407 (17.126%)  origin-forest_43.843 136493 (err=1.143)  
origin-forest_43.843 	max: 2560.0000	99th: 1368.4833	95th: 50.1500	median: 1.1825	mean: 58.2028
ReportEsts: [1.0, 1.0, 1.8, 19, 1.0, 1.0, 1.2882152006831769, 1.0490518331226295, 2.0, 65.0, 27.0, 21.0, 2.0, 1.0, 1.0, 1.0, 1.0, 128.33333333333334, 1.6247796524804836, 1.0, 1.221830985915493, 1.0, 1.087227414330218, 2560.0, 32.0, 1.0, 2.0, 1.0, 1.0, 1.3025641025641026, 3.2560975609756095, 1.0048309178743962, 1.2653061224489797, 1.0, 1.0, 1.0, 3.0, 1.0, 1.0, 1.4404145077720207, 1.3333333333333333, 1.4, 1.5, 1.0, 2.0, 2.3333333333333335, 1.6688741721854305, 1.0886226773580652, 1.0, 1.1430904385840026]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 48/50 | Workload-time: 4.025110 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 49/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 5 (0.001%)  origin-forest_43.843 3 (err=1.667)  
40.8 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 2: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 3: actual 1491 (0.214%)  origin-forest_43.843 157 (err=9.497)  
83.3 queries/sec
Query 4: actual 7002 (1.004%)  origin-forest_43.843 6646 (err=1.054)  
87.8 queries/sec
Query 5: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
82.8 queries/sec
Query 6: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
76.9 queries/sec
Query 7: actual 66 (0.009%)  origin-forest_43.843 1 (err=66.000)  
83.3 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.8 queries/sec
Query 9: actual 8448 (1.212%)  origin-forest_43.843 8760 (err=1.037)  
83.3 queries/sec
Query 10: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 11: actual 67 (0.010%)  origin-forest_43.843 55 (err=1.218)  
83.3 queries/sec
Query 12: actual 124 (0.018%)  origin-forest_43.843 1 (err=124.000)  
90.9 queries/sec
Query 13: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 14: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 15: actual 95 (0.014%)  origin-forest_43.843 93 (err=1.022)  
83.3 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 17: actual 225 (0.032%)  origin-forest_43.843 340 (err=1.511)  
74.0 queries/sec
Query 18: actual 21 (0.003%)  origin-forest_43.843 10 (err=2.100)  
76.9 queries/sec
Query 19: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
90.9 queries/sec
Query 20: actual 21 (0.003%)  origin-forest_43.843 7 (err=3.000)  
83.3 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 22: actual 55 (0.008%)  origin-forest_43.843 50 (err=1.100)  
76.9 queries/sec
Query 23: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
83.3 queries/sec
Query 24: actual 18 (0.003%)  origin-forest_43.843 1 (err=18.000)  
76.9 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
74.0 queries/sec
Query 26: actual 1605 (0.230%)  origin-forest_43.843 1150 (err=1.396)  
83.3 queries/sec
Query 27: actual 17 (0.002%)  origin-forest_43.843 12 (err=1.417)  
83.3 queries/sec
Query 28: actual 179 (0.026%)  origin-forest_43.843 59 (err=3.034)  
90.9 queries/sec
Query 29: actual 876 (0.126%)  origin-forest_43.843 930 (err=1.062)  
90.9 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 31: actual 3 (0.000%)  origin-forest_43.843 1 (err=3.000)  
76.9 queries/sec
Query 32: actual 49685 (7.126%)  origin-forest_43.843 28444 (err=1.747)  
83.3 queries/sec
Query 33: actual 875 (0.125%)  origin-forest_43.843 892 (err=1.019)  
86.9 queries/sec
Query 34: actual 91 (0.013%)  origin-forest_43.843 97 (err=1.066)  
83.3 queries/sec
Query 35: actual 1867 (0.268%)  origin-forest_43.843 2135 (err=1.144)  
83.3 queries/sec
Query 36: actual 20 (0.003%)  origin-forest_43.843 1 (err=20.000)  
76.9 queries/sec
Query 37: actual 1483 (0.213%)  origin-forest_43.843 1573 (err=1.061)  
90.9 queries/sec
Query 38: actual 145 (0.021%)  origin-forest_43.843 159 (err=1.097)  
90.9 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 40: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 41: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 42: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 44: actual 284 (0.041%)  origin-forest_43.843 160 (err=1.775)  
90.9 queries/sec
Query 45: actual 14265 (2.046%)  origin-forest_43.843 14742 (err=1.033)  
90.9 queries/sec
Query 46: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
79.9 queries/sec
Query 47: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
76.7 queries/sec
Query 48: actual 9 (0.001%)  origin-forest_43.843 1 (err=9.000)  
76.9 queries/sec
Query 49: actual 27 (0.004%)  origin-forest_43.843 1 (err=27.000)  
origin-forest_43.843 	max: 124.0000	99th: 95.5800	95th: 23.8500	median: 1.0983	mean: 6.6611
ReportEsts: [1.6666666666666667, 1.0, 1.0, 9.496815286624203, 1.0535660547697863, 1.0, 2.0, 66.0, 1.0, 1.0369318181818181, 1.0, 1.2181818181818183, 124.0, 1.0, 1.0, 1.021505376344086, 1.0, 1.511111111111111, 2.1, 2.0, 3.0, 1.0, 1.1, 2.0, 18.0, 1.0, 1.3956521739130434, 1.4166666666666667, 3.0338983050847457, 1.0616438356164384, 1.0, 3.0, 1.746765574462101, 1.0194285714285714, 1.065934065934066, 1.1435457953936796, 20.0, 1.0606877950101146, 1.096551724137931, 1.0, 1.0, 1.0, 1.0, 1.0, 1.775, 1.0334384858044163, 2.0, 2.0, 9.0, 27.0]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 49/50 | Workload-time: 4.033833 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 50/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
40.0 queries/sec
Query 1: actual 2 (0.000%)  origin-forest_43.843 2 (err=1.000)  
83.3 queries/sec
Query 2: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 3: actual 128 (0.018%)  origin-forest_43.843 211 (err=1.648)  
90.9 queries/sec
Query 4: actual 6 (0.001%)  origin-forest_43.843 3 (err=2.000)  
83.3 queries/sec
Query 5: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 6: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 7: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
80.0 queries/sec
Query 8: actual 68 (0.010%)  origin-forest_43.843 2 (err=34.000)  
90.9 queries/sec
Query 9: actual 9 (0.001%)  origin-forest_43.843 1 (err=9.000)  
76.9 queries/sec
Query 10: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 11: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 12: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 13: actual 438 (0.063%)  origin-forest_43.843 539 (err=1.231)  
90.9 queries/sec
Query 14: actual 1332 (0.191%)  origin-forest_43.843 979 (err=1.361)  
91.5 queries/sec
Query 15: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
72.0 queries/sec
Query 16: actual 55 (0.008%)  origin-forest_43.843 12 (err=4.583)  
83.3 queries/sec
Query 17: actual 1838 (0.264%)  origin-forest_43.843 1964 (err=1.069)  
83.3 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 19: actual 6 (0.001%)  origin-forest_43.843 1 (err=6.000)  
83.3 queries/sec
Query 20: actual 42 (0.006%)  origin-forest_43.843 1 (err=42.000)  
83.3 queries/sec
Query 21: actual 32944 (4.725%)  origin-forest_43.843 33101 (err=1.005)  
83.3 queries/sec
Query 22: actual 158 (0.023%)  origin-forest_43.843 87 (err=1.816)  
90.9 queries/sec
Query 23: actual 5149 (0.739%)  origin-forest_43.843 5088 (err=1.012)  
100.0 queries/sec
Query 24: actual 7 (0.001%)  origin-forest_43.843 11 (err=1.571)  
86.9 queries/sec
Query 25: actual 22033 (3.160%)  origin-forest_43.843 28531 (err=1.295)  
90.9 queries/sec
Query 26: actual 21901 (3.141%)  origin-forest_43.843 38488 (err=1.757)  
90.9 queries/sec
Query 27: actual 574 (0.082%)  origin-forest_43.843 662 (err=1.153)  
76.9 queries/sec
Query 28: actual 14 (0.002%)  origin-forest_43.843 15 (err=1.071)  
83.3 queries/sec
Query 29: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
76.9 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 31: actual 1154 (0.166%)  origin-forest_43.843 1349 (err=1.169)  
83.3 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
70.9 queries/sec
Query 33: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 34: actual 39414 (5.653%)  origin-forest_43.843 42152 (err=1.069)  
90.9 queries/sec
Query 35: actual 68 (0.010%)  origin-forest_43.843 72 (err=1.059)  
83.3 queries/sec
Query 36: actual 67 (0.010%)  origin-forest_43.843 23 (err=2.913)  
76.9 queries/sec
Query 37: actual 4 (0.001%)  origin-forest_43.843 8 (err=2.000)  
71.4 queries/sec
Query 38: actual 23 (0.003%)  origin-forest_43.843 1 (err=23.000)  
76.9 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 40: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
74.0 queries/sec
Query 41: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 42: actual 488 (0.070%)  origin-forest_43.843 1 (err=488.000)  
83.3 queries/sec
Query 43: actual 9 (0.001%)  origin-forest_43.843 13 (err=1.444)  
83.3 queries/sec
Query 44: actual 692 (0.099%)  origin-forest_43.843 170 (err=4.071)  
90.9 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 46: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
90.9 queries/sec
Query 47: actual 17 (0.002%)  origin-forest_43.843 1 (err=17.000)  
90.9 queries/sec
Query 48: actual 4 (0.001%)  origin-forest_43.843 4 (err=1.000)  
80.0 queries/sec
Query 49: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
origin-forest_43.843 	max: 488.0000	99th: 269.4600	95th: 29.0500	median: 1.0704	mean: 13.5860
ReportEsts: [1.0, 1.0, 1.0, 1.6484375, 2.0, 1.0, 1.0, 1.0, 34.0, 9.0, 1.0, 1.0, 1.0, 1.230593607305936, 1.3605720122574054, 1.0, 4.583333333333333, 1.0685527747551686, 1.0, 6.0, 42.0, 1.0047656629431763, 1.8160919540229885, 1.0119889937106918, 1.5714285714285714, 1.2949212544819135, 1.7573626775033104, 1.1533101045296168, 1.0714285714285714, 2.0, 1.0, 1.1689774696707105, 1.0, 1.0, 1.0694677018318364, 1.0588235294117647, 2.9130434782608696, 2.0, 23.0, 1.0, 1.0, 1.0, 488.0, 1.4444444444444444, 4.070588235294117, 1.0, 2.0, 17.0, 1.0, 1.0]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 50/50 | Workload-time: 4.018592 | Model-update-time: 0.000000





Experiment Summary: #drift=13 | total-time=450.165536

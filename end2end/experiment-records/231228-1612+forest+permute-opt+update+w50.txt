Input arguments = Namespace(data_update='permute-opt', dataset='forest', debug=False, drift_test='ddup', model_update='update', model='naru', random_seed=42, num_workload=50)
MODEL-PATH=F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
DATASET-PATH=F:\DBGroup\LearnedCardinalityUpdater\data\forest\end2end\forest.npy
Workload weights: query=15, data-update=10
Workloads: ['DataUpdateWorkload', 'QueryWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'QueryWorkload', 'QueryWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'DataUpdateWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'QueryWorkload', 'QueryWorkload', 'QueryWorkload', 'QueryWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'DataUpdateWorkload', 'DataUpdateWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'QueryWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'QueryWorkload', 'QueryWorkload', 'QueryWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'QueryWorkload', 'QueryWorkload', 'QueryWorkload', 'QueryWorkload']



WORKLOAD-START | Type: DataUpdateWorkload | Progress: 1/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=permute-opt', '--dataset=forest', '--drift_test=ddup', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
Permute - START
Permute - END
load_npy_dataset_from_path - df.shape = (591012, 10)
Parsing... done, took 0.1s
Data updated!
done, took 0.1s
done, took 0.1s
new data average log likelihood = 71.6770
detection mean = 43.5391
detection threshold = 0.3111
test statistic = 28.1379
Offline time = 2.8632733821868896
Online time = 0.46952295303344727
Test result: True
Drift detection: True
[0m
DRIFT-DETECTED after 1-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=update']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (591012, 10)
Parsing... done, took 0.1s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.1s
dataset size: 591012
train data shape: torch.Size([10000, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 79.6711 bits (loss 98.844, data 19.173) 0.00100 lr
epoch 9 train loss 55.0178 nats / 79.3739 bits
time since start: 4.0 secs
Epoch 10 Iter 0, train entropy gap 59.8828 bits (loss 79.056, data 19.173) 0.00082 lr
epoch 19 train loss 52.6179 nats / 75.9116 bits
time since start: 7.2 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 101.6384 nats / 146.6332 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 1/50 | Workload-time: 6.491482 | Model-update-time: 10.571864


WORKLOAD-START | Type: QueryWorkload | Progress: 2/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
38.5 queries/sec
Query 1: actual 6 (0.001%)  origin-forest_43.843 9 (err=1.500)  
62.5 queries/sec
Query 2: actual 15 (0.002%)  origin-forest_43.843 1 (err=15.000)  
76.9 queries/sec
Query 3: actual 5353 (0.768%)  origin-forest_43.843 5773 (err=1.078)  
80.0 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 5: actual 1 (0.000%)  origin-forest_43.843 3 (err=3.000)  
90.9 queries/sec
Query 6: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 7: actual 14 (0.002%)  origin-forest_43.843 7 (err=2.000)  
73.8 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
68.5 queries/sec
Query 9: actual 91 (0.013%)  origin-forest_43.843 38 (err=2.395)  
76.9 queries/sec
Query 10: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
64.5 queries/sec
Query 11: actual 20 (0.003%)  origin-forest_43.843 24 (err=1.200)  
76.9 queries/sec
Query 12: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 13: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 14: actual 506 (0.073%)  origin-forest_43.843 19 (err=26.632)  
71.4 queries/sec
Query 15: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 16: actual 905 (0.130%)  origin-forest_43.843 483 (err=1.874)  
90.9 queries/sec
Query 17: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 18: actual 2737 (0.393%)  origin-forest_43.843 11007 (err=4.022)  
86.9 queries/sec
Query 19: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
90.9 queries/sec
Query 20: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 23: actual 1746 (0.250%)  origin-forest_43.843 2314 (err=1.325)  
83.3 queries/sec
Query 24: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
83.3 queries/sec
Query 25: actual 3498 (0.502%)  origin-forest_43.843 3245 (err=1.078)  
90.8 queries/sec
Query 26: actual 85356 (12.242%)  origin-forest_43.843 105094 (err=1.231)  
86.9 queries/sec
Query 27: actual 586 (0.084%)  origin-forest_43.843 325 (err=1.803)  
90.8 queries/sec
Query 28: actual 3 (0.000%)  origin-forest_43.843 1 (err=3.000)  
90.9 queries/sec
Query 29: actual 197 (0.028%)  origin-forest_43.843 17 (err=11.588)  
83.4 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
62.5 queries/sec
Query 31: actual 8 (0.001%)  origin-forest_43.843 6 (err=1.333)  
83.3 queries/sec
Query 32: actual 392 (0.056%)  origin-forest_43.843 894 (err=2.281)  
90.9 queries/sec
Query 33: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 34: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.4 queries/sec
Query 35: actual 13477 (1.933%)  origin-forest_43.843 20416 (err=1.515)  
79.9 queries/sec
Query 36: actual 12 (0.002%)  origin-forest_43.843 18 (err=1.500)  
76.9 queries/sec
Query 37: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 40: actual 88 (0.013%)  origin-forest_43.843 25 (err=3.520)  
76.9 queries/sec
Query 41: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 42: actual 2511 (0.360%)  origin-forest_43.843 2980 (err=1.187)  
83.4 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 3 (err=3.000)  
82.4 queries/sec
Query 44: actual 89 (0.013%)  origin-forest_43.843 1 (err=89.000)  
83.3 queries/sec
Query 45: actual 23689 (3.398%)  origin-forest_43.843 45620 (err=1.926)  
83.3 queries/sec
Query 46: actual 11 (0.002%)  origin-forest_43.843 1 (err=11.000)  
71.4 queries/sec
Query 47: actual 305 (0.044%)  origin-forest_43.843 58 (err=5.259)  
71.4 queries/sec
Query 48: actual 114 (0.016%)  origin-forest_43.843 1 (err=114.000)  
66.7 queries/sec
Query 49: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
origin-forest_43.843 	max: 114.0000	99th: 101.7500	95th: 21.3974	median: 1.2783	mean: 6.7649
ReportEsts: [1.0, 1.5, 15.0, 1.078460676256305, 1.0, 3.0, 1.0, 2.0, 1.0, 2.3947368421052633, 1.0, 1.2, 1.0, 1.0, 26.63157894736842, 1.0, 1.8737060041407867, 1.0, 4.0215564486664235, 2.0, 1.0, 1.0, 1.0, 1.3253150057273768, 2.0, 1.0779661016949154, 1.2312432635081307, 1.803076923076923, 3.0, 11.588235294117647, 1.0, 1.3333333333333333, 2.2806122448979593, 1.0, 1.0, 1.514877198189508, 1.5, 1.0, 1.0, 1.0, 3.52, 1.0, 1.1867781760254879, 3.0, 89.0, 1.925788340580016, 11.0, 5.258620689655173, 114.0, 1.0]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 2/50 | Workload-time: 4.148031 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 3/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
40.8 queries/sec
Query 1: actual 167146 (23.973%)  origin-forest_43.843 202692 (err=1.213)  
90.9 queries/sec
Query 2: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 3: actual 48 (0.007%)  origin-forest_43.843 74 (err=1.542)  
83.3 queries/sec
Query 4: actual 7254 (1.040%)  origin-forest_43.843 4127 (err=1.758)  
90.9 queries/sec
Query 5: actual 6 (0.001%)  origin-forest_43.843 5 (err=1.200)  
83.3 queries/sec
Query 6: actual 43 (0.006%)  origin-forest_43.843 1 (err=43.000)  
83.3 queries/sec
Query 7: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
82.2 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
83.1 queries/sec
Query 9: actual 4 (0.001%)  origin-forest_43.843 8 (err=2.000)  
79.0 queries/sec
Query 10: actual 36 (0.005%)  origin-forest_43.843 1 (err=36.000)  
83.3 queries/sec
Query 11: actual 514 (0.074%)  origin-forest_43.843 2745 (err=5.340)  
90.9 queries/sec
Query 12: actual 350 (0.050%)  origin-forest_43.843 1 (err=350.000)  
83.3 queries/sec
Query 13: actual 60 (0.009%)  origin-forest_43.843 242 (err=4.033)  
90.9 queries/sec
Query 14: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 15: actual 4 (0.001%)  origin-forest_43.843 2 (err=2.000)  
83.3 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 17: actual 2 (0.000%)  origin-forest_43.843 2 (err=1.000)  
95.2 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 19: actual 100679 (14.440%)  origin-forest_43.843 107708 (err=1.070)  
90.9 queries/sec
Query 20: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 21: actual 8364 (1.200%)  origin-forest_43.843 10030 (err=1.199)  
66.7 queries/sec
Query 22: actual 48 (0.007%)  origin-forest_43.843 187 (err=3.896)  
83.3 queries/sec
Query 23: actual 2275 (0.326%)  origin-forest_43.843 1850 (err=1.230)  
90.9 queries/sec
Query 24: actual 3 (0.000%)  origin-forest_43.843 30 (err=10.000)  
83.3 queries/sec
Query 25: actual 7 (0.001%)  origin-forest_43.843 211 (err=30.143)  
90.9 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.9 queries/sec
Query 27: actual 5705 (0.818%)  origin-forest_43.843 9640 (err=1.690)  
90.9 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 3 (err=3.000)  
83.3 queries/sec
Query 29: actual 486 (0.070%)  origin-forest_43.843 1099 (err=2.261)  
90.9 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
83.3 queries/sec
Query 31: actual 12186 (1.748%)  origin-forest_43.843 13009 (err=1.068)  
96.1 queries/sec
Query 32: actual 83 (0.012%)  origin-forest_43.843 1 (err=83.000)  
84.1 queries/sec
Query 33: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 34: actual 6 (0.001%)  origin-forest_43.843 1 (err=6.000)  
82.9 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 36: actual 6 (0.001%)  origin-forest_43.843 1 (err=6.000)  
76.9 queries/sec
Query 37: actual 499 (0.072%)  origin-forest_43.843 3 (err=166.333)  
100.0 queries/sec
Query 38: actual 3442 (0.494%)  origin-forest_43.843 4347 (err=1.263)  
90.9 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 40: actual 23 (0.003%)  origin-forest_43.843 1 (err=23.000)  
90.9 queries/sec
Query 41: actual 3 (0.000%)  origin-forest_43.843 1 (err=3.000)  
79.7 queries/sec
Query 42: actual 53 (0.008%)  origin-forest_43.843 8 (err=6.625)  
83.3 queries/sec
Query 43: actual 15 (0.002%)  origin-forest_43.843 30 (err=2.000)  
79.9 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 45: actual 71 (0.010%)  origin-forest_43.843 1 (err=71.000)  
83.3 queries/sec
Query 46: actual 960 (0.138%)  origin-forest_43.843 1154 (err=1.202)  
83.3 queries/sec
Query 47: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 48: actual 1012 (0.145%)  origin-forest_43.843 575 (err=1.760)  
90.9 queries/sec
Query 49: actual 1166 (0.167%)  origin-forest_43.843 1167 (err=1.001)  
origin-forest_43.843 	max: 350.0000	99th: 260.0033	95th: 77.6000	median: 1.7237	mean: 17.8765
ReportEsts: [1.0, 1.2126643772510262, 1.0, 1.5416666666666667, 1.757693239641386, 1.2, 43.0, 1.0, 2.0, 2.0, 36.0, 5.340466926070039, 350.0, 4.033333333333333, 1.0, 2.0, 1.0, 1.0, 1.0, 1.0698159497015267, 1.0, 1.1991869918699187, 3.8958333333333335, 1.2297297297297298, 10.0, 30.142857142857142, 1.0, 1.6897458369851008, 3.0, 2.2613168724279835, 2.0, 1.0675365173149516, 83.0, 1.0, 6.0, 1.0, 6.0, 166.33333333333334, 1.2629285299244626, 1.0, 23.0, 3.0, 6.625, 2.0, 1.0, 71.0, 1.2020833333333334, 1.0, 1.76, 1.0008576329331047]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 3/50 | Workload-time: 4.050658 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 4/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=permute-opt', '--dataset=forest', '--drift_test=ddup', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
Permute - START
Permute - END
load_npy_dataset_from_path - df.shape = (601012, 10)
Parsing... done, took 0.1s
Data updated!
done, took 0.1s
done, took 0.1s
new data average log likelihood = 58.9725
detection mean = 47.5463
detection threshold = 0.3411
test statistic = 11.4262
Offline time = 2.894350290298462
Online time = 0.460221529006958
Test result: True
Drift detection: True
[0m
DRIFT-DETECTED after 4-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=update']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (601012, 10)
Parsing... done, took 0.1s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.1s
dataset size: 601012
train data shape: torch.Size([10000, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 58.1136 bits (loss 77.311, data 19.197) 0.00100 lr
epoch 9 train loss 51.8842 nats / 74.8530 bits
time since start: 3.8 secs
Epoch 10 Iter 0, train entropy gap 55.3772 bits (loss 74.574, data 19.197) 0.00082 lr
epoch 19 train loss 51.3490 nats / 74.0810 bits
time since start: 6.9 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 78.0756 nats / 112.6393 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 4/50 | Workload-time: 6.509185 | Model-update-time: 10.218653


WORKLOAD-START | Type: QueryWorkload | Progress: 5/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 7 (0.001%)  origin-forest_43.843 1408 (err=201.143)  
41.7 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 2: actual 608 (0.087%)  origin-forest_43.843 661 (err=1.087)  
83.3 queries/sec
Query 3: actual 9 (0.001%)  origin-forest_43.843 2 (err=4.500)  
76.9 queries/sec
Query 4: actual 41 (0.006%)  origin-forest_43.843 7 (err=5.857)  
90.9 queries/sec
Query 5: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 6: actual 191 (0.027%)  origin-forest_43.843 1 (err=191.000)  
90.8 queries/sec
Query 7: actual 9 (0.001%)  origin-forest_43.843 5 (err=1.800)  
83.3 queries/sec
Query 8: actual 3 (0.000%)  origin-forest_43.843 1 (err=3.000)  
76.9 queries/sec
Query 9: actual 59 (0.008%)  origin-forest_43.843 4 (err=14.750)  
83.3 queries/sec
Query 10: actual 24 (0.003%)  origin-forest_43.843 575 (err=23.958)  
83.3 queries/sec
Query 11: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 12: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 13: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 14: actual 31 (0.004%)  origin-forest_43.843 28 (err=1.107)  
95.2 queries/sec
Query 15: actual 325 (0.047%)  origin-forest_43.843 230 (err=1.413)  
86.3 queries/sec
Query 16: actual 2 (0.000%)  origin-forest_43.843 3 (err=1.500)  
83.3 queries/sec
Query 17: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 18: actual 12971 (1.860%)  origin-forest_43.843 16818 (err=1.297)  
100.0 queries/sec
Query 19: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 20: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 21: actual 659 (0.095%)  origin-forest_43.843 150 (err=4.393)  
83.3 queries/sec
Query 22: actual 7 (0.001%)  origin-forest_43.843 6 (err=1.167)  
90.8 queries/sec
Query 23: actual 7 (0.001%)  origin-forest_43.843 1 (err=7.000)  
86.8 queries/sec
Query 24: actual 13 (0.002%)  origin-forest_43.843 1 (err=13.000)  
83.3 queries/sec
Query 25: actual 89 (0.013%)  origin-forest_43.843 59 (err=1.508)  
83.3 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
80.0 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.3 queries/sec
Query 28: actual 176 (0.025%)  origin-forest_43.843 1 (err=176.000)  
76.9 queries/sec
Query 29: actual 78440 (11.250%)  origin-forest_43.843 89861 (err=1.146)  
100.0 queries/sec
Query 30: actual 8 (0.001%)  origin-forest_43.843 8 (err=1.000)  
76.9 queries/sec
Query 31: actual 301 (0.043%)  origin-forest_43.843 162 (err=1.858)  
86.9 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 3 (err=3.000)  
83.3 queries/sec
Query 33: actual 21479 (3.081%)  origin-forest_43.843 11501 (err=1.868)  
90.9 queries/sec
Query 34: actual 1940 (0.278%)  origin-forest_43.843 669 (err=2.900)  
90.9 queries/sec
Query 35: actual 148 (0.021%)  origin-forest_43.843 153 (err=1.034)  
83.3 queries/sec
Query 36: actual 145 (0.021%)  origin-forest_43.843 290 (err=2.000)  
76.9 queries/sec
Query 37: actual 21 (0.003%)  origin-forest_43.843 1 (err=21.000)  
83.3 queries/sec
Query 38: actual 139537 (20.014%)  origin-forest_43.843 160176 (err=1.148)  
83.3 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
90.8 queries/sec
Query 40: actual 27924 (4.005%)  origin-forest_43.843 7100 (err=3.933)  
95.1 queries/sec
Query 41: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 42: actual 5 (0.001%)  origin-forest_43.843 1 (err=5.000)  
90.9 queries/sec
Query 43: actual 11062 (1.587%)  origin-forest_43.843 852 (err=12.984)  
62.5 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.4 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 46: actual 4700 (0.674%)  origin-forest_43.843 4377 (err=1.074)  
87.0 queries/sec
Query 47: actual 1 (0.000%)  origin-forest_43.843 6 (err=6.000)  
83.3 queries/sec
Query 48: actual 2039 (0.292%)  origin-forest_43.843 3107 (err=1.524)  
99.5 queries/sec
Query 49: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
origin-forest_43.843 	max: 201.1429	99th: 196.1729	95th: 107.5812	median: 1.5042	mean: 14.7790
ReportEsts: [201.14285714285714, 1.0, 1.087171052631579, 4.5, 5.857142857142857, 1.0, 191.0, 1.8, 3.0, 14.75, 23.958333333333332, 1.0, 1.0, 1.0, 1.1071428571428572, 1.4130434782608696, 1.5, 1.0, 1.29658468892144, 1.0, 1.0, 4.3933333333333335, 1.1666666666666667, 7.0, 13.0, 1.5084745762711864, 1.0, 1.0, 176.0, 1.145601733809281, 1.0, 1.8580246913580247, 3.0, 1.8675767324580472, 2.899850523168909, 1.0337837837837838, 2.0, 21.0, 1.147910590022718, 2.0, 3.9329577464788734, 1.0, 5.0, 12.98356807511737, 1.0, 1.0, 1.0737948366461045, 6.0, 1.523786169691025, 1.0]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 5/50 | Workload-time: 4.022148 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 6/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 6 (0.001%)  origin-forest_43.843 16 (err=2.667)  
41.7 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 2: actual 78 (0.011%)  origin-forest_43.843 1 (err=78.000)  
83.4 queries/sec
Query 3: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 5: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 6: actual 5 (0.001%)  origin-forest_43.843 4 (err=1.250)  
90.9 queries/sec
Query 7: actual 1592 (0.228%)  origin-forest_43.843 892 (err=1.785)  
81.6 queries/sec
Query 8: actual 101 (0.014%)  origin-forest_43.843 44 (err=2.295)  
100.0 queries/sec
Query 9: actual 396 (0.057%)  origin-forest_43.843 571 (err=1.442)  
90.9 queries/sec
Query 10: actual 2299 (0.330%)  origin-forest_43.843 6036 (err=2.625)  
90.9 queries/sec
Query 11: actual 56 (0.008%)  origin-forest_43.843 1 (err=56.000)  
83.3 queries/sec
Query 12: actual 8 (0.001%)  origin-forest_43.843 10 (err=1.250)  
83.3 queries/sec
Query 13: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 14: actual 1342 (0.192%)  origin-forest_43.843 1273 (err=1.054)  
83.3 queries/sec
Query 15: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 16: actual 28132 (4.035%)  origin-forest_43.843 13376 (err=2.103)  
82.6 queries/sec
Query 17: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
85.1 queries/sec
Query 18: actual 38077 (5.461%)  origin-forest_43.843 28466 (err=1.338)  
83.3 queries/sec
Query 19: actual 960 (0.138%)  origin-forest_43.843 892 (err=1.076)  
83.3 queries/sec
Query 20: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.4 queries/sec
Query 21: actual 60 (0.009%)  origin-forest_43.843 85 (err=1.417)  
90.9 queries/sec
Query 22: actual 4 (0.001%)  origin-forest_43.843 6 (err=1.500)  
90.9 queries/sec
Query 23: actual 54 (0.008%)  origin-forest_43.843 175 (err=3.241)  
83.3 queries/sec
Query 24: actual 30 (0.004%)  origin-forest_43.843 5 (err=6.000)  
86.9 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 26: actual 63 (0.009%)  origin-forest_43.843 1 (err=63.000)  
90.9 queries/sec
Query 27: actual 33 (0.005%)  origin-forest_43.843 66 (err=2.000)  
83.3 queries/sec
Query 28: actual 3 (0.000%)  origin-forest_43.843 2 (err=1.500)  
100.0 queries/sec
Query 29: actual 12 (0.002%)  origin-forest_43.843 27 (err=2.250)  
76.9 queries/sec
Query 30: actual 29151 (4.181%)  origin-forest_43.843 26818 (err=1.087)  
100.0 queries/sec
Query 31: actual 4682 (0.672%)  origin-forest_43.843 4765 (err=1.018)  
90.9 queries/sec
Query 32: actual 18233 (2.615%)  origin-forest_43.843 18693 (err=1.025)  
90.9 queries/sec
Query 33: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
80.0 queries/sec
Query 34: actual 46 (0.007%)  origin-forest_43.843 1 (err=46.000)  
83.3 queries/sec
Query 35: actual 25 (0.004%)  origin-forest_43.843 78 (err=3.120)  
90.9 queries/sec
Query 36: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 37: actual 6 (0.001%)  origin-forest_43.843 8 (err=1.333)  
100.0 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 39: actual 4 (0.001%)  origin-forest_43.843 4 (err=1.000)  
83.3 queries/sec
Query 40: actual 137 (0.020%)  origin-forest_43.843 114 (err=1.202)  
90.6 queries/sec
Query 41: actual 12 (0.002%)  origin-forest_43.843 2 (err=6.000)  
87.2 queries/sec
Query 42: actual 11 (0.002%)  origin-forest_43.843 1 (err=11.000)  
83.3 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
76.9 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
58.8 queries/sec
Query 45: actual 984 (0.141%)  origin-forest_43.843 392 (err=2.510)  
90.9 queries/sec
Query 46: actual 88185 (12.648%)  origin-forest_43.843 105665 (err=1.198)  
100.0 queries/sec
Query 47: actual 53 (0.008%)  origin-forest_43.843 2 (err=26.500)  
83.3 queries/sec
Query 48: actual 286616 (41.109%)  origin-forest_43.843 285584 (err=1.004)  
90.9 queries/sec
Query 49: actual 6 (0.001%)  origin-forest_43.843 14 (err=2.333)  
origin-forest_43.843 	max: 78.0000	99th: 70.6500	95th: 51.5000	median: 1.3355	mean: 7.1025
ReportEsts: [2.6666666666666665, 1.0, 78.0, 1.0, 1.0, 1.0, 1.25, 1.7847533632286996, 2.2954545454545454, 1.4419191919191918, 2.6254893431926924, 56.0, 1.25, 1.0, 1.054202670856245, 1.0, 2.10316985645933, 1.0, 1.3376308578655238, 1.0762331838565022, 1.0, 1.4166666666666667, 1.5, 3.240740740740741, 6.0, 1.0, 63.0, 2.0, 1.5, 2.25, 1.0869938101275263, 1.0177274668944896, 1.0252289804201173, 1.0, 46.0, 3.12, 1.0, 1.3333333333333333, 1.0, 1.0, 1.2017543859649122, 6.0, 11.0, 2.0, 1.0, 2.510204081632653, 1.1982196518682315, 26.5, 1.0036136478234075, 2.3333333333333335]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 6/50 | Workload-time: 3.987511 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 7/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 89 (0.013%)  origin-forest_43.843 113 (err=1.270)  
43.5 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
74.0 queries/sec
Query 2: actual 368 (0.053%)  origin-forest_43.843 182 (err=2.022)  
76.9 queries/sec
Query 3: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
78.5 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
82.9 queries/sec
Query 5: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
80.9 queries/sec
Query 6: actual 1673 (0.240%)  origin-forest_43.843 5 (err=334.600)  
90.9 queries/sec
Query 7: actual 93 (0.013%)  origin-forest_43.843 518 (err=5.570)  
90.9 queries/sec
Query 8: actual 309 (0.044%)  origin-forest_43.843 265 (err=1.166)  
90.9 queries/sec
Query 9: actual 4 (0.001%)  origin-forest_43.843 4 (err=1.000)  
90.3 queries/sec
Query 10: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
90.9 queries/sec
Query 11: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 12: actual 341499 (48.981%)  origin-forest_43.843 348831 (err=1.021)  
90.9 queries/sec
Query 13: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 14: actual 34 (0.005%)  origin-forest_43.843 41 (err=1.206)  
90.9 queries/sec
Query 15: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
90.9 queries/sec
Query 17: actual 73726 (10.574%)  origin-forest_43.843 66324 (err=1.112)  
90.9 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.6 queries/sec
Query 19: actual 2 (0.000%)  origin-forest_43.843 3 (err=1.500)  
83.3 queries/sec
Query 20: actual 101 (0.014%)  origin-forest_43.843 122 (err=1.208)  
100.0 queries/sec
Query 21: actual 16 (0.002%)  origin-forest_43.843 47 (err=2.938)  
90.9 queries/sec
Query 22: actual 4 (0.001%)  origin-forest_43.843 4 (err=1.000)  
90.9 queries/sec
Query 23: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 24: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
83.3 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 27: actual 105 (0.015%)  origin-forest_43.843 150 (err=1.429)  
87.6 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 29: actual 43959 (6.305%)  origin-forest_43.843 41502 (err=1.059)  
90.9 queries/sec
Query 30: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
90.9 queries/sec
Query 31: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 32: actual 312 (0.045%)  origin-forest_43.843 445 (err=1.426)  
100.0 queries/sec
Query 33: actual 21 (0.003%)  origin-forest_43.843 2 (err=10.500)  
83.3 queries/sec
Query 34: actual 94 (0.013%)  origin-forest_43.843 61 (err=1.541)  
90.9 queries/sec
Query 35: actual 81 (0.012%)  origin-forest_43.843 1 (err=81.000)  
80.0 queries/sec
Query 36: actual 91 (0.013%)  origin-forest_43.843 1 (err=91.000)  
83.0 queries/sec
Query 37: actual 1012 (0.145%)  origin-forest_43.843 966 (err=1.048)  
83.6 queries/sec
Query 38: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
83.3 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 40: actual 4826 (0.692%)  origin-forest_43.843 7077 (err=1.466)  
90.9 queries/sec
Query 41: actual 105609 (15.147%)  origin-forest_43.843 99319 (err=1.063)  
90.9 queries/sec
Query 42: actual 97 (0.014%)  origin-forest_43.843 829 (err=8.546)  
83.3 queries/sec
Query 43: actual 104006 (14.917%)  origin-forest_43.843 117562 (err=1.130)  
90.9 queries/sec
Query 44: actual 25 (0.004%)  origin-forest_43.843 46 (err=1.840)  
82.9 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 46: actual 54 (0.008%)  origin-forest_43.843 77 (err=1.426)  
83.3 queries/sec
Query 47: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 48: actual 24828 (3.561%)  origin-forest_43.843 35571 (err=1.433)  
90.9 queries/sec
Query 49: actual 45401 (6.512%)  origin-forest_43.843 47627 (err=1.049)  
origin-forest_43.843 	max: 334.6000	99th: 215.2360	95th: 49.2750	median: 1.1482	mean: 11.7714
ReportEsts: [1.2696629213483146, 1.0, 2.021978021978022, 1.0, 1.0, 1.0, 334.6, 5.56989247311828, 1.1660377358490566, 1.0, 2.0, 1.0, 1.0214700482285453, 1.0, 1.2058823529411764, 1.0, 2.0, 1.1116036427235994, 1.0, 1.5, 1.2079207920792079, 2.9375, 1.0, 1.0, 2.0, 1.0, 1.0, 1.4285714285714286, 1.0, 1.0592019661703052, 2.0, 1.0, 1.4262820512820513, 10.5, 1.540983606557377, 81.0, 91.0, 1.0476190476190477, 2.0, 1.0, 1.4664318276004973, 1.0633312860580553, 8.54639175257732, 1.1303386343095592, 1.84, 1.0, 1.4259259259259258, 1.0, 1.4326969550507491, 1.0490297570538094]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 7/50 | Workload-time: 3.984819 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 8/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 133 (0.019%)  origin-forest_43.843 2 (err=66.500)  
41.7 queries/sec
Query 1: actual 2 (0.000%)  origin-forest_43.843 3 (err=1.500)  
71.4 queries/sec
Query 2: actual 3959 (0.568%)  origin-forest_43.843 4541 (err=1.147)  
95.1 queries/sec
Query 3: actual 144 (0.021%)  origin-forest_43.843 45 (err=3.200)  
90.9 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 5: actual 526 (0.075%)  origin-forest_43.843 109 (err=4.826)  
90.9 queries/sec
Query 6: actual 377 (0.054%)  origin-forest_43.843 798 (err=2.117)  
83.3 queries/sec
Query 7: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 8: actual 215 (0.031%)  origin-forest_43.843 102 (err=2.108)  
90.9 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 10: actual 645 (0.093%)  origin-forest_43.843 1944 (err=3.014)  
83.3 queries/sec
Query 11: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
95.2 queries/sec
Query 12: actual 3 (0.000%)  origin-forest_43.843 4 (err=1.333)  
92.5 queries/sec
Query 13: actual 2 (0.000%)  origin-forest_43.843 2 (err=1.000)  
83.3 queries/sec
Query 14: actual 559 (0.080%)  origin-forest_43.843 1 (err=559.000)  
83.3 queries/sec
Query 15: actual 174 (0.025%)  origin-forest_43.843 249 (err=1.431)  
90.9 queries/sec
Query 16: actual 225 (0.032%)  origin-forest_43.843 626 (err=2.782)  
83.3 queries/sec
Query 17: actual 1769 (0.254%)  origin-forest_43.843 1937 (err=1.095)  
90.9 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 19: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
80.0 queries/sec
Query 20: actual 299096 (42.899%)  origin-forest_43.843 305567 (err=1.022)  
90.9 queries/sec
Query 21: actual 103734 (14.878%)  origin-forest_43.843 99709 (err=1.040)  
90.9 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 23: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 24: actual 40 (0.006%)  origin-forest_43.843 3 (err=13.333)  
83.3 queries/sec
Query 25: actual 7 (0.001%)  origin-forest_43.843 8 (err=1.143)  
90.9 queries/sec
Query 26: actual 14018 (2.011%)  origin-forest_43.843 25876 (err=1.846)  
90.9 queries/sec
Query 27: actual 41 (0.006%)  origin-forest_43.843 1 (err=41.000)  
83.3 queries/sec
Query 28: actual 134 (0.019%)  origin-forest_43.843 1 (err=134.000)  
86.9 queries/sec
Query 29: actual 6 (0.001%)  origin-forest_43.843 6 (err=1.000)  
83.3 queries/sec
Query 30: actual 27 (0.004%)  origin-forest_43.843 19 (err=1.421)  
100.0 queries/sec
Query 31: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 33: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 34: actual 130 (0.019%)  origin-forest_43.843 176 (err=1.354)  
83.3 queries/sec
Query 35: actual 40236 (5.771%)  origin-forest_43.843 40390 (err=1.004)  
100.0 queries/sec
Query 36: actual 10 (0.001%)  origin-forest_43.843 1 (err=10.000)  
76.9 queries/sec
Query 37: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.9 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.4 queries/sec
Query 40: actual 2 (0.000%)  origin-forest_43.843 12 (err=6.000)  
88.6 queries/sec
Query 41: actual 26 (0.004%)  origin-forest_43.843 1 (err=26.000)  
76.3 queries/sec
Query 42: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.5 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 44: actual 1213 (0.174%)  origin-forest_43.843 1026 (err=1.182)  
90.8 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 46: actual 93 (0.013%)  origin-forest_43.843 2 (err=46.500)  
83.3 queries/sec
Query 47: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
76.9 queries/sec
Query 48: actual 3 (0.000%)  origin-forest_43.843 1 (err=3.000)  
76.9 queries/sec
Query 49: actual 118 (0.017%)  origin-forest_43.843 92 (err=1.283)  
origin-forest_43.843 	max: 559.0000	99th: 350.7500	95th: 57.5000	median: 1.1646	mean: 19.2436
ReportEsts: [66.5, 1.5, 1.1470068199040162, 3.2, 1.0, 4.825688073394495, 2.116710875331565, 1.0, 2.107843137254902, 1.0, 3.013953488372093, 1.0, 1.3333333333333333, 1.0, 559.0, 1.4310344827586208, 2.7822222222222224, 1.094968908988129, 1.0, 1.0, 1.0216351940514083, 1.0403674693357672, 1.0, 1.0, 13.333333333333334, 1.1428571428571428, 1.845912398344985, 41.0, 134.0, 1.0, 1.4210526315789473, 1.0, 1.0, 1.0, 1.353846153846154, 1.0038274182324287, 10.0, 1.0, 1.0, 1.0, 6.0, 26.0, 1.0, 1.0, 1.1822612085769981, 1.0, 46.5, 2.0, 3.0, 1.2826086956521738]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 8/50 | Workload-time: 3.967104 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 9/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=permute-opt', '--dataset=forest', '--drift_test=ddup', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
Permute - START
Permute - END
load_npy_dataset_from_path - df.shape = (611012, 10)
Parsing... done, took 0.1s
Data updated!
done, took 0.1s
done, took 0.1s
new data average log likelihood = 57.7729
detection mean = 48.3735
detection threshold = 0.3205
test statistic = 9.3994
Offline time = 2.8834309577941895
Online time = 0.4872899055480957
Test result: True
Drift detection: True
[0m
DRIFT-DETECTED after 9-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=update']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (611012, 10)
Parsing... done, took 0.1s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.1s
dataset size: 611012
train data shape: torch.Size([10000, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 56.3295 bits (loss 75.550, data 19.221) 0.00100 lr
epoch 9 train loss 51.6612 nats / 74.5314 bits
time since start: 3.8 secs
Epoch 10 Iter 0, train entropy gap 55.3898 bits (loss 74.611, data 19.221) 0.00082 lr
epoch 19 train loss 51.4042 nats / 74.1605 bits
time since start: 6.9 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 69.6710 nats / 100.5140 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 9/50 | Workload-time: 6.553492 | Model-update-time: 10.262974


WORKLOAD-START | Type: QueryWorkload | Progress: 10/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
38.5 queries/sec
Query 1: actual 140321 (20.126%)  origin-forest_43.843 121373 (err=1.156)  
76.9 queries/sec
Query 2: actual 100 (0.014%)  origin-forest_43.843 117 (err=1.170)  
90.9 queries/sec
Query 3: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
83.3 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.1 queries/sec
Query 5: actual 16 (0.002%)  origin-forest_43.843 11 (err=1.455)  
95.2 queries/sec
Query 6: actual 98493 (14.127%)  origin-forest_43.843 80234 (err=1.228)  
90.9 queries/sec
Query 7: actual 3642 (0.522%)  origin-forest_43.843 4766 (err=1.309)  
83.3 queries/sec
Query 8: actual 161111 (23.108%)  origin-forest_43.843 166742 (err=1.035)  
90.9 queries/sec
Query 9: actual 83 (0.012%)  origin-forest_43.843 56 (err=1.482)  
83.3 queries/sec
Query 10: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 11: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 12: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 13: actual 164451 (23.587%)  origin-forest_43.843 137423 (err=1.197)  
86.4 queries/sec
Query 14: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.4 queries/sec
Query 15: actual 23 (0.003%)  origin-forest_43.843 22 (err=1.045)  
90.9 queries/sec
Query 16: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
83.3 queries/sec
Query 17: actual 425 (0.061%)  origin-forest_43.843 467 (err=1.099)  
90.9 queries/sec
Query 18: actual 202 (0.029%)  origin-forest_43.843 175 (err=1.154)  
90.9 queries/sec
Query 19: actual 242 (0.035%)  origin-forest_43.843 419 (err=1.731)  
83.3 queries/sec
Query 20: actual 2 (0.000%)  origin-forest_43.843 2 (err=1.000)  
90.9 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 22: actual 2767 (0.397%)  origin-forest_43.843 4612 (err=1.667)  
86.9 queries/sec
Query 23: actual 116 (0.017%)  origin-forest_43.843 1 (err=116.000)  
83.3 queries/sec
Query 24: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 25: actual 147 (0.021%)  origin-forest_43.843 98 (err=1.500)  
90.9 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 27: actual 38 (0.005%)  origin-forest_43.843 51 (err=1.342)  
83.3 queries/sec
Query 28: actual 27 (0.004%)  origin-forest_43.843 48 (err=1.778)  
76.9 queries/sec
Query 29: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
95.2 queries/sec
Query 31: actual 39659 (5.688%)  origin-forest_43.843 51135 (err=1.289)  
83.3 queries/sec
Query 32: actual 15 (0.002%)  origin-forest_43.843 17 (err=1.133)  
83.3 queries/sec
Query 33: actual 845 (0.121%)  origin-forest_43.843 922 (err=1.091)  
90.9 queries/sec
Query 34: actual 152 (0.022%)  origin-forest_43.843 286 (err=1.882)  
90.9 queries/sec
Query 35: actual 83 (0.012%)  origin-forest_43.843 1 (err=83.000)  
83.3 queries/sec
Query 36: actual 76999 (11.044%)  origin-forest_43.843 83015 (err=1.078)  
90.9 queries/sec
Query 37: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
73.6 queries/sec
Query 38: actual 62 (0.009%)  origin-forest_43.843 1 (err=62.000)  
80.6 queries/sec
Query 39: actual 8731 (1.252%)  origin-forest_43.843 26759 (err=3.065)  
86.9 queries/sec
Query 40: actual 228 (0.033%)  origin-forest_43.843 350 (err=1.535)  
100.0 queries/sec
Query 41: actual 265 (0.038%)  origin-forest_43.843 159 (err=1.667)  
83.3 queries/sec
Query 42: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
83.3 queries/sec
Query 43: actual 136 (0.020%)  origin-forest_43.843 118 (err=1.153)  
90.9 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
77.6 queries/sec
Query 45: actual 45 (0.006%)  origin-forest_43.843 78 (err=1.733)  
90.9 queries/sec
Query 46: actual 13 (0.002%)  origin-forest_43.843 11 (err=1.182)  
90.9 queries/sec
Query 47: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.8 queries/sec
Query 48: actual 54 (0.008%)  origin-forest_43.843 29 (err=1.862)  
62.5 queries/sec
Query 49: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
origin-forest_43.843 	max: 116.0000	99th: 99.8300	95th: 35.4792	median: 1.1631	mean: 6.4603
ReportEsts: [1.0, 1.1561137979616554, 1.17, 2.0, 1.0, 1.4545454545454546, 1.227571852331929, 1.3086216364634815, 1.034951058586937, 1.4821428571428572, 1.0, 1.0, 1.0, 1.1966774120780364, 1.0, 1.0454545454545454, 2.0, 1.0988235294117648, 1.1542857142857144, 1.7314049586776858, 1.0, 1.0, 1.6667871340802314, 116.0, 1.0, 1.5, 1.0, 1.3421052631578947, 1.7777777777777777, 1.0, 1.0, 1.2893668524168538, 1.1333333333333333, 1.0911242603550295, 1.881578947368421, 83.0, 1.078130884816686, 1.0, 62.0, 3.0648264803573473, 1.5350877192982457, 1.6666666666666667, 2.0, 1.152542372881356, 1.0, 1.7333333333333334, 1.1818181818181819, 1.0, 1.8620689655172413, 1.0]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 10/50 | Workload-time: 4.200148 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 11/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=permute-opt', '--dataset=forest', '--drift_test=ddup', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
Permute - START
Permute - END
load_npy_dataset_from_path - df.shape = (621012, 10)
Parsing... done, took 0.1s
Data updated!
done, took 0.1s
done, took 0.1s
new data average log likelihood = 57.5319
detection mean = 48.7605
detection threshold = 0.3126
test statistic = 8.7714
Offline time = 3.1241846084594727
Online time = 0.5506160259246826
Test result: True
Drift detection: True
[0m
DRIFT-DETECTED after 11-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=update']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (621012, 10)
Parsing... done, took 0.1s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.1s
dataset size: 621012
train data shape: torch.Size([10000, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 55.9750 bits (loss 75.219, data 19.244) 0.00100 lr
epoch 9 train loss 51.7216 nats / 74.6186 bits
time since start: 4.1 secs
Epoch 10 Iter 0, train entropy gap 55.5509 bits (loss 74.795, data 19.244) 0.00082 lr
epoch 19 train loss 51.5777 nats / 74.4108 bits
time since start: 7.3 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 66.8678 nats / 96.4698 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 11/50 | Workload-time: 7.120502 | Model-update-time: 10.727521


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 12/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=permute-opt', '--dataset=forest', '--drift_test=ddup', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
Permute - START
Permute - END
load_npy_dataset_from_path - df.shape = (631012, 10)
Parsing... done, took 0.1s
Data updated!
done, took 0.1s
done, took 0.1s
new data average log likelihood = 57.7331
detection mean = 49.0210
detection threshold = 0.3131
test statistic = 8.7122
Offline time = 2.9192371368408203
Online time = 0.49394726753234863
Test result: True
Drift detection: True
[0m
DRIFT-DETECTED after 12-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=update']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (631012, 10)
Parsing... done, took 0.1s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.1s
dataset size: 631012
train data shape: torch.Size([10000, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 55.9643 bits (loss 75.232, data 19.267) 0.00100 lr
epoch 9 train loss 51.8268 nats / 74.7703 bits
time since start: 3.9 secs
Epoch 10 Iter 0, train entropy gap 55.5941 bits (loss 74.861, data 19.267) 0.00082 lr
epoch 19 train loss 51.7246 nats / 74.6229 bits
time since start: 7.2 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 64.4846 nats / 93.0317 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 12/50 | Workload-time: 6.803220 | Model-update-time: 10.601818


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 13/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=permute-opt', '--dataset=forest', '--drift_test=ddup', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
Permute - START
Permute - END
load_npy_dataset_from_path - df.shape = (641012, 10)
Parsing... done, took 0.1s
Data updated!
done, took 0.1s
done, took 0.1s
new data average log likelihood = 58.2473
detection mean = 49.2202
detection threshold = 0.3150
test statistic = 9.0271
Offline time = 3.2101259231567383
Online time = 0.4927546977996826
Test result: True
Drift detection: True
[0m
DRIFT-DETECTED after 13-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=update']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (641012, 10)
Parsing... done, took 0.1s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.1s
dataset size: 641012
train data shape: torch.Size([10000, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 56.0810 bits (loss 75.371, data 19.290) 0.00100 lr
epoch 9 train loss 52.0395 nats / 75.0771 bits
time since start: 3.9 secs
Epoch 10 Iter 0, train entropy gap 55.8778 bits (loss 75.168, data 19.290) 0.00082 lr
epoch 19 train loss 51.9342 nats / 74.9252 bits
time since start: 7.0 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 63.4102 nats / 91.4817 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 13/50 | Workload-time: 7.189530 | Model-update-time: 10.370356


WORKLOAD-START | Type: QueryWorkload | Progress: 14/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 8878 (1.273%)  origin-forest_43.843 580 (err=15.307)  
41.7 queries/sec
Query 1: actual 483 (0.069%)  origin-forest_43.843 3 (err=161.000)  
80.0 queries/sec
Query 2: actual 42 (0.006%)  origin-forest_43.843 40 (err=1.050)  
76.9 queries/sec
Query 3: actual 1841 (0.264%)  origin-forest_43.843 1846 (err=1.003)  
90.9 queries/sec
Query 4: actual 33392 (4.789%)  origin-forest_43.843 42060 (err=1.260)  
90.9 queries/sec
Query 5: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 6: actual 30 (0.004%)  origin-forest_43.843 1 (err=30.000)  
71.4 queries/sec
Query 7: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 8: actual 35 (0.005%)  origin-forest_43.843 2 (err=17.500)  
83.3 queries/sec
Query 9: actual 25347 (3.635%)  origin-forest_43.843 29646 (err=1.170)  
95.2 queries/sec
Query 10: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 11: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 12: actual 566 (0.081%)  origin-forest_43.843 412 (err=1.374)  
83.3 queries/sec
Query 13: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 14: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 15: actual 1284 (0.184%)  origin-forest_43.843 1968 (err=1.533)  
83.3 queries/sec
Query 16: actual 9 (0.001%)  origin-forest_43.843 1 (err=9.000)  
83.3 queries/sec
Query 17: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 18: actual 118446 (16.988%)  origin-forest_43.843 105607 (err=1.122)  
88.3 queries/sec
Query 19: actual 53 (0.008%)  origin-forest_43.843 11 (err=4.818)  
83.3 queries/sec
Query 20: actual 21 (0.003%)  origin-forest_43.843 58 (err=2.762)  
83.3 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 23: actual 218 (0.031%)  origin-forest_43.843 71 (err=3.070)  
90.9 queries/sec
Query 24: actual 571 (0.082%)  origin-forest_43.843 809 (err=1.417)  
76.9 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 26: actual 224 (0.032%)  origin-forest_43.843 319 (err=1.424)  
95.2 queries/sec
Query 27: actual 22015 (3.158%)  origin-forest_43.843 12308 (err=1.789)  
83.3 queries/sec
Query 28: actual 8502 (1.219%)  origin-forest_43.843 8700 (err=1.023)  
83.3 queries/sec
Query 29: actual 27 (0.004%)  origin-forest_43.843 46 (err=1.704)  
83.3 queries/sec
Query 30: actual 25571 (3.668%)  origin-forest_43.843 25905 (err=1.013)  
90.9 queries/sec
Query 31: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
83.3 queries/sec
Query 32: actual 40 (0.006%)  origin-forest_43.843 16 (err=2.500)  
83.3 queries/sec
Query 33: actual 10 (0.001%)  origin-forest_43.843 5 (err=2.000)  
83.3 queries/sec
Query 34: actual 10 (0.001%)  origin-forest_43.843 1 (err=10.000)  
86.4 queries/sec
Query 35: actual 710 (0.102%)  origin-forest_43.843 605 (err=1.174)  
90.9 queries/sec
Query 36: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 37: actual 11544 (1.656%)  origin-forest_43.843 10022 (err=1.152)  
76.9 queries/sec
Query 38: actual 25437 (3.648%)  origin-forest_43.843 27404 (err=1.077)  
90.9 queries/sec
Query 39: actual 34 (0.005%)  origin-forest_43.843 45 (err=1.324)  
90.9 queries/sec
Query 40: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 41: actual 24 (0.003%)  origin-forest_43.843 96 (err=4.000)  
90.9 queries/sec
Query 42: actual 35 (0.005%)  origin-forest_43.843 1 (err=35.000)  
76.9 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.7 queries/sec
Query 44: actual 77149 (11.065%)  origin-forest_43.843 69381 (err=1.112)  
76.9 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 46: actual 6534 (0.937%)  origin-forest_43.843 8385 (err=1.283)  
83.3 queries/sec
Query 47: actual 35 (0.005%)  origin-forest_43.843 111 (err=3.171)  
83.3 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 49: actual 165 (0.024%)  origin-forest_43.843 64 (err=2.578)  
origin-forest_43.843 	max: 161.0000	99th: 99.2600	95th: 24.3750	median: 1.2166	mean: 6.8742
ReportEsts: [15.306896551724138, 161.0, 1.05, 1.0027159152634437, 1.259583133684715, 1.0, 30.0, 1.0, 17.5, 1.169605870517221, 1.0, 1.0, 1.3737864077669903, 1.0, 1.0, 1.5327102803738317, 9.0, 1.0, 1.1215733805524255, 4.818181818181818, 2.761904761904762, 1.0, 1.0, 3.0704225352112675, 1.4168126094570928, 1.0, 1.4241071428571428, 1.7886740331491713, 1.023288637967537, 1.7037037037037037, 1.0130616714246607, 2.0, 2.5, 2.0, 10.0, 1.1735537190082646, 1.0, 1.151865895030932, 1.0773283012933914, 1.3235294117647058, 1.0, 4.0, 35.0, 1.0, 1.111961488015451, 1.0, 1.283287419651056, 3.1714285714285713, 1.0, 2.578125]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 14/50 | Workload-time: 4.152928 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 15/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=permute-opt', '--dataset=forest', '--drift_test=ddup', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
Permute - START
Permute - END
load_npy_dataset_from_path - df.shape = (651012, 10)
Parsing... done, took 0.1s
Data updated!
done, took 0.1s
done, took 0.1s
new data average log likelihood = 58.8434
detection mean = 49.3204
detection threshold = 0.3222
test statistic = 9.5230
Offline time = 3.0832817554473877
Online time = 0.5008015632629395
Test result: True
Drift detection: True
[0m
DRIFT-DETECTED after 15-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=update']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (651012, 10)
Parsing... done, took 0.1s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.1s
dataset size: 651012
train data shape: torch.Size([10000, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 56.1288 bits (loss 75.441, data 19.312) 0.00100 lr
epoch 9 train loss 52.0988 nats / 75.1627 bits
time since start: 3.9 secs
Epoch 10 Iter 0, train entropy gap 55.6759 bits (loss 74.988, data 19.312) 0.00082 lr
epoch 19 train loss 52.0104 nats / 75.0351 bits
time since start: 7.1 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 62.7580 nats / 90.5406 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 15/50 | Workload-time: 6.951781 | Model-update-time: 10.514884


WORKLOAD-START | Type: QueryWorkload | Progress: 16/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.1s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 492 (0.071%)  origin-forest_43.843 310 (err=1.587)  
41.7 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 2: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 3: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
60.6 queries/sec
Query 4: actual 23 (0.003%)  origin-forest_43.843 21 (err=1.095)  
76.9 queries/sec
Query 5: actual 35862 (5.144%)  origin-forest_43.843 55664 (err=1.552)  
90.9 queries/sec
Query 6: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 7: actual 154 (0.022%)  origin-forest_43.843 1 (err=154.000)  
76.2 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
75.8 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 10: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
80.0 queries/sec
Query 11: actual 95 (0.014%)  origin-forest_43.843 39 (err=2.436)  
83.3 queries/sec
Query 12: actual 26323 (3.775%)  origin-forest_43.843 16089 (err=1.636)  
90.9 queries/sec
Query 13: actual 8 (0.001%)  origin-forest_43.843 4 (err=2.000)  
83.3 queries/sec
Query 14: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 15: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 16: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
83.3 queries/sec
Query 17: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 18: actual 3940 (0.565%)  origin-forest_43.843 1957 (err=2.013)  
90.9 queries/sec
Query 19: actual 3562 (0.511%)  origin-forest_43.843 1474 (err=2.417)  
82.6 queries/sec
Query 20: actual 25 (0.004%)  origin-forest_43.843 26 (err=1.040)  
90.9 queries/sec
Query 21: actual 2 (0.000%)  origin-forest_43.843 3 (err=1.500)  
83.3 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.2 queries/sec
Query 23: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 24: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 25: actual 2 (0.000%)  origin-forest_43.843 3 (err=1.500)  
90.9 queries/sec
Query 26: actual 188 (0.027%)  origin-forest_43.843 227 (err=1.207)  
83.3 queries/sec
Query 27: actual 25 (0.004%)  origin-forest_43.843 33 (err=1.320)  
80.0 queries/sec
Query 28: actual 13 (0.002%)  origin-forest_43.843 6 (err=2.167)  
90.9 queries/sec
Query 29: actual 8122 (1.165%)  origin-forest_43.843 7604 (err=1.068)  
90.9 queries/sec
Query 30: actual 13 (0.002%)  origin-forest_43.843 7 (err=1.857)  
83.3 queries/sec
Query 31: actual 1210 (0.174%)  origin-forest_43.843 1163 (err=1.040)  
76.9 queries/sec
Query 32: actual 24 (0.003%)  origin-forest_43.843 47 (err=1.958)  
83.3 queries/sec
Query 33: actual 5 (0.001%)  origin-forest_43.843 5 (err=1.000)  
90.9 queries/sec
Query 34: actual 682 (0.098%)  origin-forest_43.843 346 (err=1.971)  
83.3 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 36: actual 8 (0.001%)  origin-forest_43.843 3 (err=2.667)  
86.9 queries/sec
Query 37: actual 189 (0.027%)  origin-forest_43.843 9 (err=21.000)  
83.3 queries/sec
Query 38: actual 66 (0.009%)  origin-forest_43.843 1 (err=66.000)  
90.9 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 40: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
90.9 queries/sec
Query 41: actual 108511 (15.564%)  origin-forest_43.843 111494 (err=1.027)  
90.9 queries/sec
Query 42: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 43: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
83.3 queries/sec
Query 44: actual 5 (0.001%)  origin-forest_43.843 18 (err=3.600)  
80.0 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 46: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
90.9 queries/sec
Query 47: actual 191 (0.027%)  origin-forest_43.843 371 (err=1.942)  
90.9 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 49: actual 14232 (2.041%)  origin-forest_43.843 13529 (err=1.052)  
origin-forest_43.843 	max: 154.0000	99th: 110.8800	95th: 13.1700	median: 1.1513	mean: 6.1931
ReportEsts: [1.5870967741935484, 1.0, 1.0, 1.0, 1.0952380952380953, 1.5521722157157996, 1.0, 154.0, 1.0, 1.0, 1.0, 2.4358974358974357, 1.636086767356579, 2.0, 1.0, 1.0, 2.0, 1.0, 2.0132856412876854, 2.4165535956580735, 1.04, 1.5, 1.0, 1.0, 1.0, 1.5, 1.2074468085106382, 1.32, 2.1666666666666665, 1.0681220410310364, 1.8571428571428572, 1.0404127257093723, 1.9583333333333333, 1.0, 1.9710982658959537, 1.0, 2.6666666666666665, 21.0, 66.0, 1.0, 2.0, 1.0274903005225278, 1.0, 2.0, 3.6, 1.0, 2.0, 1.942408376963351, 1.0, 1.0519624510311183]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 16/50 | Workload-time: 4.106912 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 17/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
36.4 queries/sec
Query 1: actual 19727 (2.829%)  origin-forest_43.843 626 (err=31.513)  
83.3 queries/sec
Query 2: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 3: actual 4 (0.001%)  origin-forest_43.843 10 (err=2.500)  
83.3 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
76.9 queries/sec
Query 5: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 6: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 7: actual 402 (0.058%)  origin-forest_43.843 13490 (err=33.557)  
90.8 queries/sec
Query 8: actual 2918 (0.419%)  origin-forest_43.843 2329 (err=1.253)  
100.0 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 10: actual 528 (0.076%)  origin-forest_43.843 327 (err=1.615)  
83.3 queries/sec
Query 11: actual 15 (0.002%)  origin-forest_43.843 10 (err=1.500)  
90.2 queries/sec
Query 12: actual 31 (0.004%)  origin-forest_43.843 53 (err=1.710)  
95.1 queries/sec
Query 13: actual 5 (0.001%)  origin-forest_43.843 7 (err=1.400)  
76.9 queries/sec
Query 14: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 15: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 17: actual 8 (0.001%)  origin-forest_43.843 186 (err=23.250)  
79.9 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 19: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 20: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 22: actual 33 (0.005%)  origin-forest_43.843 2 (err=16.500)  
76.9 queries/sec
Query 23: actual 58 (0.008%)  origin-forest_43.843 5 (err=11.600)  
71.4 queries/sec
Query 24: actual 3737 (0.536%)  origin-forest_43.843 2522 (err=1.482)  
76.9 queries/sec
Query 25: actual 2 (0.000%)  origin-forest_43.843 5 (err=2.500)  
74.0 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 28: actual 32 (0.005%)  origin-forest_43.843 61 (err=1.906)  
83.3 queries/sec
Query 29: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 30: actual 254 (0.036%)  origin-forest_43.843 132 (err=1.924)  
90.9 queries/sec
Query 31: actual 52144 (7.479%)  origin-forest_43.843 52557 (err=1.008)  
93.9 queries/sec
Query 32: actual 2928 (0.420%)  origin-forest_43.843 7515 (err=2.567)  
78.7 queries/sec
Query 33: actual 3 (0.000%)  origin-forest_43.843 3 (err=1.000)  
82.2 queries/sec
Query 34: actual 308618 (44.264%)  origin-forest_43.843 307505 (err=1.004)  
83.3 queries/sec
Query 35: actual 196 (0.028%)  origin-forest_43.843 79 (err=2.481)  
90.9 queries/sec
Query 36: actual 282 (0.040%)  origin-forest_43.843 127 (err=2.220)  
90.9 queries/sec
Query 37: actual 89685 (12.863%)  origin-forest_43.843 102055 (err=1.138)  
90.9 queries/sec
Query 38: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
90.9 queries/sec
Query 39: actual 46 (0.007%)  origin-forest_43.843 1 (err=46.000)  
90.9 queries/sec
Query 40: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 41: actual 55 (0.008%)  origin-forest_43.843 10 (err=5.500)  
79.5 queries/sec
Query 42: actual 3 (0.000%)  origin-forest_43.843 3 (err=1.000)  
83.3 queries/sec
Query 43: actual 139 (0.020%)  origin-forest_43.843 1 (err=139.000)  
90.9 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 46: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 47: actual 6 (0.001%)  origin-forest_43.843 1 (err=6.000)  
90.9 queries/sec
Query 48: actual 1709 (0.245%)  origin-forest_43.843 2807 (err=1.642)  
90.9 queries/sec
Query 49: actual 265283 (38.049%)  origin-forest_43.843 249500 (err=1.063)  
origin-forest_43.843 	max: 139.0000	99th: 93.4300	95th: 32.6372	median: 1.1954	mean: 7.3767
ReportEsts: [1.0, 31.512779552715656, 1.0, 2.5, 2.0, 1.0, 1.0, 33.55721393034826, 1.2528982395878059, 1.0, 1.614678899082569, 1.5, 1.7096774193548387, 1.4, 1.0, 1.0, 1.0, 23.25, 1.0, 1.0, 1.0, 1.0, 16.5, 11.6, 1.4817605075337035, 2.5, 1.0, 1.0, 1.90625, 1.0, 1.9242424242424243, 1.0079203743479594, 2.5665983606557377, 1.0, 1.003619453342222, 2.481012658227848, 2.220472440944882, 1.1379271896080727, 2.0, 46.0, 1.0, 5.5, 1.0, 139.0, 1.0, 1.0, 1.0, 6.0, 1.6424809830310123, 1.063258517034068]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 17/50 | Workload-time: 4.149414 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 18/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
35.1 queries/sec
Query 1: actual 625 (0.090%)  origin-forest_43.843 289 (err=2.163)  
66.7 queries/sec
Query 2: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
62.5 queries/sec
Query 3: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
62.5 queries/sec
Query 4: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
71.4 queries/sec
Query 5: actual 687 (0.099%)  origin-forest_43.843 9297 (err=13.533)  
66.7 queries/sec
Query 6: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 7: actual 171 (0.025%)  origin-forest_43.843 6 (err=28.500)  
60.6 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 3 (err=3.000)  
71.4 queries/sec
Query 9: actual 340 (0.049%)  origin-forest_43.843 475 (err=1.397)  
62.5 queries/sec
Query 10: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 11: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
62.5 queries/sec
Query 12: actual 4 (0.001%)  origin-forest_43.843 14 (err=3.500)  
66.6 queries/sec
Query 13: actual 128 (0.018%)  origin-forest_43.843 6 (err=21.333)  
68.9 queries/sec
Query 14: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 15: actual 2860 (0.410%)  origin-forest_43.843 3568 (err=1.248)  
71.4 queries/sec
Query 16: actual 111 (0.016%)  origin-forest_43.843 2 (err=55.500)  
62.5 queries/sec
Query 17: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
62.5 queries/sec
Query 18: actual 23 (0.003%)  origin-forest_43.843 1 (err=23.000)  
62.5 queries/sec
Query 19: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 20: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
68.9 queries/sec
Query 21: actual 3 (0.000%)  origin-forest_43.843 1 (err=3.000)  
71.4 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.6 queries/sec
Query 23: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 24: actual 1 (0.000%)  origin-forest_43.843 121 (err=121.000)  
76.9 queries/sec
Query 25: actual 2 (0.000%)  origin-forest_43.843 5 (err=2.500)  
76.9 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
100.0 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 29: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
90.9 queries/sec
Query 30: actual 31 (0.004%)  origin-forest_43.843 1 (err=31.000)  
83.3 queries/sec
Query 31: actual 84914 (12.179%)  origin-forest_43.843 104207 (err=1.227)  
90.9 queries/sec
Query 32: actual 191 (0.027%)  origin-forest_43.843 189 (err=1.011)  
90.9 queries/sec
Query 33: actual 50 (0.007%)  origin-forest_43.843 65 (err=1.300)  
90.9 queries/sec
Query 34: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 36: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.9 queries/sec
Query 37: actual 77 (0.011%)  origin-forest_43.843 1 (err=77.000)  
83.3 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 39: actual 29 (0.004%)  origin-forest_43.843 50 (err=1.724)  
83.3 queries/sec
Query 40: actual 1543 (0.221%)  origin-forest_43.843 1724 (err=1.117)  
90.9 queries/sec
Query 41: actual 319 (0.046%)  origin-forest_43.843 338 (err=1.060)  
76.9 queries/sec
Query 42: actual 2482 (0.356%)  origin-forest_43.843 1208 (err=2.055)  
90.9 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 44: actual 262 (0.038%)  origin-forest_43.843 1108 (err=4.229)  
82.0 queries/sec
Query 45: actual 588 (0.084%)  origin-forest_43.843 536 (err=1.097)  
85.9 queries/sec
Query 46: actual 182 (0.026%)  origin-forest_43.843 314 (err=1.725)  
90.8 queries/sec
Query 47: actual 26 (0.004%)  origin-forest_43.843 2 (err=13.000)  
90.9 queries/sec
Query 48: actual 1464 (0.210%)  origin-forest_43.843 1083 (err=1.352)  
83.3 queries/sec
Query 49: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
origin-forest_43.843 	max: 121.0000	99th: 99.4400	95th: 44.4750	median: 1.2738	mean: 9.0314
ReportEsts: [1.0, 2.162629757785467, 1.0, 1.0, 2.0, 13.532751091703057, 1.0, 28.5, 3.0, 1.3970588235294117, 1.0, 8.0, 3.5, 21.333333333333332, 1.0, 1.2475524475524475, 55.5, 1.0, 23.0, 1.0, 1.0, 3.0, 1.0, 1.0, 121.0, 2.5, 1.0, 1.0, 1.0, 2.0, 31.0, 1.227206349954071, 1.0105820105820107, 1.3, 1.0, 1.0, 1.0, 77.0, 1.0, 1.7241379310344827, 1.1173039533376539, 1.0595611285266457, 2.0546357615894038, 1.0, 4.229007633587786, 1.0970149253731343, 1.7252747252747254, 13.0, 1.3518005540166205, 2.0]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 18/50 | Workload-time: 4.330626 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 19/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.1s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
39.1 queries/sec
Query 1: actual 47 (0.007%)  origin-forest_43.843 61 (err=1.298)  
90.8 queries/sec
Query 2: actual 1 (0.000%)  origin-forest_43.843 4 (err=4.000)  
79.9 queries/sec
Query 3: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 5: actual 54 (0.008%)  origin-forest_43.843 81 (err=1.500)  
83.3 queries/sec
Query 6: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 7: actual 5262 (0.755%)  origin-forest_43.843 5473 (err=1.040)  
83.3 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 9: actual 79 (0.011%)  origin-forest_43.843 51 (err=1.549)  
83.3 queries/sec
Query 10: actual 50717 (7.274%)  origin-forest_43.843 56318 (err=1.110)  
95.1 queries/sec
Query 11: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.7 queries/sec
Query 12: actual 1644 (0.236%)  origin-forest_43.843 1121 (err=1.467)  
71.4 queries/sec
Query 13: actual 1139 (0.163%)  origin-forest_43.843 727 (err=1.567)  
62.5 queries/sec
Query 14: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
58.8 queries/sec
Query 15: actual 260710 (37.393%)  origin-forest_43.843 251250 (err=1.038)  
71.4 queries/sec
Query 16: actual 86 (0.012%)  origin-forest_43.843 233 (err=2.709)  
62.5 queries/sec
Query 17: actual 5 (0.001%)  origin-forest_43.843 13 (err=2.600)  
57.1 queries/sec
Query 18: actual 130 (0.019%)  origin-forest_43.843 76 (err=1.711)  
66.7 queries/sec
Query 19: actual 103 (0.015%)  origin-forest_43.843 51 (err=2.020)  
71.4 queries/sec
Query 20: actual 291457 (41.803%)  origin-forest_43.843 268738 (err=1.085)  
71.4 queries/sec
Query 21: actual 443 (0.064%)  origin-forest_43.843 358 (err=1.237)  
71.4 queries/sec
Query 22: actual 50 (0.007%)  origin-forest_43.843 78 (err=1.560)  
58.8 queries/sec
Query 23: actual 289 (0.041%)  origin-forest_43.843 244 (err=1.184)  
51.2 queries/sec
Query 24: actual 186 (0.027%)  origin-forest_43.843 4065 (err=21.855)  
58.8 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
62.5 queries/sec
Query 26: actual 141 (0.020%)  origin-forest_43.843 66 (err=2.136)  
62.5 queries/sec
Query 27: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
61.2 queries/sec
Query 28: actual 135 (0.019%)  origin-forest_43.843 50 (err=2.700)  
64.3 queries/sec
Query 29: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
64.5 queries/sec
Query 30: actual 1611 (0.231%)  origin-forest_43.843 1175 (err=1.371)  
71.4 queries/sec
Query 31: actual 246 (0.035%)  origin-forest_43.843 62 (err=3.968)  
76.9 queries/sec
Query 32: actual 61 (0.009%)  origin-forest_43.843 1 (err=61.000)  
71.4 queries/sec
Query 33: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
62.5 queries/sec
Query 34: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.7 queries/sec
Query 35: actual 2 (0.000%)  origin-forest_43.843 4 (err=2.000)  
71.4 queries/sec
Query 36: actual 9 (0.001%)  origin-forest_43.843 2 (err=4.500)  
71.1 queries/sec
Query 37: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.7 queries/sec
Query 38: actual 3307 (0.474%)  origin-forest_43.843 6822 (err=2.063)  
79.5 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 40: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 41: actual 36 (0.005%)  origin-forest_43.843 1 (err=36.000)  
71.4 queries/sec
Query 42: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 43: actual 6618 (0.949%)  origin-forest_43.843 7388 (err=1.116)  
83.3 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.8 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.0 queries/sec
Query 46: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
80.5 queries/sec
Query 47: actual 48 (0.007%)  origin-forest_43.843 205 (err=4.271)  
83.3 queries/sec
Query 48: actual 82 (0.012%)  origin-forest_43.843 73 (err=1.123)  
83.3 queries/sec
Query 49: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
origin-forest_43.843 	max: 61.0000	99th: 48.7500	95th: 14.0452	median: 1.1539	mean: 3.8756
ReportEsts: [1.0, 1.297872340425532, 4.0, 1.0, 1.0, 1.5, 1.0, 1.040098821740783, 1.0, 1.5490196078431373, 1.1104363428436224, 1.0, 1.4665477252453167, 1.5667125171939478, 1.0, 1.0376517412935324, 2.7093023255813953, 2.6, 1.7105263157894737, 2.019607843137255, 1.0845395887444276, 1.2374301675977655, 1.56, 1.1844262295081966, 21.85483870967742, 1.0, 2.1363636363636362, 2.0, 2.7, 1.0, 1.371063829787234, 3.967741935483871, 61.0, 1.0, 1.0, 2.0, 4.5, 1.0, 2.0628968853946175, 1.0, 1.0, 36.0, 1.0, 1.116349350256875, 1.0, 1.0, 1.0, 4.270833333333333, 1.1232876712328768, 1.0]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 19/50 | Workload-time: 4.364476 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 20/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
40.0 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 2: actual 887 (0.127%)  origin-forest_43.843 456 (err=1.945)  
90.9 queries/sec
Query 3: actual 1610 (0.231%)  origin-forest_43.843 1786 (err=1.109)  
83.3 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 5: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
58.8 queries/sec
Query 6: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
64.5 queries/sec
Query 7: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 8: actual 2200 (0.316%)  origin-forest_43.843 1657 (err=1.328)  
83.3 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 10: actual 12515 (1.795%)  origin-forest_43.843 14653 (err=1.171)  
90.9 queries/sec
Query 11: actual 4 (0.001%)  origin-forest_43.843 571 (err=142.750)  
83.3 queries/sec
Query 12: actual 13 (0.002%)  origin-forest_43.843 2 (err=6.500)  
83.3 queries/sec
Query 13: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 14: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 15: actual 36 (0.005%)  origin-forest_43.843 1 (err=36.000)  
76.9 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 17: actual 42 (0.006%)  origin-forest_43.843 1 (err=42.000)  
76.9 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 19: actual 291 (0.042%)  origin-forest_43.843 261 (err=1.115)  
91.9 queries/sec
Query 20: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.5 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.5 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
74.0 queries/sec
Query 23: actual 349 (0.050%)  origin-forest_43.843 2539 (err=7.275)  
83.3 queries/sec
Query 24: actual 693 (0.099%)  origin-forest_43.843 645 (err=1.074)  
86.5 queries/sec
Query 25: actual 18 (0.003%)  origin-forest_43.843 23 (err=1.278)  
90.9 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 29: actual 624 (0.089%)  origin-forest_43.843 281 (err=2.221)  
83.3 queries/sec
Query 30: actual 2 (0.000%)  origin-forest_43.843 11 (err=5.500)  
79.9 queries/sec
Query 31: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 32: actual 166 (0.024%)  origin-forest_43.843 1 (err=166.000)  
90.9 queries/sec
Query 33: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 34: actual 166321 (23.855%)  origin-forest_43.843 181645 (err=1.092)  
90.9 queries/sec
Query 35: actual 5 (0.001%)  origin-forest_43.843 12 (err=2.400)  
83.3 queries/sec
Query 36: actual 52 (0.007%)  origin-forest_43.843 48 (err=1.083)  
90.9 queries/sec
Query 37: actual 5 (0.001%)  origin-forest_43.843 3 (err=1.667)  
90.9 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 309 (err=309.000)  
76.9 queries/sec
Query 39: actual 100952 (14.479%)  origin-forest_43.843 102716 (err=1.017)  
86.9 queries/sec
Query 40: actual 17 (0.002%)  origin-forest_43.843 5 (err=3.400)  
83.3 queries/sec
Query 41: actual 9090 (1.304%)  origin-forest_43.843 9436 (err=1.038)  
83.3 queries/sec
Query 42: actual 3 (0.000%)  origin-forest_43.843 4 (err=1.333)  
90.9 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 45: actual 8 (0.001%)  origin-forest_43.843 10 (err=1.250)  
90.9 queries/sec
Query 46: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 47: actual 23 (0.003%)  origin-forest_43.843 1 (err=23.000)  
79.9 queries/sec
Query 48: actual 13 (0.002%)  origin-forest_43.843 15 (err=1.154)  
83.3 queries/sec
Query 49: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
origin-forest_43.843 	max: 309.0000	99th: 238.9300	95th: 97.4125	median: 1.0789	mean: 15.7740
ReportEsts: [1.0, 1.0, 1.9451754385964912, 1.1093167701863353, 1.0, 1.0, 1.0, 1.0, 1.327700663850332, 1.0, 1.170834998002397, 142.75, 6.5, 1.0, 1.0, 36.0, 1.0, 42.0, 1.0, 1.1149425287356323, 1.0, 1.0, 1.0, 7.275071633237823, 1.0744186046511628, 1.2777777777777777, 1.0, 1.0, 1.0, 2.2206405693950177, 5.5, 1.0, 166.0, 1.0, 1.0921350881728706, 2.4, 1.0833333333333333, 1.6666666666666667, 309.0, 1.0174736508439655, 3.4, 1.038063806380638, 1.3333333333333333, 1.0, 1.0, 1.25, 1.0, 23.0, 1.1538461538461537, 2.0]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 20/50 | Workload-time: 4.129649 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 21/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
37.0 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
54.0 queries/sec
Query 2: actual 1129 (0.162%)  origin-forest_43.843 1460 (err=1.293)  
83.0 queries/sec
Query 3: actual 15399 (2.209%)  origin-forest_43.843 11763 (err=1.309)  
100.6 queries/sec
Query 4: actual 128 (0.018%)  origin-forest_43.843 1 (err=128.000)  
81.9 queries/sec
Query 5: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
93.1 queries/sec
Query 6: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 7: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 8: actual 70401 (10.097%)  origin-forest_43.843 85513 (err=1.215)  
100.0 queries/sec
Query 9: actual 216 (0.031%)  origin-forest_43.843 3 (err=72.000)  
83.3 queries/sec
Query 10: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
95.1 queries/sec
Query 11: actual 271 (0.039%)  origin-forest_43.843 1 (err=271.000)  
83.3 queries/sec
Query 12: actual 87 (0.012%)  origin-forest_43.843 60 (err=1.450)  
90.9 queries/sec
Query 13: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 14: actual 16 (0.002%)  origin-forest_43.843 1 (err=16.000)  
83.3 queries/sec
Query 15: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 16: actual 5 (0.001%)  origin-forest_43.843 3 (err=1.667)  
76.9 queries/sec
Query 17: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.8 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.9 queries/sec
Query 19: actual 32070 (4.600%)  origin-forest_43.843 47217 (err=1.472)  
90.8 queries/sec
Query 20: actual 1 (0.000%)  origin-forest_43.843 17 (err=17.000)  
90.9 queries/sec
Query 21: actual 10330 (1.482%)  origin-forest_43.843 10017 (err=1.031)  
95.1 queries/sec
Query 22: actual 61 (0.009%)  origin-forest_43.843 1 (err=61.000)  
83.3 queries/sec
Query 23: actual 83 (0.012%)  origin-forest_43.843 1 (err=83.000)  
76.9 queries/sec
Query 24: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 26: actual 29437 (4.222%)  origin-forest_43.843 39132 (err=1.329)  
83.3 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.8 queries/sec
Query 28: actual 2160 (0.310%)  origin-forest_43.843 1833 (err=1.178)  
76.9 queries/sec
Query 29: actual 58423 (8.379%)  origin-forest_43.843 53677 (err=1.088)  
90.9 queries/sec
Query 30: actual 44857 (6.434%)  origin-forest_43.843 71000 (err=1.583)  
90.9 queries/sec
Query 31: actual 62 (0.009%)  origin-forest_43.843 11 (err=5.636)  
83.3 queries/sec
Query 32: actual 4279 (0.614%)  origin-forest_43.843 7581 (err=1.772)  
90.9 queries/sec
Query 33: actual 690 (0.099%)  origin-forest_43.843 241 (err=2.863)  
83.3 queries/sec
Query 34: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 36: actual 4 (0.001%)  origin-forest_43.843 5 (err=1.250)  
86.8 queries/sec
Query 37: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
100.0 queries/sec
Query 38: actual 18 (0.003%)  origin-forest_43.843 6 (err=3.000)  
90.9 queries/sec
Query 39: actual 2160 (0.310%)  origin-forest_43.843 21278 (err=9.851)  
90.9 queries/sec
Query 40: actual 265 (0.038%)  origin-forest_43.843 475 (err=1.792)  
90.9 queries/sec
Query 41: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 42: actual 7 (0.001%)  origin-forest_43.843 6 (err=1.167)  
90.9 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 44: actual 25 (0.004%)  origin-forest_43.843 3 (err=8.333)  
86.9 queries/sec
Query 45: actual 621 (0.089%)  origin-forest_43.843 551 (err=1.127)  
91.8 queries/sec
Query 46: actual 4 (0.001%)  origin-forest_43.843 181 (err=45.250)  
90.9 queries/sec
Query 47: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 48: actual 4328 (0.621%)  origin-forest_43.843 4708 (err=1.088)  
83.3 queries/sec
Query 49: actual 29 (0.004%)  origin-forest_43.843 1 (err=29.000)  
origin-forest_43.843 	max: 271.0000	99th: 200.9300	95th: 78.0500	median: 1.2323	mean: 15.8949
ReportEsts: [1.0, 1.0, 1.2931798051372896, 1.3091048201989288, 128.0, 2.0, 1.0, 1.0, 1.2146560418175878, 72.0, 1.0, 271.0, 1.45, 1.0, 16.0, 1.0, 1.6666666666666667, 1.0, 1.0, 1.472310570626754, 17.0, 1.031246880303484, 61.0, 83.0, 1.0, 1.0, 1.329347419913714, 1.0, 1.1783960720130933, 1.0884177580714272, 1.5828075885591992, 5.636363636363637, 1.7716756251460621, 2.863070539419087, 1.0, 1.0, 1.25, 1.0, 3.0, 9.850925925925926, 1.7924528301886793, 1.0, 1.1666666666666667, 1.0, 8.333333333333334, 1.1270417422867514, 45.25, 1.0, 1.087800369685767, 29.0]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 21/50 | Workload-time: 4.013271 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 22/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=permute-opt', '--dataset=forest', '--drift_test=ddup', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
Permute - START
Permute - END
load_npy_dataset_from_path - df.shape = (661012, 10)
Parsing... done, took 0.1s
Data updated!
done, took 0.1s
done, took 0.1s
new data average log likelihood = 59.4504
detection mean = 49.3927
detection threshold = 0.3388
test statistic = 10.0577
Offline time = 2.9607322216033936
Online time = 0.5176482200622559
Test result: True
Drift detection: True
[0m
DRIFT-DETECTED after 22-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=update']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (661012, 10)
Parsing... done, took 0.1s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.1s
dataset size: 661012
train data shape: torch.Size([10000, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 56.2090 bits (loss 75.543, data 19.334) 0.00100 lr
epoch 9 train loss 52.1678 nats / 75.2622 bits
time since start: 3.9 secs
Epoch 10 Iter 0, train entropy gap 55.9186 bits (loss 75.253, data 19.334) 0.00082 lr
epoch 19 train loss 52.1008 nats / 75.1655 bits
time since start: 7.2 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 61.9094 nats / 89.3164 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 22/50 | Workload-time: 6.766948 | Model-update-time: 10.693760


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 23/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=permute-opt', '--dataset=forest', '--drift_test=ddup', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
Permute - START
Permute - END
load_npy_dataset_from_path - df.shape = (671012, 10)
Parsing... done, took 0.1s
Data updated!
done, took 0.1s
done, took 0.1s
new data average log likelihood = 59.9130
detection mean = 49.4941
detection threshold = 0.3378
test statistic = 10.4190
Offline time = 2.9803009033203125
Online time = 0.5109319686889648
Test result: True
Drift detection: True
[0m
DRIFT-DETECTED after 23-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=update']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (671012, 10)
Parsing... done, took 0.1s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.1s
dataset size: 671012
train data shape: torch.Size([10000, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 56.4518 bits (loss 75.808, data 19.356) 0.00100 lr
epoch 9 train loss 52.3251 nats / 75.4892 bits
time since start: 4.2 secs
Epoch 10 Iter 0, train entropy gap 56.2423 bits (loss 75.598, data 19.356) 0.00082 lr
epoch 19 train loss 52.2235 nats / 75.3426 bits
time since start: 7.4 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 61.8909 nats / 89.2897 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 23/50 | Workload-time: 6.858542 | Model-update-time: 10.918538


WORKLOAD-START | Type: QueryWorkload | Progress: 24/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1315 (0.189%)  origin-forest_43.843 242 (err=5.434)  
44.3 queries/sec
Query 1: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
76.9 queries/sec
Query 2: actual 50 (0.007%)  origin-forest_43.843 26 (err=1.923)  
76.9 queries/sec
Query 3: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 4: actual 15968 (2.290%)  origin-forest_43.843 17625 (err=1.104)  
83.3 queries/sec
Query 5: actual 17 (0.002%)  origin-forest_43.843 16 (err=1.062)  
76.9 queries/sec
Query 6: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
86.9 queries/sec
Query 7: actual 1 (0.000%)  origin-forest_43.843 8 (err=8.000)  
76.9 queries/sec
Query 8: actual 41 (0.006%)  origin-forest_43.843 46 (err=1.122)  
83.3 queries/sec
Query 9: actual 71 (0.010%)  origin-forest_43.843 83 (err=1.169)  
100.0 queries/sec
Query 10: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
90.9 queries/sec
Query 11: actual 62249 (8.928%)  origin-forest_43.843 63162 (err=1.015)  
90.9 queries/sec
Query 12: actual 6346 (0.910%)  origin-forest_43.843 6249 (err=1.016)  
90.9 queries/sec
Query 13: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 14: actual 63209 (9.066%)  origin-forest_43.843 69675 (err=1.102)  
90.9 queries/sec
Query 15: actual 17 (0.002%)  origin-forest_43.843 1 (err=17.000)  
79.9 queries/sec
Query 16: actual 8 (0.001%)  origin-forest_43.843 3 (err=2.667)  
90.9 queries/sec
Query 17: actual 10 (0.001%)  origin-forest_43.843 10 (err=1.000)  
90.9 queries/sec
Query 18: actual 63004 (9.037%)  origin-forest_43.843 80236 (err=1.274)  
90.9 queries/sec
Query 19: actual 3297 (0.473%)  origin-forest_43.843 4664 (err=1.415)  
90.9 queries/sec
Query 20: actual 77 (0.011%)  origin-forest_43.843 21 (err=3.667)  
90.9 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 22: actual 85 (0.012%)  origin-forest_43.843 30 (err=2.833)  
83.3 queries/sec
Query 23: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 24: actual 228 (0.033%)  origin-forest_43.843 3 (err=76.000)  
79.9 queries/sec
Query 25: actual 83 (0.012%)  origin-forest_43.843 94 (err=1.133)  
83.3 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 28: actual 1187 (0.170%)  origin-forest_43.843 641 (err=1.852)  
76.9 queries/sec
Query 29: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 30: actual 145 (0.021%)  origin-forest_43.843 45 (err=3.222)  
76.9 queries/sec
Query 31: actual 29 (0.004%)  origin-forest_43.843 1 (err=29.000)  
83.3 queries/sec
Query 32: actual 3490 (0.501%)  origin-forest_43.843 3745 (err=1.073)  
86.8 queries/sec
Query 33: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 34: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
80.7 queries/sec
Query 35: actual 53 (0.008%)  origin-forest_43.843 1 (err=53.000)  
90.2 queries/sec
Query 36: actual 741 (0.106%)  origin-forest_43.843 336 (err=2.205)  
83.4 queries/sec
Query 37: actual 91 (0.013%)  origin-forest_43.843 117 (err=1.286)  
83.3 queries/sec
Query 38: actual 4 (0.001%)  origin-forest_43.843 1 (err=4.000)  
83.3 queries/sec
Query 39: actual 3241 (0.465%)  origin-forest_43.843 3283 (err=1.013)  
83.3 queries/sec
Query 40: actual 12 (0.002%)  origin-forest_43.843 18 (err=1.500)  
79.9 queries/sec
Query 41: actual 14036 (2.013%)  origin-forest_43.843 60288 (err=4.295)  
90.9 queries/sec
Query 42: actual 236 (0.034%)  origin-forest_43.843 115 (err=2.052)  
90.9 queries/sec
Query 43: actual 4210 (0.604%)  origin-forest_43.843 3940 (err=1.069)  
90.9 queries/sec
Query 44: actual 714 (0.102%)  origin-forest_43.843 496 (err=1.440)  
90.9 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 46: actual 9 (0.001%)  origin-forest_43.843 176 (err=19.556)  
90.9 queries/sec
Query 47: actual 34 (0.005%)  origin-forest_43.843 1 (err=34.000)  
90.9 queries/sec
Query 48: actual 115 (0.016%)  origin-forest_43.843 31 (err=3.710)  
83.3 queries/sec
Query 49: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
origin-forest_43.843 	max: 76.0000	99th: 64.7300	95th: 31.7500	median: 1.3502	mean: 6.2241
ReportEsts: [5.433884297520661, 2.0, 1.9230769230769231, 1.0, 1.1037700400801602, 1.0625, 2.0, 8.0, 1.1219512195121952, 1.1690140845070423, 2.0, 1.0146669022795547, 1.0155224835973755, 1.0, 1.1022955591766994, 17.0, 2.6666666666666665, 1.0, 1.2735064440352994, 1.4146193509250835, 3.6666666666666665, 1.0, 2.8333333333333335, 1.0, 76.0, 1.1325301204819278, 1.0, 1.0, 1.8517940717628705, 1.0, 3.2222222222222223, 29.0, 1.0730659025787965, 1.0, 1.0, 53.0, 2.205357142857143, 1.2857142857142858, 4.0, 1.0129589632829374, 1.5, 4.295240809347392, 2.0521739130434784, 1.0685279187817258, 1.439516129032258, 1.0, 19.555555555555557, 34.0, 3.7096774193548385, 1.0]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 24/50 | Workload-time: 4.042034 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 25/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=permute-opt', '--dataset=forest', '--drift_test=ddup', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
Permute - START
Permute - END
load_npy_dataset_from_path - df.shape = (681012, 10)
Parsing... done, took 0.1s
Data updated!
done, took 0.1s
done, took 0.1s
new data average log likelihood = 60.3942
detection mean = 49.5985
detection threshold = 0.3388
test statistic = 10.7957
Offline time = 3.0345938205718994
Online time = 0.5241901874542236
Test result: True
Drift detection: True
[0m
DRIFT-DETECTED after 25-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=update']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (681012, 10)
Parsing... done, took 0.1s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.1s
dataset size: 681012
train data shape: torch.Size([10000, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 56.6530 bits (loss 76.030, data 19.377) 0.00100 lr
epoch 9 train loss 52.4286 nats / 75.6385 bits
time since start: 4.0 secs
Epoch 10 Iter 0, train entropy gap 56.4206 bits (loss 75.798, data 19.377) 0.00082 lr
epoch 19 train loss 52.3334 nats / 75.5011 bits
time since start: 7.4 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 61.2379 nats / 88.3477 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 25/50 | Workload-time: 6.875775 | Model-update-time: 10.889860


WORKLOAD-START | Type: QueryWorkload | Progress: 26/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.1s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 23 (0.003%)  origin-forest_43.843 1 (err=23.000)  
41.5 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
62.5 queries/sec
Query 2: actual 89 (0.013%)  origin-forest_43.843 1 (err=89.000)  
66.7 queries/sec
Query 3: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
71.4 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
62.7 queries/sec
Query 5: actual 719 (0.103%)  origin-forest_43.843 17 (err=42.294)  
68.3 queries/sec
Query 6: actual 15 (0.002%)  origin-forest_43.843 199 (err=13.267)  
68.3 queries/sec
Query 7: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
64.5 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 9: actual 132 (0.019%)  origin-forest_43.843 41 (err=3.220)  
58.8 queries/sec
Query 10: actual 28 (0.004%)  origin-forest_43.843 11039 (err=394.250)  
71.4 queries/sec
Query 11: actual 9 (0.001%)  origin-forest_43.843 9 (err=1.000)  
76.9 queries/sec
Query 12: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 13: actual 111 (0.016%)  origin-forest_43.843 1 (err=111.000)  
76.9 queries/sec
Query 14: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
74.0 queries/sec
Query 15: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 16: actual 26 (0.004%)  origin-forest_43.843 25 (err=1.040)  
83.3 queries/sec
Query 17: actual 278978 (40.013%)  origin-forest_43.843 266490 (err=1.047)  
90.9 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 19: actual 10 (0.001%)  origin-forest_43.843 8 (err=1.250)  
83.3 queries/sec
Query 20: actual 332 (0.048%)  origin-forest_43.843 1 (err=332.000)  
83.3 queries/sec
Query 21: actual 61 (0.009%)  origin-forest_43.843 1 (err=61.000)  
83.3 queries/sec
Query 22: actual 142 (0.020%)  origin-forest_43.843 1 (err=142.000)  
86.9 queries/sec
Query 23: actual 2226 (0.319%)  origin-forest_43.843 3458 (err=1.553)  
90.9 queries/sec
Query 24: actual 134 (0.019%)  origin-forest_43.843 1 (err=134.000)  
83.3 queries/sec
Query 25: actual 29 (0.004%)  origin-forest_43.843 31 (err=1.069)  
83.3 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 27: actual 3453 (0.495%)  origin-forest_43.843 1519 (err=2.273)  
83.3 queries/sec
Query 28: actual 409 (0.059%)  origin-forest_43.843 127 (err=3.220)  
83.3 queries/sec
Query 29: actual 87 (0.012%)  origin-forest_43.843 87 (err=1.000)  
90.9 queries/sec
Query 30: actual 9 (0.001%)  origin-forest_43.843 1 (err=9.000)  
76.9 queries/sec
Query 31: actual 52 (0.007%)  origin-forest_43.843 3 (err=17.333)  
80.0 queries/sec
Query 32: actual 79170 (11.355%)  origin-forest_43.843 87111 (err=1.100)  
90.9 queries/sec
Query 33: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 34: actual 5 (0.001%)  origin-forest_43.843 4 (err=1.250)  
83.3 queries/sec
Query 35: actual 2 (0.000%)  origin-forest_43.843 2 (err=1.000)  
90.9 queries/sec
Query 36: actual 104306 (14.960%)  origin-forest_43.843 47429 (err=2.199)  
80.9 queries/sec
Query 37: actual 23 (0.003%)  origin-forest_43.843 1 (err=23.000)  
74.2 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 39: actual 175 (0.025%)  origin-forest_43.843 165 (err=1.061)  
74.0 queries/sec
Query 40: actual 473 (0.068%)  origin-forest_43.843 432 (err=1.095)  
90.9 queries/sec
Query 41: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 42: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 43: actual 8 (0.001%)  origin-forest_43.843 13 (err=1.625)  
85.3 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.7 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.6 queries/sec
Query 46: actual 1607 (0.230%)  origin-forest_43.843 1025 (err=1.568)  
76.9 queries/sec
Query 47: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
79.9 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 49: actual 4 (0.001%)  origin-forest_43.843 2 (err=2.000)  
origin-forest_43.843 	max: 394.2500	99th: 363.7475	95th: 138.4000	median: 1.1752	mean: 28.8143
ReportEsts: [23.0, 1.0, 89.0, 2.0, 1.0, 42.294117647058826, 13.266666666666667, 1.0, 1.0, 3.2195121951219514, 394.25, 1.0, 1.0, 111.0, 1.0, 1.0, 1.04, 1.0468610454426057, 1.0, 1.25, 332.0, 61.0, 142.0, 1.5534591194968554, 134.0, 1.0689655172413792, 1.0, 2.273206056616195, 3.220472440944882, 1.0, 9.0, 17.333333333333332, 1.1003031451307312, 1.0, 1.25, 1.0, 2.199203019249826, 23.0, 1.0, 1.0606060606060606, 1.0949074074074074, 1.0, 1.0, 1.625, 1.0, 1.0, 1.5678048780487805, 2.0, 1.0, 2.0]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 26/50 | Workload-time: 4.159490 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 27/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=permute-opt', '--dataset=forest', '--drift_test=ddup', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
Permute - START
Permute - END
load_npy_dataset_from_path - df.shape = (691012, 10)
Parsing... done, took 0.1s
Data updated!
done, took 0.1s
done, took 0.1s
new data average log likelihood = 61.0387
detection mean = 49.6297
detection threshold = 0.3374
test statistic = 11.4090
Offline time = 2.9490232467651367
Online time = 0.5616104602813721
Test result: True
Drift detection: True
[0m
DRIFT-DETECTED after 27-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=update']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (691012, 10)
Parsing... done, took 0.1s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.1s
dataset size: 691012
train data shape: torch.Size([10000, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 56.7360 bits (loss 76.134, data 19.398) 0.00100 lr
epoch 9 train loss 52.4895 nats / 75.7263 bits
time since start: 3.9 secs
Epoch 10 Iter 0, train entropy gap 56.2937 bits (loss 75.692, data 19.398) 0.00082 lr
epoch 19 train loss 52.3946 nats / 75.5894 bits
time since start: 7.0 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 60.8594 nats / 87.8016 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 27/50 | Workload-time: 6.828044 | Model-update-time: 10.441029


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 28/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=permute-opt', '--dataset=forest', '--drift_test=ddup', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
Permute - START
Permute - END
load_npy_dataset_from_path - df.shape = (701012, 10)
Parsing... done, took 0.1s
Data updated!
done, took 0.1s
done, took 0.1s
new data average log likelihood = 61.2093
detection mean = 49.7579
detection threshold = 0.3561
test statistic = 11.4514
Offline time = 3.0813076496124268
Online time = 0.600208044052124
Test result: True
Drift detection: True
[0m
DRIFT-DETECTED after 28-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=update']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (701012, 10)
Parsing... done, took 0.1s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.1s
dataset size: 701012
train data shape: torch.Size([10000, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 56.8742 bits (loss 76.293, data 19.419) 0.00100 lr
epoch 9 train loss 52.6361 nats / 75.9378 bits
time since start: 3.9 secs
Epoch 10 Iter 0, train entropy gap 56.7115 bits (loss 76.131, data 19.419) 0.00082 lr
epoch 19 train loss 52.5167 nats / 75.7655 bits
time since start: 7.1 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 60.7928 nats / 87.7055 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 28/50 | Workload-time: 7.124906 | Model-update-time: 10.564193


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 29/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=permute-opt', '--dataset=forest', '--drift_test=ddup', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
Permute - START
Permute - END
load_npy_dataset_from_path - df.shape = (711012, 10)
Parsing... done, took 0.1s
Data updated!
done, took 0.1s
done, took 0.1s
new data average log likelihood = 60.9173
detection mean = 49.9700
detection threshold = 0.3718
test statistic = 10.9473
Offline time = 2.938441514968872
Online time = 0.5453646183013916
Test result: True
Drift detection: True
[0m
DRIFT-DETECTED after 29-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=update']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (711012, 10)
Parsing... done, took 0.1s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.1s
dataset size: 711012
train data shape: torch.Size([10000, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 57.0951 bits (loss 76.535, data 19.440) 0.00100 lr
epoch 9 train loss 52.6687 nats / 75.9849 bits
time since start: 4.0 secs
Epoch 10 Iter 0, train entropy gap 56.5152 bits (loss 75.955, data 19.440) 0.00082 lr
epoch 19 train loss 52.5819 nats / 75.8597 bits
time since start: 7.2 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 60.1346 nats / 86.7559 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 29/50 | Workload-time: 6.895128 | Model-update-time: 10.726083


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 30/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=permute-opt', '--dataset=forest', '--drift_test=ddup', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
Permute - START
Permute - END
load_npy_dataset_from_path - df.shape = (721012, 10)
Parsing... done, took 0.1s
Data updated!
done, took 0.1s
done, took 0.1s
new data average log likelihood = 60.5515
detection mean = 50.2134
detection threshold = 0.3867
test statistic = 10.3381
Offline time = 2.9508132934570312
Online time = 0.5370993614196777
Test result: True
Drift detection: True
[0m
DRIFT-DETECTED after 30-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=update']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (721012, 10)
Parsing... done, took 0.1s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.1s
dataset size: 721012
train data shape: torch.Size([10000, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 56.9313 bits (loss 76.391, data 19.460) 0.00100 lr
epoch 9 train loss 52.7337 nats / 76.0786 bits
time since start: 3.9 secs
Epoch 10 Iter 0, train entropy gap 56.7403 bits (loss 76.200, data 19.460) 0.00082 lr
epoch 19 train loss 52.6687 nats / 75.9849 bits
time since start: 7.1 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 60.5382 nats / 87.3382 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 30/50 | Workload-time: 6.841105 | Model-update-time: 10.770645


WORKLOAD-START | Type: QueryWorkload | Progress: 31/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
38.2 queries/sec
Query 1: actual 742 (0.106%)  origin-forest_43.843 830 (err=1.119)  
78.1 queries/sec
Query 2: actual 711 (0.102%)  origin-forest_43.843 681 (err=1.044)  
83.3 queries/sec
Query 3: actual 19 (0.003%)  origin-forest_43.843 9 (err=2.111)  
71.4 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 8 (err=8.000)  
90.9 queries/sec
Query 5: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 6: actual 1 (0.000%)  origin-forest_43.843 3 (err=3.000)  
83.3 queries/sec
Query 7: actual 27684 (3.971%)  origin-forest_43.843 8240 (err=3.360)  
86.8 queries/sec
Query 8: actual 438 (0.063%)  origin-forest_43.843 241 (err=1.817)  
90.9 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 10: actual 125 (0.018%)  origin-forest_43.843 1 (err=125.000)  
83.3 queries/sec
Query 11: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 12: actual 2 (0.000%)  origin-forest_43.843 6 (err=3.000)  
90.9 queries/sec
Query 13: actual 18 (0.003%)  origin-forest_43.843 37 (err=2.056)  
90.9 queries/sec
Query 14: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 15: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
81.7 queries/sec
Query 16: actual 6 (0.001%)  origin-forest_43.843 44 (err=7.333)  
90.9 queries/sec
Query 17: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 19: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 20: actual 75 (0.011%)  origin-forest_43.843 1 (err=75.000)  
90.9 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 22: actual 16 (0.002%)  origin-forest_43.843 2 (err=8.000)  
83.3 queries/sec
Query 23: actual 2 (0.000%)  origin-forest_43.843 2 (err=1.000)  
83.3 queries/sec
Query 24: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 25: actual 8620 (1.236%)  origin-forest_43.843 14363 (err=1.666)  
83.3 queries/sec
Query 26: actual 5 (0.001%)  origin-forest_43.843 2 (err=2.500)  
90.9 queries/sec
Query 27: actual 73 (0.010%)  origin-forest_43.843 7 (err=10.429)  
83.3 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 29: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.4 queries/sec
Query 30: actual 10 (0.001%)  origin-forest_43.843 65 (err=6.500)  
83.3 queries/sec
Query 31: actual 10 (0.001%)  origin-forest_43.843 19 (err=1.900)  
83.3 queries/sec
Query 32: actual 41 (0.006%)  origin-forest_43.843 1 (err=41.000)  
80.0 queries/sec
Query 33: actual 661 (0.095%)  origin-forest_43.843 992 (err=1.501)  
90.9 queries/sec
Query 34: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 35: actual 17 (0.002%)  origin-forest_43.843 21 (err=1.235)  
83.3 queries/sec
Query 36: actual 3112 (0.446%)  origin-forest_43.843 10536 (err=3.386)  
90.9 queries/sec
Query 37: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 38: actual 104 (0.015%)  origin-forest_43.843 136 (err=1.308)  
90.9 queries/sec
Query 39: actual 95 (0.014%)  origin-forest_43.843 493 (err=5.189)  
83.3 queries/sec
Query 40: actual 79 (0.011%)  origin-forest_43.843 580 (err=7.342)  
90.9 queries/sec
Query 41: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
83.0 queries/sec
Query 42: actual 49 (0.007%)  origin-forest_43.843 333 (err=6.796)  
76.9 queries/sec
Query 43: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
76.9 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 45: actual 174 (0.025%)  origin-forest_43.843 65 (err=2.677)  
90.9 queries/sec
Query 46: actual 55901 (8.018%)  origin-forest_43.843 63579 (err=1.137)  
100.0 queries/sec
Query 47: actual 860 (0.123%)  origin-forest_43.843 1091 (err=1.269)  
90.9 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 49: actual 139 (0.020%)  origin-forest_43.843 75 (err=1.853)  
origin-forest_43.843 	max: 125.0000	99th: 100.5000	95th: 27.2429	median: 1.5835	mean: 7.2105
ReportEsts: [1.0, 1.1185983827493262, 1.0440528634361232, 2.111111111111111, 8.0, 1.0, 3.0, 3.3597087378640778, 1.8174273858921162, 1.0, 125.0, 1.0, 3.0, 2.0555555555555554, 1.0, 1.0, 7.333333333333333, 1.0, 1.0, 1.0, 75.0, 1.0, 8.0, 1.0, 1.0, 1.6662412993039444, 2.5, 10.428571428571429, 1.0, 1.0, 6.5, 1.9, 41.0, 1.5007564296520424, 1.0, 1.2352941176470589, 3.38560411311054, 1.0, 1.3076923076923077, 5.189473684210526, 7.341772151898734, 2.0, 6.795918367346939, 2.0, 1.0, 2.6769230769230767, 1.137349957961396, 1.2686046511627906, 1.0, 1.8533333333333333]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 31/50 | Workload-time: 4.145205 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 32/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 10 (0.001%)  origin-forest_43.843 7 (err=1.429)  
41.7 queries/sec
Query 1: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
76.9 queries/sec
Query 2: actual 4 (0.001%)  origin-forest_43.843 2 (err=2.000)  
90.9 queries/sec
Query 3: actual 153 (0.022%)  origin-forest_43.843 81 (err=1.889)  
83.3 queries/sec
Query 4: actual 1495 (0.214%)  origin-forest_43.843 1175 (err=1.272)  
90.8 queries/sec
Query 5: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 6: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
81.7 queries/sec
Query 7: actual 374 (0.054%)  origin-forest_43.843 75 (err=4.987)  
83.3 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 9: actual 11798 (1.692%)  origin-forest_43.843 12939 (err=1.097)  
90.9 queries/sec
Query 10: actual 2 (0.000%)  origin-forest_43.843 5 (err=2.500)  
76.9 queries/sec
Query 11: actual 31 (0.004%)  origin-forest_43.843 1 (err=31.000)  
83.3 queries/sec
Query 12: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 13: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 14: actual 72164 (10.350%)  origin-forest_43.843 105967 (err=1.468)  
90.5 queries/sec
Query 15: actual 14 (0.002%)  origin-forest_43.843 11 (err=1.273)  
90.9 queries/sec
Query 16: actual 48 (0.007%)  origin-forest_43.843 18 (err=2.667)  
83.3 queries/sec
Query 17: actual 316 (0.045%)  origin-forest_43.843 448 (err=1.418)  
90.9 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 19: actual 10 (0.001%)  origin-forest_43.843 2 (err=5.000)  
83.3 queries/sec
Query 20: actual 618 (0.089%)  origin-forest_43.843 43 (err=14.372)  
83.3 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 22: actual 14 (0.002%)  origin-forest_43.843 62 (err=4.429)  
80.0 queries/sec
Query 23: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 24: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 25: actual 1238 (0.178%)  origin-forest_43.843 1177 (err=1.052)  
90.9 queries/sec
Query 26: actual 424 (0.061%)  origin-forest_43.843 97 (err=4.371)  
71.7 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
74.4 queries/sec
Query 28: actual 235 (0.034%)  origin-forest_43.843 1 (err=235.000)  
82.9 queries/sec
Query 29: actual 6766 (0.970%)  origin-forest_43.843 6600 (err=1.025)  
76.9 queries/sec
Query 30: actual 3 (0.000%)  origin-forest_43.843 1 (err=3.000)  
79.9 queries/sec
Query 31: actual 1465 (0.210%)  origin-forest_43.843 3501 (err=2.390)  
83.3 queries/sec
Query 32: actual 139583 (20.020%)  origin-forest_43.843 117677 (err=1.186)  
76.9 queries/sec
Query 33: actual 17 (0.002%)  origin-forest_43.843 113 (err=6.647)  
62.5 queries/sec
Query 34: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 36: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 37: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
68.9 queries/sec
Query 39: actual 10 (0.001%)  origin-forest_43.843 6 (err=1.667)  
83.3 queries/sec
Query 40: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
76.9 queries/sec
Query 41: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 42: actual 20879 (2.995%)  origin-forest_43.843 29556 (err=1.416)  
83.3 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.4 queries/sec
Query 44: actual 781 (0.112%)  origin-forest_43.843 694 (err=1.125)  
83.3 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 46: actual 45 (0.006%)  origin-forest_43.843 1 (err=45.000)  
86.9 queries/sec
Query 47: actual 1176 (0.169%)  origin-forest_43.843 1036 (err=1.135)  
90.9 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 15 (err=15.000)  
83.3 queries/sec
Query 49: actual 66 (0.009%)  origin-forest_43.843 37 (err=1.784)  
origin-forest_43.843 	max: 235.0000	99th: 141.9000	95th: 23.8000	median: 1.3442	mean: 8.4319
ReportEsts: [1.4285714285714286, 2.0, 2.0, 1.8888888888888888, 1.2723404255319148, 1.0, 1.0, 4.986666666666666, 1.0, 1.0967113070011867, 2.5, 31.0, 1.0, 1.0, 1.4684191563660551, 1.2727272727272727, 2.6666666666666665, 1.4177215189873418, 1.0, 5.0, 14.372093023255815, 1.0, 4.428571428571429, 1.0, 1.0, 1.0518266779949024, 4.371134020618556, 2.0, 235.0, 1.0251515151515151, 3.0, 2.3897610921501706, 1.1861536239027168, 6.647058823529412, 1.0, 1.0, 1.0, 1.0, 1.0, 1.6666666666666667, 2.0, 1.0, 1.415585037597586, 1.0, 1.1253602305475505, 1.0, 45.0, 1.135135135135135, 15.0, 1.7837837837837838]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 32/50 | Workload-time: 4.116051 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 33/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
40.0 queries/sec
Query 1: actual 77 (0.011%)  origin-forest_43.843 15 (err=5.133)  
76.9 queries/sec
Query 2: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
82.4 queries/sec
Query 3: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 4: actual 81245 (11.653%)  origin-forest_43.843 97092 (err=1.195)  
100.0 queries/sec
Query 5: actual 135 (0.019%)  origin-forest_43.843 78 (err=1.731)  
83.3 queries/sec
Query 6: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 7: actual 1914 (0.275%)  origin-forest_43.843 2684 (err=1.402)  
90.9 queries/sec
Query 8: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
83.3 queries/sec
Query 9: actual 3601 (0.516%)  origin-forest_43.843 3405 (err=1.058)  
90.9 queries/sec
Query 10: actual 223 (0.032%)  origin-forest_43.843 1 (err=223.000)  
76.9 queries/sec
Query 11: actual 3 (0.000%)  origin-forest_43.843 1 (err=3.000)  
79.9 queries/sec
Query 12: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 13: actual 374 (0.054%)  origin-forest_43.843 175 (err=2.137)  
90.9 queries/sec
Query 14: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 15: actual 142396 (20.424%)  origin-forest_43.843 134306 (err=1.060)  
83.3 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 17: actual 3 (0.000%)  origin-forest_43.843 3 (err=1.000)  
90.9 queries/sec
Query 18: actual 7 (0.001%)  origin-forest_43.843 1 (err=7.000)  
90.9 queries/sec
Query 19: actual 328 (0.047%)  origin-forest_43.843 7 (err=46.857)  
95.2 queries/sec
Query 20: actual 9 (0.001%)  origin-forest_43.843 1 (err=9.000)  
76.9 queries/sec
Query 21: actual 25 (0.004%)  origin-forest_43.843 11 (err=2.273)  
71.4 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 5 (err=5.000)  
71.4 queries/sec
Query 23: actual 7 (0.001%)  origin-forest_43.843 4 (err=1.750)  
90.9 queries/sec
Query 24: actual 16 (0.002%)  origin-forest_43.843 4 (err=4.000)  
83.3 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 26: actual 15 (0.002%)  origin-forest_43.843 89 (err=5.933)  
90.9 queries/sec
Query 27: actual 319 (0.046%)  origin-forest_43.843 1 (err=319.000)  
76.7 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 29: actual 3859 (0.553%)  origin-forest_43.843 3544 (err=1.089)  
83.3 queries/sec
Query 30: actual 119 (0.017%)  origin-forest_43.843 51 (err=2.333)  
83.3 queries/sec
Query 31: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 32: actual 2 (0.000%)  origin-forest_43.843 3 (err=1.500)  
90.9 queries/sec
Query 33: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
90.9 queries/sec
Query 34: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 35: actual 36 (0.005%)  origin-forest_43.843 74 (err=2.056)  
90.9 queries/sec
Query 36: actual 281 (0.040%)  origin-forest_43.843 55 (err=5.109)  
83.0 queries/sec
Query 37: actual 61826 (8.868%)  origin-forest_43.843 78817 (err=1.275)  
90.9 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 23 (err=23.000)  
83.3 queries/sec
Query 39: actual 17148 (2.460%)  origin-forest_43.843 13113 (err=1.308)  
90.9 queries/sec
Query 40: actual 1789 (0.257%)  origin-forest_43.843 883 (err=2.026)  
90.9 queries/sec
Query 41: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 42: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.6 queries/sec
Query 43: actual 101 (0.014%)  origin-forest_43.843 1 (err=101.000)  
76.9 queries/sec
Query 44: actual 10 (0.001%)  origin-forest_43.843 1 (err=10.000)  
74.0 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 46: actual 787 (0.113%)  origin-forest_43.843 443 (err=1.777)  
90.9 queries/sec
Query 47: actual 78617 (11.276%)  origin-forest_43.843 72770 (err=1.080)  
89.3 queries/sec
Query 48: actual 4 (0.001%)  origin-forest_43.843 2 (err=2.000)  
94.3 queries/sec
Query 49: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
origin-forest_43.843 	max: 319.0000	99th: 271.9600	95th: 76.6357	median: 1.7404	mean: 16.3416
ReportEsts: [1.0, 5.133333333333334, 2.0, 1.0, 1.195052003200197, 1.7307692307692308, 1.0, 1.4022988505747127, 2.0, 1.0575624082232011, 223.0, 3.0, 1.0, 2.137142857142857, 1.0, 1.060235581433443, 1.0, 1.0, 7.0, 46.857142857142854, 9.0, 2.272727272727273, 5.0, 1.75, 4.0, 1.0, 5.933333333333334, 319.0, 1.0, 1.088882618510158, 2.3333333333333335, 1.0, 1.5, 2.0, 1.0, 2.0555555555555554, 5.109090909090909, 1.274819655161259, 23.0, 1.3077099061999542, 2.0260475651189127, 1.0, 1.0, 101.0, 10.0, 1.0, 1.7765237020316027, 1.0803490449361, 2.0, 1.0]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 33/50 | Workload-time: 4.108022 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 34/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=permute-opt', '--dataset=forest', '--drift_test=ddup', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
Permute - START
Permute - END
load_npy_dataset_from_path - df.shape = (731012, 10)
Parsing... done, took 0.1s
Data updated!
done, took 0.1s
done, took 0.1s
new data average log likelihood = 60.2366
detection mean = 50.4175
detection threshold = 0.3930
test statistic = 9.8191
Offline time = 3.0929269790649414
Online time = 0.5963358879089355
Test result: True
Drift detection: True
[0m
DRIFT-DETECTED after 34-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=update']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (731012, 10)
Parsing... done, took 0.1s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.1s
dataset size: 731012
train data shape: torch.Size([10000, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 56.9131 bits (loss 76.393, data 19.480) 0.00100 lr
epoch 9 train loss 52.8337 nats / 76.2229 bits
time since start: 4.0 secs
Epoch 10 Iter 0, train entropy gap 56.8289 bits (loss 76.308, data 19.480) 0.00082 lr
epoch 19 train loss 52.7617 nats / 76.1190 bits
time since start: 7.1 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 60.0161 nats / 86.5849 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 34/50 | Workload-time: 7.042752 | Model-update-time: 10.715657


WORKLOAD-START | Type: QueryWorkload | Progress: 35/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
40.8 queries/sec
Query 1: actual 671 (0.096%)  origin-forest_43.843 1342 (err=2.000)  
76.9 queries/sec
Query 2: actual 14663 (2.103%)  origin-forest_43.843 10234 (err=1.433)  
90.9 queries/sec
Query 3: actual 17620 (2.527%)  origin-forest_43.843 56520 (err=3.208)  
90.9 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 5: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
76.9 queries/sec
Query 6: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 7: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 8: actual 616 (0.088%)  origin-forest_43.843 1174 (err=1.906)  
95.1 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 60 (err=60.000)  
76.9 queries/sec
Query 10: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 11: actual 43 (0.006%)  origin-forest_43.843 130 (err=3.023)  
90.9 queries/sec
Query 12: actual 2150 (0.308%)  origin-forest_43.843 1676 (err=1.283)  
90.9 queries/sec
Query 13: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 14: actual 74507 (10.686%)  origin-forest_43.843 78821 (err=1.058)  
90.9 queries/sec
Query 15: actual 12247 (1.757%)  origin-forest_43.843 13914 (err=1.136)  
99.9 queries/sec
Query 16: actual 16649 (2.388%)  origin-forest_43.843 17323 (err=1.040)  
90.9 queries/sec
Query 17: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 18: actual 934 (0.134%)  origin-forest_43.843 90 (err=10.378)  
83.3 queries/sec
Query 19: actual 9 (0.001%)  origin-forest_43.843 36 (err=4.000)  
83.3 queries/sec
Query 20: actual 59161 (8.485%)  origin-forest_43.843 74269 (err=1.255)  
90.9 queries/sec
Query 21: actual 5 (0.001%)  origin-forest_43.843 115 (err=23.000)  
83.3 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.4 queries/sec
Query 23: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 24: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 25: actual 196034 (28.117%)  origin-forest_43.843 173876 (err=1.127)  
96.9 queries/sec
Query 26: actual 5 (0.001%)  origin-forest_43.843 15 (err=3.000)  
90.9 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 28: actual 3879 (0.556%)  origin-forest_43.843 2698 (err=1.438)  
90.9 queries/sec
Query 29: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 31: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 33: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 34: actual 4 (0.001%)  origin-forest_43.843 107 (err=26.750)  
86.9 queries/sec
Query 35: actual 17 (0.002%)  origin-forest_43.843 60 (err=3.529)  
83.3 queries/sec
Query 36: actual 1078 (0.155%)  origin-forest_43.843 1558 (err=1.445)  
76.9 queries/sec
Query 37: actual 121 (0.017%)  origin-forest_43.843 161 (err=1.331)  
100.0 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 39: actual 88 (0.013%)  origin-forest_43.843 148 (err=1.682)  
90.9 queries/sec
Query 40: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 41: actual 4017 (0.576%)  origin-forest_43.843 562 (err=7.148)  
83.3 queries/sec
Query 42: actual 189 (0.027%)  origin-forest_43.843 117 (err=1.615)  
90.9 queries/sec
Query 43: actual 66 (0.009%)  origin-forest_43.843 31 (err=2.129)  
86.9 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 45: actual 118 (0.017%)  origin-forest_43.843 6 (err=19.667)  
83.3 queries/sec
Query 46: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 47: actual 513 (0.074%)  origin-forest_43.843 26 (err=19.731)  
90.9 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 49: actual 289 (0.041%)  origin-forest_43.843 469 (err=1.623)  
origin-forest_43.843 	max: 60.0000	99th: 43.7075	95th: 21.5288	median: 1.1957	mean: 4.5987
ReportEsts: [1.0, 2.0, 1.4327731092436975, 3.207718501702611, 1.0, 2.0, 1.0, 1.0, 1.905844155844156, 60.0, 1.0, 3.0232558139534884, 1.2828162291169452, 1.0, 1.0579005999436295, 1.136114966930677, 1.0404829118865997, 1.0, 10.377777777777778, 4.0, 1.255370936934805, 23.0, 1.0, 1.0, 1.0, 1.1274356437921278, 3.0, 1.0, 1.4377316530763529, 1.0, 1.0, 1.0, 1.0, 1.0, 26.75, 3.5294117647058822, 1.4452690166975881, 1.3305785123966942, 1.0, 1.6818181818181819, 1.0, 7.147686832740214, 1.6153846153846154, 2.129032258064516, 1.0, 19.666666666666668, 1.0, 19.73076923076923, 1.0, 1.6228373702422145]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 35/50 | Workload-time: 4.067057 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 36/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 55 (0.008%)  origin-forest_43.843 1 (err=55.000)  
30.3 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
58.0 queries/sec
Query 2: actual 232 (0.033%)  origin-forest_43.843 1718 (err=7.405)  
69.9 queries/sec
Query 3: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
62.5 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
58.8 queries/sec
Query 5: actual 114 (0.016%)  origin-forest_43.843 1 (err=114.000)  
71.4 queries/sec
Query 6: actual 48 (0.007%)  origin-forest_43.843 20 (err=2.400)  
71.4 queries/sec
Query 7: actual 2038 (0.292%)  origin-forest_43.843 2539 (err=1.246)  
86.9 queries/sec
Query 8: actual 363 (0.052%)  origin-forest_43.843 24 (err=15.125)  
76.9 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 10: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 11: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 12: actual 218 (0.031%)  origin-forest_43.843 93 (err=2.344)  
90.9 queries/sec
Query 13: actual 19 (0.003%)  origin-forest_43.843 1 (err=19.000)  
83.3 queries/sec
Query 14: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 15: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.9 queries/sec
Query 16: actual 312 (0.045%)  origin-forest_43.843 38 (err=8.211)  
76.9 queries/sec
Query 17: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 18: actual 150925 (21.647%)  origin-forest_43.843 153390 (err=1.016)  
90.9 queries/sec
Query 19: actual 6 (0.001%)  origin-forest_43.843 1 (err=6.000)  
76.9 queries/sec
Query 20: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 21: actual 4 (0.001%)  origin-forest_43.843 4 (err=1.000)  
100.0 queries/sec
Query 22: actual 4 (0.001%)  origin-forest_43.843 2 (err=2.000)  
83.3 queries/sec
Query 23: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
74.0 queries/sec
Query 24: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 25: actual 508 (0.073%)  origin-forest_43.843 138 (err=3.681)  
58.8 queries/sec
Query 26: actual 882 (0.127%)  origin-forest_43.843 18574 (err=21.059)  
83.3 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.2 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 29: actual 25 (0.004%)  origin-forest_43.843 1 (err=25.000)  
90.9 queries/sec
Query 30: actual 157554 (22.598%)  origin-forest_43.843 181534 (err=1.152)  
90.9 queries/sec
Query 31: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
88.8 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 33: actual 82 (0.012%)  origin-forest_43.843 2 (err=41.000)  
76.9 queries/sec
Query 34: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 36: actual 36 (0.005%)  origin-forest_43.843 3863 (err=107.306)  
83.3 queries/sec
Query 37: actual 19 (0.003%)  origin-forest_43.843 1 (err=19.000)  
76.9 queries/sec
Query 38: actual 5295 (0.759%)  origin-forest_43.843 7183 (err=1.357)  
76.9 queries/sec
Query 39: actual 33 (0.005%)  origin-forest_43.843 42 (err=1.273)  
79.9 queries/sec
Query 40: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
58.8 queries/sec
Query 41: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
58.8 queries/sec
Query 42: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.7 queries/sec
Query 43: actual 95 (0.014%)  origin-forest_43.843 123 (err=1.295)  
64.0 queries/sec
Query 44: actual 177 (0.025%)  origin-forest_43.843 64 (err=2.766)  
52.6 queries/sec
Query 45: actual 236 (0.034%)  origin-forest_43.843 1025 (err=4.343)  
57.1 queries/sec
Query 46: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
52.6 queries/sec
Query 47: actual 695 (0.100%)  origin-forest_43.843 14796 (err=21.289)  
52.6 queries/sec
Query 48: actual 27 (0.004%)  origin-forest_43.843 799 (err=29.593)  
62.5 queries/sec
Query 49: actual 15222 (2.183%)  origin-forest_43.843 25710 (err=1.689)  
origin-forest_43.843 	max: 114.0000	99th: 110.7197	95th: 48.7000	median: 1.1990	mean: 10.7710
ReportEsts: [55.0, 1.0, 7.405172413793103, 1.0, 1.0, 114.0, 2.4, 1.245829244357213, 15.125, 1.0, 1.0, 1.0, 2.3440860215053765, 19.0, 1.0, 1.0, 8.210526315789474, 1.0, 1.0163326155375185, 6.0, 1.0, 1.0, 2.0, 1.0, 1.0, 3.681159420289855, 21.058956916099774, 1.0, 1.0, 25.0, 1.152201784784899, 1.0, 1.0, 41.0, 1.0, 1.0, 107.30555555555556, 19.0, 1.3565627950897072, 1.2727272727272727, 1.0, 1.0, 1.0, 1.2947368421052632, 2.765625, 4.343220338983051, 1.0, 21.289208633093526, 29.59259259259259, 1.6890027591643673]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 36/50 | Workload-time: 4.185649 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 37/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=permute-opt', '--dataset=forest', '--drift_test=ddup', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
Permute - START
Permute - END
load_npy_dataset_from_path - df.shape = (741012, 10)
Parsing... done, took 0.1s
Data updated!
done, took 0.1s
done, took 0.1s
new data average log likelihood = 60.2192
detection mean = 50.5064
detection threshold = 0.4049
test statistic = 9.7128
Offline time = 2.9258298873901367
Online time = 0.5650911331176758
Test result: True
Drift detection: True
[0m
DRIFT-DETECTED after 37-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=update']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (741012, 10)
Parsing... done, took 0.1s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.1s
dataset size: 741012
train data shape: torch.Size([10000, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 57.2312 bits (loss 76.730, data 19.499) 0.00100 lr
epoch 9 train loss 52.9048 nats / 76.3255 bits
time since start: 3.9 secs
Epoch 10 Iter 0, train entropy gap 56.9057 bits (loss 76.405, data 19.499) 0.00082 lr
epoch 19 train loss 52.8116 nats / 76.1911 bits
time since start: 7.1 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 59.9964 nats / 86.5566 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 37/50 | Workload-time: 6.849719 | Model-update-time: 10.640761


WORKLOAD-START | Type: QueryWorkload | Progress: 38/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
43.3 queries/sec
Query 1: actual 32 (0.005%)  origin-forest_43.843 1 (err=32.000)  
71.4 queries/sec
Query 2: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 3: actual 506 (0.073%)  origin-forest_43.843 449 (err=1.127)  
76.9 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 5: actual 25 (0.004%)  origin-forest_43.843 30 (err=1.200)  
90.9 queries/sec
Query 6: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
90.9 queries/sec
Query 7: actual 188 (0.027%)  origin-forest_43.843 93 (err=2.022)  
83.3 queries/sec
Query 8: actual 236 (0.034%)  origin-forest_43.843 171 (err=1.380)  
83.3 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.9 queries/sec
Query 10: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 11: actual 1 (0.000%)  origin-forest_43.843 3 (err=3.000)  
83.3 queries/sec
Query 12: actual 420 (0.060%)  origin-forest_43.843 333 (err=1.261)  
90.9 queries/sec
Query 13: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 14: actual 50 (0.007%)  origin-forest_43.843 52 (err=1.040)  
83.3 queries/sec
Query 15: actual 18 (0.003%)  origin-forest_43.843 1 (err=18.000)  
76.9 queries/sec
Query 16: actual 3441 (0.494%)  origin-forest_43.843 1794 (err=1.918)  
90.9 queries/sec
Query 17: actual 577 (0.083%)  origin-forest_43.843 139 (err=4.151)  
95.2 queries/sec
Query 18: actual 81 (0.012%)  origin-forest_43.843 22 (err=3.682)  
83.3 queries/sec
Query 19: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 20: actual 2061 (0.296%)  origin-forest_43.843 891 (err=2.313)  
83.3 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 30 (err=30.000)  
77.7 queries/sec
Query 23: actual 29 (0.004%)  origin-forest_43.843 1 (err=29.000)  
86.9 queries/sec
Query 24: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 25: actual 133 (0.019%)  origin-forest_43.843 568 (err=4.271)  
85.5 queries/sec
Query 26: actual 410 (0.059%)  origin-forest_43.843 648 (err=1.580)  
90.8 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 28: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
83.3 queries/sec
Query 29: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
89.7 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 31: actual 76 (0.011%)  origin-forest_43.843 1 (err=76.000)  
83.3 queries/sec
Query 32: actual 17095 (2.452%)  origin-forest_43.843 19205 (err=1.123)  
83.3 queries/sec
Query 33: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 34: actual 45706 (6.556%)  origin-forest_43.843 54975 (err=1.203)  
98.0 queries/sec
Query 35: actual 14218 (2.039%)  origin-forest_43.843 24415 (err=1.717)  
83.3 queries/sec
Query 36: actual 58 (0.008%)  origin-forest_43.843 1 (err=58.000)  
90.9 queries/sec
Query 37: actual 159 (0.023%)  origin-forest_43.843 216 (err=1.358)  
83.3 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 39: actual 18 (0.003%)  origin-forest_43.843 590 (err=32.778)  
83.4 queries/sec
Query 40: actual 15 (0.002%)  origin-forest_43.843 20 (err=1.333)  
83.3 queries/sec
Query 41: actual 31 (0.004%)  origin-forest_43.843 1 (err=31.000)  
90.9 queries/sec
Query 42: actual 37 (0.005%)  origin-forest_43.843 42 (err=1.135)  
83.3 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
95.1 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 45: actual 71 (0.010%)  origin-forest_43.843 1 (err=71.000)  
83.3 queries/sec
Query 46: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 47: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 48: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 49: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
origin-forest_43.843 	max: 76.0000	99th: 73.5500	95th: 46.6500	median: 1.2320	mean: 8.9119
ReportEsts: [1.0, 32.0, 1.0, 1.1269487750556793, 1.0, 1.2, 2.0, 2.021505376344086, 1.3801169590643274, 1.0, 1.0, 3.0, 1.2612612612612613, 1.0, 1.04, 18.0, 1.9180602006688963, 4.151079136690647, 3.6818181818181817, 1.0, 2.313131313131313, 1.0, 30.0, 29.0, 1.0, 4.2706766917293235, 1.5804878048780489, 1.0, 2.0, 8.0, 1.0, 76.0, 1.1234279028955836, 1.0, 1.2027961317988884, 1.7171894781263188, 58.0, 1.3584905660377358, 1.0, 32.77777777777778, 1.3333333333333333, 31.0, 1.135135135135135, 1.0, 1.0, 71.0, 1.0, 1.0, 1.0, 1.0]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 38/50 | Workload-time: 4.136117 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 39/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=permute-opt', '--dataset=forest', '--drift_test=ddup', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
Permute - START
Permute - END
load_npy_dataset_from_path - df.shape = (751012, 10)
Parsing... done, took 0.1s
Data updated!
done, took 0.1s
done, took 0.1s
new data average log likelihood = 60.1405
detection mean = 50.6289
detection threshold = 0.4120
test statistic = 9.5116
Offline time = 3.0658626556396484
Online time = 0.5738234519958496
Test result: True
Drift detection: True
[0m
DRIFT-DETECTED after 39-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=update']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (751012, 10)
Parsing... done, took 0.1s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.1s
dataset size: 751012
train data shape: torch.Size([10000, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 57.1916 bits (loss 76.710, data 19.518) 0.00100 lr
epoch 9 train loss 52.8466 nats / 76.2415 bits
time since start: 3.9 secs
Epoch 10 Iter 0, train entropy gap 56.8489 bits (loss 76.367, data 19.518) 0.00082 lr
epoch 19 train loss 52.8126 nats / 76.1924 bits
time since start: 7.1 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 59.7793 nats / 86.2433 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 39/50 | Workload-time: 7.064422 | Model-update-time: 10.529815


WORKLOAD-START | Type: QueryWorkload | Progress: 40/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 16 (0.002%)  origin-forest_43.843 16 (err=1.000)  
39.2 queries/sec
Query 1: actual 19 (0.003%)  origin-forest_43.843 76 (err=4.000)  
58.8 queries/sec
Query 2: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
83.3 queries/sec
Query 3: actual 43 (0.006%)  origin-forest_43.843 51 (err=1.186)  
90.9 queries/sec
Query 4: actual 8319 (1.193%)  origin-forest_43.843 11300 (err=1.358)  
90.9 queries/sec
Query 5: actual 50 (0.007%)  origin-forest_43.843 39 (err=1.282)  
90.9 queries/sec
Query 6: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
83.3 queries/sec
Query 7: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
83.3 queries/sec
Query 8: actual 516 (0.074%)  origin-forest_43.843 444 (err=1.162)  
80.5 queries/sec
Query 9: actual 4222 (0.606%)  origin-forest_43.843 5958 (err=1.411)  
90.9 queries/sec
Query 10: actual 16 (0.002%)  origin-forest_43.843 2 (err=8.000)  
83.3 queries/sec
Query 11: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 12: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 13: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 14: actual 126 (0.018%)  origin-forest_43.843 100 (err=1.260)  
90.9 queries/sec
Query 15: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.2 queries/sec
Query 16: actual 65 (0.009%)  origin-forest_43.843 118 (err=1.815)  
83.3 queries/sec
Query 17: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.5 queries/sec
Query 18: actual 61 (0.009%)  origin-forest_43.843 1 (err=61.000)  
91.5 queries/sec
Query 19: actual 2195 (0.315%)  origin-forest_43.843 2070 (err=1.060)  
90.5 queries/sec
Query 20: actual 111 (0.016%)  origin-forest_43.843 1 (err=111.000)  
86.4 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 23: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 24: actual 55 (0.008%)  origin-forest_43.843 36 (err=1.528)  
90.8 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 26: actual 62 (0.009%)  origin-forest_43.843 51 (err=1.216)  
83.3 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 28: actual 59182 (8.488%)  origin-forest_43.843 63465 (err=1.072)  
90.9 queries/sec
Query 29: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 30: actual 287 (0.041%)  origin-forest_43.843 427 (err=1.488)  
83.3 queries/sec
Query 31: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 33: actual 201 (0.029%)  origin-forest_43.843 426 (err=2.119)  
86.8 queries/sec
Query 34: actual 144743 (20.760%)  origin-forest_43.843 108959 (err=1.328)  
90.9 queries/sec
Query 35: actual 175 (0.025%)  origin-forest_43.843 1 (err=175.000)  
76.9 queries/sec
Query 36: actual 277 (0.040%)  origin-forest_43.843 1 (err=277.000)  
83.3 queries/sec
Query 37: actual 1586 (0.227%)  origin-forest_43.843 3333 (err=2.102)  
83.3 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 40: actual 1874 (0.269%)  origin-forest_43.843 1982 (err=1.058)  
90.9 queries/sec
Query 41: actual 13 (0.002%)  origin-forest_43.843 32 (err=2.462)  
71.4 queries/sec
Query 42: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.8 queries/sec
Query 43: actual 415 (0.060%)  origin-forest_43.843 349 (err=1.189)  
90.9 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
66.7 queries/sec
Query 46: actual 173 (0.025%)  origin-forest_43.843 19 (err=9.105)  
76.9 queries/sec
Query 47: actual 34 (0.005%)  origin-forest_43.843 1 (err=34.000)  
83.4 queries/sec
Query 48: actual 247 (0.035%)  origin-forest_43.843 335 (err=1.356)  
83.3 queries/sec
Query 49: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
origin-forest_43.843 	max: 277.0000	99th: 227.0200	95th: 88.5000	median: 1.1876	mean: 14.6512
ReportEsts: [1.0, 4.0, 2.0, 1.186046511627907, 1.3583363385022238, 1.2820512820512822, 2.0, 2.0, 1.162162162162162, 1.4111795357650403, 8.0, 1.0, 1.0, 1.0, 1.26, 1.0, 1.8153846153846154, 1.0, 61.0, 1.0603864734299517, 111.0, 1.0, 1.0, 1.0, 1.5277777777777777, 1.0, 1.2156862745098038, 1.0, 1.0723699773579805, 1.0, 1.4878048780487805, 1.0, 1.0, 2.1194029850746268, 1.3284171110234124, 175.0, 277.0, 2.101513240857503, 1.0, 1.0, 1.0576307363927429, 2.4615384615384617, 1.0, 1.189111747851003, 1.0, 1.0, 9.105263157894736, 34.0, 1.3562753036437247, 1.0]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 40/50 | Workload-time: 4.012035 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 41/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
40.7 queries/sec
Query 1: actual 275 (0.039%)  origin-forest_43.843 357 (err=1.298)  
76.9 queries/sec
Query 2: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
83.3 queries/sec
Query 3: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.8 queries/sec
Query 4: actual 31 (0.004%)  origin-forest_43.843 9 (err=3.444)  
83.3 queries/sec
Query 5: actual 406 (0.058%)  origin-forest_43.843 723 (err=1.781)  
90.9 queries/sec
Query 6: actual 6166 (0.884%)  origin-forest_43.843 6177 (err=1.002)  
83.3 queries/sec
Query 7: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 8: actual 41 (0.006%)  origin-forest_43.843 1 (err=41.000)  
83.3 queries/sec
Query 9: actual 2 (0.000%)  origin-forest_43.843 2 (err=1.000)  
83.4 queries/sec
Query 10: actual 441 (0.063%)  origin-forest_43.843 401 (err=1.100)  
90.8 queries/sec
Query 11: actual 19 (0.003%)  origin-forest_43.843 1 (err=19.000)  
90.9 queries/sec
Query 12: actual 10 (0.001%)  origin-forest_43.843 13 (err=1.300)  
86.9 queries/sec
Query 13: actual 55276 (7.928%)  origin-forest_43.843 21907 (err=2.523)  
90.9 queries/sec
Query 14: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 15: actual 439 (0.063%)  origin-forest_43.843 671 (err=1.528)  
86.1 queries/sec
Query 16: actual 3 (0.000%)  origin-forest_43.843 3 (err=1.000)  
90.9 queries/sec
Query 17: actual 1 (0.000%)  origin-forest_43.843 20 (err=20.000)  
71.4 queries/sec
Query 18: actual 63 (0.009%)  origin-forest_43.843 19 (err=3.316)  
76.9 queries/sec
Query 19: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
71.4 queries/sec
Query 20: actual 4 (0.001%)  origin-forest_43.843 3 (err=1.333)  
79.9 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 22: actual 37 (0.005%)  origin-forest_43.843 15 (err=2.467)  
100.0 queries/sec
Query 23: actual 54 (0.008%)  origin-forest_43.843 82 (err=1.519)  
90.9 queries/sec
Query 24: actual 3 (0.000%)  origin-forest_43.843 1 (err=3.000)  
76.9 queries/sec
Query 25: actual 12 (0.002%)  origin-forest_43.843 1 (err=12.000)  
83.3 queries/sec
Query 26: actual 12 (0.002%)  origin-forest_43.843 1 (err=12.000)  
76.9 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 29: actual 3 (0.000%)  origin-forest_43.843 2 (err=1.500)  
90.9 queries/sec
Query 30: actual 166 (0.024%)  origin-forest_43.843 170 (err=1.024)  
83.3 queries/sec
Query 31: actual 63 (0.009%)  origin-forest_43.843 18 (err=3.500)  
90.9 queries/sec
Query 32: actual 18 (0.003%)  origin-forest_43.843 9 (err=2.000)  
83.3 queries/sec
Query 33: actual 3 (0.000%)  origin-forest_43.843 6 (err=2.000)  
83.3 queries/sec
Query 34: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.8 queries/sec
Query 36: actual 32439 (4.653%)  origin-forest_43.843 31387 (err=1.034)  
90.9 queries/sec
Query 37: actual 3 (0.000%)  origin-forest_43.843 2 (err=1.500)  
79.9 queries/sec
Query 38: actual 16 (0.002%)  origin-forest_43.843 8 (err=2.000)  
83.3 queries/sec
Query 39: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 40: actual 27 (0.004%)  origin-forest_43.843 2 (err=13.500)  
83.3 queries/sec
Query 41: actual 23056 (3.307%)  origin-forest_43.843 6124 (err=3.765)  
90.9 queries/sec
Query 42: actual 23861 (3.422%)  origin-forest_43.843 28425 (err=1.191)  
90.9 queries/sec
Query 43: actual 91 (0.013%)  origin-forest_43.843 1 (err=91.000)  
83.3 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 45: actual 26 (0.004%)  origin-forest_43.843 20 (err=1.300)  
86.9 queries/sec
Query 46: actual 2591 (0.372%)  origin-forest_43.843 1080 (err=2.399)  
83.3 queries/sec
Query 47: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 48: actual 2 (0.000%)  origin-forest_43.843 7 (err=3.500)  
83.3 queries/sec
Query 49: actual 755 (0.108%)  origin-forest_43.843 457 (err=1.652)  
origin-forest_43.843 	max: 91.0000	99th: 66.5000	95th: 19.5500	median: 1.5000	mean: 5.5895
ReportEsts: [1.0, 1.298181818181818, 2.0, 1.0, 3.4444444444444446, 1.7807881773399015, 1.0017839766461238, 1.0, 41.0, 1.0, 1.0997506234413965, 19.0, 1.3, 2.5232117587985576, 1.0, 1.5284738041002277, 1.0, 20.0, 3.3157894736842106, 1.0, 1.3333333333333333, 1.0, 2.466666666666667, 1.5185185185185186, 3.0, 12.0, 12.0, 1.0, 1.0, 1.5, 1.0240963855421688, 3.5, 2.0, 2.0, 1.0, 1.0, 1.033517061203683, 1.5, 2.0, 1.0, 13.5, 3.7648595689092095, 1.1912744646075186, 91.0, 1.0, 1.3, 2.399074074074074, 1.0, 3.5, 1.6520787746170678]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 41/50 | Workload-time: 4.065069 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 42/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.1s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
43.5 queries/sec
Query 1: actual 150 (0.022%)  origin-forest_43.843 111 (err=1.351)  
83.3 queries/sec
Query 2: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 3: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 4: actual 1618 (0.232%)  origin-forest_43.843 1565 (err=1.034)  
90.9 queries/sec
Query 5: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 6: actual 94 (0.013%)  origin-forest_43.843 29 (err=3.241)  
83.3 queries/sec
Query 7: actual 1 (0.000%)  origin-forest_43.843 5 (err=5.000)  
83.3 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 42 (err=42.000)  
83.3 queries/sec
Query 9: actual 2 (0.000%)  origin-forest_43.843 10 (err=5.000)  
90.9 queries/sec
Query 10: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
87.2 queries/sec
Query 11: actual 2185 (0.313%)  origin-forest_43.843 2252 (err=1.031)  
83.3 queries/sec
Query 12: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 13: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.5 queries/sec
Query 14: actual 6 (0.001%)  origin-forest_43.843 3 (err=2.000)  
83.3 queries/sec
Query 15: actual 18 (0.003%)  origin-forest_43.843 7 (err=2.571)  
83.3 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 17: actual 160 (0.023%)  origin-forest_43.843 115 (err=1.391)  
76.9 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
74.0 queries/sec
Query 19: actual 177 (0.025%)  origin-forest_43.843 303 (err=1.712)  
76.9 queries/sec
Query 20: actual 206 (0.030%)  origin-forest_43.843 3 (err=68.667)  
83.3 queries/sec
Query 21: actual 145 (0.021%)  origin-forest_43.843 87 (err=1.667)  
83.3 queries/sec
Query 22: actual 6145 (0.881%)  origin-forest_43.843 28496 (err=4.637)  
76.9 queries/sec
Query 23: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 24: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 25: actual 407 (0.058%)  origin-forest_43.843 1 (err=407.000)  
83.3 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
80.0 queries/sec
Query 27: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
83.3 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 29: actual 81 (0.012%)  origin-forest_43.843 1384 (err=17.086)  
90.9 queries/sec
Query 30: actual 75 (0.011%)  origin-forest_43.843 1 (err=75.000)  
76.9 queries/sec
Query 31: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 32: actual 57 (0.008%)  origin-forest_43.843 86 (err=1.509)  
83.3 queries/sec
Query 33: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
95.3 queries/sec
Query 34: actual 31 (0.004%)  origin-forest_43.843 14 (err=2.214)  
79.4 queries/sec
Query 35: actual 1072 (0.154%)  origin-forest_43.843 358 (err=2.994)  
79.9 queries/sec
Query 36: actual 44 (0.006%)  origin-forest_43.843 1 (err=44.000)  
76.9 queries/sec
Query 37: actual 2 (0.000%)  origin-forest_43.843 13 (err=6.500)  
76.9 queries/sec
Query 38: actual 37044 (5.313%)  origin-forest_43.843 32866 (err=1.127)  
90.9 queries/sec
Query 39: actual 60 (0.009%)  origin-forest_43.843 68 (err=1.133)  
90.9 queries/sec
Query 40: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 41: actual 19402 (2.783%)  origin-forest_43.843 31314 (err=1.614)  
83.3 queries/sec
Query 42: actual 33232 (4.766%)  origin-forest_43.843 38184 (err=1.149)  
83.3 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.8 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 46: actual 1821 (0.261%)  origin-forest_43.843 1243 (err=1.465)  
83.3 queries/sec
Query 47: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
83.3 queries/sec
Query 48: actual 2233 (0.320%)  origin-forest_43.843 3073 (err=1.376)  
90.9 queries/sec
Query 49: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
origin-forest_43.843 	max: 407.0000	99th: 244.3200	95th: 57.5667	median: 1.2502	mean: 14.5894
ReportEsts: [1.0, 1.3513513513513513, 1.0, 1.0, 1.0338658146964856, 1.0, 3.2413793103448274, 5.0, 42.0, 5.0, 1.0, 1.0306636155606408, 1.0, 1.0, 2.0, 2.5714285714285716, 1.0, 1.391304347826087, 1.0, 1.7118644067796611, 68.66666666666667, 1.6666666666666667, 4.63726606997559, 1.0, 1.0, 407.0, 1.0, 2.0, 1.0, 17.08641975308642, 75.0, 1.0, 1.5087719298245614, 1.0, 2.2142857142857144, 2.994413407821229, 44.0, 6.5, 1.1271222540010954, 1.1333333333333333, 1.0, 1.6139573239872178, 1.1490129995185363, 1.0, 1.0, 1.0, 1.4650040225261465, 2.0, 1.3761755485893417, 1.0]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 42/50 | Workload-time: 4.016384 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 43/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 14 (0.002%)  origin-forest_43.843 5 (err=2.800)  
39.8 queries/sec
Query 1: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
83.3 queries/sec
Query 2: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 3: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 4: actual 50 (0.007%)  origin-forest_43.843 16 (err=3.125)  
83.3 queries/sec
Query 5: actual 35 (0.005%)  origin-forest_43.843 1 (err=35.000)  
76.9 queries/sec
Query 6: actual 30 (0.004%)  origin-forest_43.843 1 (err=30.000)  
83.3 queries/sec
Query 7: actual 981 (0.141%)  origin-forest_43.843 1440 (err=1.468)  
86.6 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 9: actual 9 (0.001%)  origin-forest_43.843 200 (err=22.222)  
83.3 queries/sec
Query 10: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
94.6 queries/sec
Query 11: actual 24 (0.003%)  origin-forest_43.843 25 (err=1.042)  
90.9 queries/sec
Query 12: actual 1 (0.000%)  origin-forest_43.843 103 (err=103.000)  
76.9 queries/sec
Query 13: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 14: actual 165 (0.024%)  origin-forest_43.843 1 (err=165.000)  
76.9 queries/sec
Query 15: actual 7008 (1.005%)  origin-forest_43.843 6153 (err=1.139)  
80.0 queries/sec
Query 16: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
83.3 queries/sec
Query 17: actual 81866 (11.742%)  origin-forest_43.843 31618 (err=2.589)  
83.3 queries/sec
Query 18: actual 211 (0.030%)  origin-forest_43.843 1 (err=211.000)  
83.3 queries/sec
Query 19: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 20: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 21: actual 20 (0.003%)  origin-forest_43.843 37 (err=1.850)  
83.3 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 23: actual 7528 (1.080%)  origin-forest_43.843 16213 (err=2.154)  
100.0 queries/sec
Query 24: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 25: actual 20 (0.003%)  origin-forest_43.843 35 (err=1.750)  
90.9 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.4 queries/sec
Query 27: actual 328 (0.047%)  origin-forest_43.843 1 (err=328.000)  
83.3 queries/sec
Query 28: actual 12 (0.002%)  origin-forest_43.843 1 (err=12.000)  
83.3 queries/sec
Query 29: actual 4980 (0.714%)  origin-forest_43.843 4837 (err=1.030)  
90.9 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
76.9 queries/sec
Query 31: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
95.2 queries/sec
Query 33: actual 27733 (3.978%)  origin-forest_43.843 23764 (err=1.167)  
83.3 queries/sec
Query 34: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 35: actual 3 (0.000%)  origin-forest_43.843 6 (err=2.000)  
90.9 queries/sec
Query 36: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 37: actual 18 (0.003%)  origin-forest_43.843 13 (err=1.385)  
83.3 queries/sec
Query 38: actual 6945 (0.996%)  origin-forest_43.843 7786 (err=1.121)  
90.9 queries/sec
Query 39: actual 26 (0.004%)  origin-forest_43.843 16 (err=1.625)  
90.9 queries/sec
Query 40: actual 82 (0.012%)  origin-forest_43.843 110 (err=1.341)  
83.4 queries/sec
Query 41: actual 36 (0.005%)  origin-forest_43.843 29 (err=1.241)  
74.0 queries/sec
Query 42: actual 47 (0.007%)  origin-forest_43.843 4 (err=11.750)  
90.9 queries/sec
Query 43: actual 46 (0.007%)  origin-forest_43.843 103 (err=2.239)  
90.9 queries/sec
Query 44: actual 49079 (7.039%)  origin-forest_43.843 55505 (err=1.131)  
90.9 queries/sec
Query 45: actual 38 (0.005%)  origin-forest_43.843 15 (err=2.533)  
90.9 queries/sec
Query 46: actual 84 (0.012%)  origin-forest_43.843 1 (err=84.000)  
83.3 queries/sec
Query 47: actual 2 (0.000%)  origin-forest_43.843 3 (err=1.500)  
76.9 queries/sec
Query 48: actual 18 (0.003%)  origin-forest_43.843 115 (err=6.389)  
83.3 queries/sec
Query 49: actual 2 (0.000%)  origin-forest_43.843 9 (err=4.500)  
origin-forest_43.843 	max: 328.0000	99th: 270.6700	95th: 137.1000	median: 1.5625	mean: 21.5018
ReportEsts: [2.8, 8.0, 1.0, 1.0, 3.125, 35.0, 30.0, 1.4678899082568808, 1.0, 22.22222222222222, 1.0, 1.0416666666666667, 103.0, 1.0, 165.0, 1.1389566065333983, 2.0, 2.589221329622367, 211.0, 1.0, 1.0, 1.85, 1.0, 2.153692879914984, 1.0, 1.75, 1.0, 328.0, 12.0, 1.0295637792019847, 2.0, 1.0, 1.0, 1.167017337148628, 1.0, 2.0, 1.0, 1.3846153846153846, 1.1210943124550037, 1.625, 1.3414634146341464, 1.2413793103448276, 11.75, 2.239130434782609, 1.1309317630758573, 2.533333333333333, 84.0, 1.5, 6.388888888888889, 4.5]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 43/50 | Workload-time: 4.032325 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 44/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 222 (0.032%)  origin-forest_43.843 268 (err=1.207)  
42.5 queries/sec
Query 1: actual 4 (0.001%)  origin-forest_43.843 2 (err=2.000)  
83.3 queries/sec
Query 2: actual 274 (0.039%)  origin-forest_43.843 281 (err=1.026)  
90.9 queries/sec
Query 3: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 4: actual 29 (0.004%)  origin-forest_43.843 50 (err=1.724)  
90.2 queries/sec
Query 5: actual 3558 (0.510%)  origin-forest_43.843 1947 (err=1.827)  
89.6 queries/sec
Query 6: actual 61199 (8.778%)  origin-forest_43.843 28338 (err=2.160)  
95.2 queries/sec
Query 7: actual 33077 (4.744%)  origin-forest_43.843 31658 (err=1.045)  
90.9 queries/sec
Query 8: actual 13 (0.002%)  origin-forest_43.843 139 (err=10.692)  
79.9 queries/sec
Query 9: actual 9 (0.001%)  origin-forest_43.843 324 (err=36.000)  
83.3 queries/sec
Query 10: actual 17302 (2.482%)  origin-forest_43.843 22368 (err=1.293)  
100.0 queries/sec
Query 11: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
80.9 queries/sec
Query 12: actual 2 (0.000%)  origin-forest_43.843 2 (err=1.000)  
84.5 queries/sec
Query 13: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 14: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 15: actual 111 (0.016%)  origin-forest_43.843 46 (err=2.413)  
90.9 queries/sec
Query 16: actual 365410 (52.410%)  origin-forest_43.843 349189 (err=1.046)  
83.3 queries/sec
Query 17: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
79.9 queries/sec
Query 18: actual 58 (0.008%)  origin-forest_43.843 1 (err=58.000)  
76.9 queries/sec
Query 19: actual 6 (0.001%)  origin-forest_43.843 6 (err=1.000)  
83.3 queries/sec
Query 20: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 21: actual 5 (0.001%)  origin-forest_43.843 1 (err=5.000)  
70.4 queries/sec
Query 22: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
74.9 queries/sec
Query 23: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.3 queries/sec
Query 24: actual 3369 (0.483%)  origin-forest_43.843 1993 (err=1.690)  
80.0 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 16 (err=16.000)  
78.9 queries/sec
Query 26: actual 40 (0.006%)  origin-forest_43.843 54 (err=1.350)  
91.4 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.7 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 29: actual 3239 (0.465%)  origin-forest_43.843 4474 (err=1.381)  
90.9 queries/sec
Query 30: actual 62 (0.009%)  origin-forest_43.843 69 (err=1.113)  
90.9 queries/sec
Query 31: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 32: actual 12036 (1.726%)  origin-forest_43.843 11497 (err=1.047)  
90.9 queries/sec
Query 33: actual 13506 (1.937%)  origin-forest_43.843 4564 (err=2.959)  
90.5 queries/sec
Query 34: actual 350 (0.050%)  origin-forest_43.843 1 (err=350.000)  
90.9 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 36: actual 30 (0.004%)  origin-forest_43.843 10 (err=3.000)  
93.2 queries/sec
Query 37: actual 4 (0.001%)  origin-forest_43.843 1 (err=4.000)  
83.3 queries/sec
Query 38: actual 127 (0.018%)  origin-forest_43.843 194 (err=1.528)  
91.0 queries/sec
Query 39: actual 86371 (12.388%)  origin-forest_43.843 104749 (err=1.213)  
90.9 queries/sec
Query 40: actual 54 (0.008%)  origin-forest_43.843 1 (err=54.000)  
90.9 queries/sec
Query 41: actual 85 (0.012%)  origin-forest_43.843 158 (err=1.859)  
90.9 queries/sec
Query 42: actual 252 (0.036%)  origin-forest_43.843 343 (err=1.361)  
97.9 queries/sec
Query 43: actual 681 (0.098%)  origin-forest_43.843 90 (err=7.567)  
90.9 queries/sec
Query 44: actual 97 (0.014%)  origin-forest_43.843 1331 (err=13.722)  
83.3 queries/sec
Query 45: actual 139 (0.020%)  origin-forest_43.843 97 (err=1.433)  
90.9 queries/sec
Query 46: actual 19 (0.003%)  origin-forest_43.843 64 (err=3.368)  
100.0 queries/sec
Query 47: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 48: actual 2042 (0.293%)  origin-forest_43.843 1885 (err=1.083)  
83.3 queries/sec
Query 49: actual 123 (0.018%)  origin-forest_43.843 100 (err=1.230)  
origin-forest_43.843 	max: 350.0000	99th: 206.9200	95th: 45.9000	median: 1.3556	mean: 12.3667
ReportEsts: [1.2072072072072073, 2.0, 1.0255474452554745, 1.0, 1.7241379310344827, 1.8274268104776579, 2.159609005575552, 1.0448227936066714, 10.692307692307692, 36.0, 1.2927985204022656, 1.0, 1.0, 1.0, 1.0, 2.4130434782608696, 1.0464533533416, 8.0, 58.0, 1.0, 1.0, 5.0, 1.0, 1.0, 1.6904164576016056, 16.0, 1.35, 1.0, 1.0, 1.3812905217659772, 1.1129032258064515, 1.0, 1.046881795250935, 2.9592462751971955, 350.0, 1.0, 3.0, 4.0, 1.5275590551181102, 1.2127797524632111, 54.0, 1.8588235294117648, 1.3611111111111112, 7.566666666666666, 13.721649484536082, 1.4329896907216495, 3.3684210526315788, 1.0, 1.083289124668435, 1.23]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 44/50 | Workload-time: 3.982721 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 45/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--data_update=permute-opt', '--dataset=forest', '--drift_test=ddup', '--end2end', '--eval_type=drift']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
GET-DATASET-PATH=./data/forest/end2end/forest.npy
Permute - START
Permute - END
load_npy_dataset_from_path - df.shape = (761012, 10)
Parsing... done, took 0.1s
Data updated!
done, took 0.1s
done, took 0.1s
new data average log likelihood = 59.9316
detection mean = 50.7733
detection threshold = 0.4258
test statistic = 9.1583
Offline time = 2.934731960296631
Online time = 0.5792603492736816
Test result: True
Drift detection: True
[0m
DRIFT-DETECTED after 45-th workload
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\incremental_train.py', '--dataset=forest', '--end2end', '--model_update=update']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - START
GET-DATASET-PATH=./data/forest/end2end/forest.npy
load_npy_dataset_from_path - df.shape = (761012, 10)
Parsing... done, took 0.1s
Number of model parameters: 4312876 (~= 16.5MB)
done, took 0.1s
dataset size: 761012
train data shape: torch.Size([10000, 10]), transfer data shape:torch.Size([10000, 10])
Epoch 0 Iter 0, train entropy gap 57.2234 bits (loss 76.761, data 19.538) 0.00100 lr
epoch 9 train loss 52.9239 nats / 76.3530 bits
time since start: 3.8 secs
Epoch 10 Iter 0, train entropy gap 56.8495 bits (loss 76.387, data 19.538) 0.00082 lr
epoch 19 train loss 52.8516 nats / 76.2488 bits
time since start: 6.9 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 59.8597 nats / 86.3594 bits
Saved to: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
UpdateTask - END
[0m
WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 45/50 | Workload-time: 6.790557 | Model-update-time: 10.405880


WORKLOAD-START | Type: QueryWorkload | Progress: 46/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
41.7 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 2: actual 17 (0.002%)  origin-forest_43.843 1 (err=17.000)  
83.3 queries/sec
Query 3: actual 21 (0.003%)  origin-forest_43.843 28 (err=1.333)  
90.9 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 13 (err=13.000)  
83.3 queries/sec
Query 5: actual 659 (0.095%)  origin-forest_43.843 680 (err=1.032)  
90.9 queries/sec
Query 6: actual 6088 (0.873%)  origin-forest_43.843 6522 (err=1.071)  
90.9 queries/sec
Query 7: actual 16 (0.002%)  origin-forest_43.843 116 (err=7.250)  
81.5 queries/sec
Query 8: actual 18 (0.003%)  origin-forest_43.843 1 (err=18.000)  
90.9 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 10: actual 7 (0.001%)  origin-forest_43.843 2 (err=3.500)  
90.9 queries/sec
Query 11: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 12: actual 156687 (22.473%)  origin-forest_43.843 128019 (err=1.224)  
90.9 queries/sec
Query 13: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 14: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 15: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.5 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 17: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 18: actual 2 (0.000%)  origin-forest_43.843 8 (err=4.000)  
90.9 queries/sec
Query 19: actual 3041 (0.436%)  origin-forest_43.843 624 (err=4.873)  
83.3 queries/sec
Query 20: actual 50 (0.007%)  origin-forest_43.843 1 (err=50.000)  
76.9 queries/sec
Query 21: actual 64 (0.009%)  origin-forest_43.843 14 (err=4.571)  
90.9 queries/sec
Query 22: actual 46 (0.007%)  origin-forest_43.843 14 (err=3.286)  
83.3 queries/sec
Query 23: actual 306 (0.044%)  origin-forest_43.843 229 (err=1.336)  
90.9 queries/sec
Query 24: actual 140 (0.020%)  origin-forest_43.843 116 (err=1.207)  
83.2 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 27: actual 167959 (24.090%)  origin-forest_43.843 164536 (err=1.021)  
100.0 queries/sec
Query 28: actual 18 (0.003%)  origin-forest_43.843 1 (err=18.000)  
83.3 queries/sec
Query 29: actual 4397 (0.631%)  origin-forest_43.843 641 (err=6.860)  
90.9 queries/sec
Query 30: actual 145 (0.021%)  origin-forest_43.843 19 (err=7.632)  
90.9 queries/sec
Query 31: actual 4 (0.001%)  origin-forest_43.843 3 (err=1.333)  
90.9 queries/sec
Query 32: actual 36 (0.005%)  origin-forest_43.843 32 (err=1.125)  
100.0 queries/sec
Query 33: actual 47 (0.007%)  origin-forest_43.843 1 (err=47.000)  
83.0 queries/sec
Query 34: actual 1022 (0.147%)  origin-forest_43.843 56 (err=18.250)  
90.9 queries/sec
Query 35: actual 81514 (11.691%)  origin-forest_43.843 86477 (err=1.061)  
90.9 queries/sec
Query 36: actual 6 (0.001%)  origin-forest_43.843 1 (err=6.000)  
83.3 queries/sec
Query 37: actual 3 (0.000%)  origin-forest_43.843 4 (err=1.333)  
83.3 queries/sec
Query 38: actual 144 (0.021%)  origin-forest_43.843 136 (err=1.059)  
90.9 queries/sec
Query 39: actual 650 (0.093%)  origin-forest_43.843 594 (err=1.094)  
100.0 queries/sec
Query 40: actual 155 (0.022%)  origin-forest_43.843 124 (err=1.250)  
76.9 queries/sec
Query 41: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 42: actual 289487 (41.521%)  origin-forest_43.843 255640 (err=1.132)  
90.4 queries/sec
Query 43: actual 8 (0.001%)  origin-forest_43.843 1 (err=8.000)  
90.9 queries/sec
Query 44: actual 9384 (1.346%)  origin-forest_43.843 8947 (err=1.049)  
90.9 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 46: actual 194 (0.028%)  origin-forest_43.843 1 (err=194.000)  
83.3 queries/sec
Query 47: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 48: actual 2199 (0.315%)  origin-forest_43.843 2451 (err=1.115)  
90.9 queries/sec
Query 49: actual 1296 (0.186%)  origin-forest_43.843 505 (err=2.566)  
origin-forest_43.843 	max: 194.0000	99th: 123.4400	95th: 34.0625	median: 1.2154	mean: 9.3513
ReportEsts: [1.0, 1.0, 17.0, 1.3333333333333333, 13.0, 1.031866464339909, 1.071287779237845, 7.25, 18.0, 1.0, 3.5, 1.0, 1.2239355095727977, 1.0, 1.0, 1.0, 1.0, 1.0, 4.0, 4.873397435897436, 50.0, 4.571428571428571, 3.2857142857142856, 1.3362445414847162, 1.206896551724138, 1.0, 1.0, 1.02080395779647, 18.0, 6.859594383775351, 7.631578947368421, 1.3333333333333333, 1.125, 47.0, 18.25, 1.0608852467060872, 6.0, 1.3333333333333333, 1.0588235294117647, 1.0942760942760943, 1.25, 1.0, 1.1324010327022376, 8.0, 1.0488431876606683, 1.0, 194.0, 1.0, 1.1145975443383356, 2.5663366336633664]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 46/50 | Workload-time: 4.043779 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 47/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 149 (0.021%)  origin-forest_43.843 21 (err=7.095)  
40.0 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 2: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 3: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.4 queries/sec
Query 4: actual 35 (0.005%)  origin-forest_43.843 4 (err=8.750)  
83.0 queries/sec
Query 5: actual 52 (0.007%)  origin-forest_43.843 43 (err=1.209)  
71.4 queries/sec
Query 6: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 7: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
76.9 queries/sec
Query 8: actual 4320 (0.620%)  origin-forest_43.843 14133 (err=3.272)  
100.0 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 2 (err=2.000)  
83.3 queries/sec
Query 10: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
79.9 queries/sec
Query 11: actual 696 (0.100%)  origin-forest_43.843 404 (err=1.723)  
90.9 queries/sec
Query 12: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
90.9 queries/sec
Query 13: actual 172 (0.025%)  origin-forest_43.843 170 (err=1.012)  
83.3 queries/sec
Query 14: actual 2 (0.000%)  origin-forest_43.843 3 (err=1.500)  
76.9 queries/sec
Query 15: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 17: actual 65 (0.009%)  origin-forest_43.843 1 (err=65.000)  
83.3 queries/sec
Query 18: actual 117 (0.017%)  origin-forest_43.843 86 (err=1.360)  
80.0 queries/sec
Query 19: actual 37 (0.005%)  origin-forest_43.843 3 (err=12.333)  
90.9 queries/sec
Query 20: actual 1 (0.000%)  origin-forest_43.843 6 (err=6.000)  
83.3 queries/sec
Query 21: actual 17044 (2.445%)  origin-forest_43.843 12510 (err=1.362)  
83.4 queries/sec
Query 22: actual 89 (0.013%)  origin-forest_43.843 125 (err=1.404)  
83.3 queries/sec
Query 23: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 24: actual 149 (0.021%)  origin-forest_43.843 90 (err=1.656)  
90.9 queries/sec
Query 25: actual 42137 (6.044%)  origin-forest_43.843 69768 (err=1.656)  
90.9 queries/sec
Query 26: actual 107564 (15.428%)  origin-forest_43.843 153867 (err=1.430)  
95.2 queries/sec
Query 27: actual 4 (0.001%)  origin-forest_43.843 2 (err=2.000)  
76.9 queries/sec
Query 28: actual 5 (0.001%)  origin-forest_43.843 4 (err=1.250)  
100.0 queries/sec
Query 29: actual 19 (0.003%)  origin-forest_43.843 31 (err=1.632)  
90.9 queries/sec
Query 30: actual 46 (0.007%)  origin-forest_43.843 1 (err=46.000)  
90.9 queries/sec
Query 31: actual 28 (0.004%)  origin-forest_43.843 1 (err=28.000)  
83.3 queries/sec
Query 32: actual 80 (0.011%)  origin-forest_43.843 1 (err=80.000)  
83.3 queries/sec
Query 33: actual 456 (0.065%)  origin-forest_43.843 236 (err=1.932)  
83.3 queries/sec
Query 34: actual 15955 (2.288%)  origin-forest_43.843 9570 (err=1.667)  
83.3 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.9 queries/sec
Query 36: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 37: actual 72 (0.010%)  origin-forest_43.843 1 (err=72.000)  
83.4 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 39: actual 48 (0.007%)  origin-forest_43.843 1 (err=48.000)  
76.9 queries/sec
Query 40: actual 122 (0.017%)  origin-forest_43.843 1 (err=122.000)  
76.9 queries/sec
Query 41: actual 362 (0.052%)  origin-forest_43.843 273 (err=1.326)  
90.9 queries/sec
Query 42: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.9 queries/sec
Query 44: actual 2119 (0.304%)  origin-forest_43.843 1882 (err=1.126)  
83.3 queries/sec
Query 45: actual 52 (0.007%)  origin-forest_43.843 31 (err=1.677)  
90.9 queries/sec
Query 46: actual 22 (0.003%)  origin-forest_43.843 1 (err=22.000)  
90.9 queries/sec
Query 47: actual 17821 (2.556%)  origin-forest_43.843 13871 (err=1.285)  
90.9 queries/sec
Query 48: actual 60 (0.009%)  origin-forest_43.843 46 (err=1.304)  
76.9 queries/sec
Query 49: actual 33 (0.005%)  origin-forest_43.843 1 (err=33.000)  
origin-forest_43.843 	max: 122.0000	99th: 101.4200	95th: 68.8500	median: 1.5658	mean: 12.0393
ReportEsts: [7.095238095238095, 1.0, 1.0, 1.0, 8.75, 1.2093023255813953, 1.0, 2.0, 3.2715277777777776, 2.0, 1.0, 1.7227722772277227, 2.0, 1.011764705882353, 1.5, 1.0, 1.0, 65.0, 1.3604651162790697, 12.333333333333334, 6.0, 1.3624300559552358, 1.404494382022472, 1.0, 1.6555555555555554, 1.6557419844791987, 1.4304693019969505, 2.0, 1.25, 1.631578947368421, 46.0, 28.0, 80.0, 1.9322033898305084, 1.6671891327063741, 1.0, 1.0, 72.0, 1.0, 48.0, 122.0, 1.326007326007326, 1.0, 1.0, 1.1259298618490967, 1.6774193548387097, 22.0, 1.2847667796121405, 1.3043478260869565, 33.0]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 47/50 | Workload-time: 4.050095 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 48/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 3 (0.000%)  origin-forest_43.843 1 (err=3.000)  
40.7 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 2: actual 56 (0.008%)  origin-forest_43.843 21 (err=2.667)  
83.3 queries/sec
Query 3: actual 1036 (0.149%)  origin-forest_43.843 27 (err=38.370)  
83.3 queries/sec
Query 4: actual 3 (0.000%)  origin-forest_43.843 1 (err=3.000)  
76.9 queries/sec
Query 5: actual 21 (0.003%)  origin-forest_43.843 9 (err=2.333)  
90.9 queries/sec
Query 6: actual 143 (0.021%)  origin-forest_43.843 1 (err=143.000)  
76.9 queries/sec
Query 7: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 8: actual 1297 (0.186%)  origin-forest_43.843 844 (err=1.537)  
90.9 queries/sec
Query 9: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
86.8 queries/sec
Query 10: actual 122 (0.017%)  origin-forest_43.843 214 (err=1.754)  
83.3 queries/sec
Query 11: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.4 queries/sec
Query 12: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 13: actual 5159 (0.740%)  origin-forest_43.843 9292 (err=1.801)  
90.9 queries/sec
Query 14: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 15: actual 35 (0.005%)  origin-forest_43.843 1 (err=35.000)  
76.9 queries/sec
Query 16: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 17: actual 2 (0.000%)  origin-forest_43.843 6 (err=3.000)  
79.9 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 19: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 20: actual 2223 (0.319%)  origin-forest_43.843 2743 (err=1.234)  
90.9 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 22: actual 179 (0.026%)  origin-forest_43.843 124 (err=1.444)  
76.9 queries/sec
Query 23: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 24: actual 9434 (1.353%)  origin-forest_43.843 5719 (err=1.650)  
99.9 queries/sec
Query 25: actual 30 (0.004%)  origin-forest_43.843 51 (err=1.700)  
79.9 queries/sec
Query 26: actual 579 (0.083%)  origin-forest_43.843 772 (err=1.333)  
90.9 queries/sec
Query 27: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 28: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 29: actual 908 (0.130%)  origin-forest_43.843 1274 (err=1.403)  
83.3 queries/sec
Query 30: actual 4 (0.001%)  origin-forest_43.843 3 (err=1.333)  
90.9 queries/sec
Query 31: actual 19 (0.003%)  origin-forest_43.843 374 (err=19.684)  
83.3 queries/sec
Query 32: actual 152 (0.022%)  origin-forest_43.843 2716 (err=17.868)  
62.5 queries/sec
Query 33: actual 269 (0.039%)  origin-forest_43.843 790 (err=2.937)  
64.5 queries/sec
Query 34: actual 132 (0.019%)  origin-forest_43.843 141 (err=1.068)  
76.9 queries/sec
Query 35: actual 83 (0.012%)  origin-forest_43.843 1 (err=83.000)  
80.4 queries/sec
Query 36: actual 195 (0.028%)  origin-forest_43.843 119 (err=1.639)  
82.9 queries/sec
Query 37: actual 587 (0.084%)  origin-forest_43.843 551 (err=1.065)  
83.3 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 39: actual 94569 (13.564%)  origin-forest_43.843 78078 (err=1.211)  
90.9 queries/sec
Query 40: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 41: actual 103 (0.015%)  origin-forest_43.843 33 (err=3.121)  
74.0 queries/sec
Query 42: actual 134 (0.019%)  origin-forest_43.843 103 (err=1.301)  
83.3 queries/sec
Query 43: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 44: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 45: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 46: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
83.3 queries/sec
Query 47: actual 31 (0.004%)  origin-forest_43.843 2 (err=15.500)  
76.9 queries/sec
Query 48: actual 108 (0.015%)  origin-forest_43.843 360 (err=3.333)  
71.4 queries/sec
Query 49: actual 5141 (0.737%)  origin-forest_43.843 4473 (err=1.149)  
origin-forest_43.843 	max: 143.0000	99th: 113.6000	95th: 36.8537	median: 1.3333	mean: 8.3687
ReportEsts: [3.0, 1.0, 2.6666666666666665, 38.370370370370374, 3.0, 2.3333333333333335, 143.0, 1.0, 1.5367298578199051, 1.0, 1.7540983606557377, 1.0, 1.0, 1.8011242488854429, 1.0, 35.0, 1.0, 3.0, 1.0, 1.0, 1.2339181286549707, 1.0, 1.4435483870967742, 1.0, 1.6495890890015736, 1.7, 1.3333333333333333, 1.0, 1.0, 1.4030837004405285, 1.3333333333333333, 19.68421052631579, 17.86842105263158, 2.936802973977695, 1.0681818181818181, 83.0, 1.638655462184874, 1.0653357531760435, 1.0, 1.2112118650580188, 1.0, 3.121212121212121, 1.3009708737864079, 1.0, 1.0, 1.0, 2.0, 15.5, 3.3333333333333335, 1.1493404873686563]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 48/50 | Workload-time: 4.024618 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 49/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
40.0 queries/sec
Query 1: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.1 queries/sec
Query 2: actual 559 (0.080%)  origin-forest_43.843 354 (err=1.579)  
83.6 queries/sec
Query 3: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 4: actual 186 (0.027%)  origin-forest_43.843 167 (err=1.114)  
90.9 queries/sec
Query 5: actual 51122 (7.332%)  origin-forest_43.843 58519 (err=1.145)  
100.0 queries/sec
Query 6: actual 2 (0.000%)  origin-forest_43.843 3 (err=1.500)  
80.0 queries/sec
Query 7: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 9: actual 472 (0.068%)  origin-forest_43.843 108 (err=4.370)  
83.3 queries/sec
Query 10: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 11: actual 1 (0.000%)  origin-forest_43.843 6 (err=6.000)  
90.9 queries/sec
Query 12: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 13: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 14: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.5 queries/sec
Query 15: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 16: actual 2633 (0.378%)  origin-forest_43.843 1115 (err=2.361)  
90.9 queries/sec
Query 17: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 18: actual 320 (0.046%)  origin-forest_43.843 302 (err=1.060)  
90.6 queries/sec
Query 19: actual 149 (0.021%)  origin-forest_43.843 159 (err=1.067)  
91.2 queries/sec
Query 20: actual 528 (0.076%)  origin-forest_43.843 532 (err=1.008)  
100.0 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 22: actual 18 (0.003%)  origin-forest_43.843 1284 (err=71.333)  
80.0 queries/sec
Query 23: actual 8 (0.001%)  origin-forest_43.843 11 (err=1.375)  
90.9 queries/sec
Query 24: actual 8754 (1.256%)  origin-forest_43.843 18918 (err=2.161)  
100.0 queries/sec
Query 25: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 27: actual 1024 (0.147%)  origin-forest_43.843 243 (err=4.214)  
90.9 queries/sec
Query 28: actual 125 (0.018%)  origin-forest_43.843 871 (err=6.968)  
90.9 queries/sec
Query 29: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 30: actual 77 (0.011%)  origin-forest_43.843 93 (err=1.208)  
76.9 queries/sec
Query 31: actual 146 (0.021%)  origin-forest_43.843 2 (err=73.000)  
74.0 queries/sec
Query 32: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 33: actual 4 (0.001%)  origin-forest_43.843 3 (err=1.333)  
90.9 queries/sec
Query 34: actual 423 (0.061%)  origin-forest_43.843 362 (err=1.169)  
90.9 queries/sec
Query 35: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 36: actual 380 (0.055%)  origin-forest_43.843 239 (err=1.590)  
83.3 queries/sec
Query 37: actual 42 (0.006%)  origin-forest_43.843 4 (err=10.500)  
90.9 queries/sec
Query 38: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 39: actual 50 (0.007%)  origin-forest_43.843 6 (err=8.333)  
83.3 queries/sec
Query 40: actual 456 (0.065%)  origin-forest_43.843 1129 (err=2.476)  
79.9 queries/sec
Query 41: actual 9207 (1.321%)  origin-forest_43.843 7012 (err=1.313)  
100.0 queries/sec
Query 42: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 43: actual 37 (0.005%)  origin-forest_43.843 1 (err=37.000)  
83.3 queries/sec
Query 44: actual 297 (0.043%)  origin-forest_43.843 1075 (err=3.620)  
90.9 queries/sec
Query 45: actual 555 (0.080%)  origin-forest_43.843 353 (err=1.572)  
83.3 queries/sec
Query 46: actual 676 (0.097%)  origin-forest_43.843 822 (err=1.216)  
83.4 queries/sec
Query 47: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 48: actual 26 (0.004%)  origin-forest_43.843 16 (err=1.625)  
86.9 queries/sec
Query 49: actual 12 (0.002%)  origin-forest_43.843 13 (err=1.083)  
origin-forest_43.843 	max: 73.0000	99th: 72.1833	95th: 25.0750	median: 1.1292	mean: 5.4859
ReportEsts: [1.0, 1.0, 1.57909604519774, 1.0, 1.1137724550898203, 1.1446930871249168, 1.5, 1.0, 1.0, 4.37037037037037, 1.0, 6.0, 1.0, 1.0, 1.0, 1.0, 2.3614349775784755, 1.0, 1.0596026490066226, 1.0671140939597314, 1.0075757575757576, 1.0, 71.33333333333333, 1.375, 2.1610692254969157, 1.0, 1.0, 4.2139917695473255, 6.968, 1.0, 1.2077922077922079, 73.0, 1.0, 1.3333333333333333, 1.1685082872928176, 1.0, 1.5899581589958158, 10.5, 1.0, 8.333333333333334, 2.4758771929824563, 1.3130347974900172, 1.0, 37.0, 3.6195286195286194, 1.5722379603399435, 1.2159763313609468, 1.0, 1.625, 1.0833333333333333]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 49/50 | Workload-time: 4.016373 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 50/50
Going to run: ['python', 'F:\\DBGroup\\LearnedCardinalityUpdater\\Naru\\eval_model.py', '--dataset=forest', '--end2end', '--eval_type=estimate']
Torch device: cuda
GET-MODEL-PATH=./models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
ckpts [WindowsPath('F:/DBGroup/LearnedCardinalityUpdater/models/end2end/origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt')]
Validate Argument: DATASET="forest" is valid.
(697214, 10)
data size: 697214, total size: 697214, split index: [581011 697214]
Parsing... done, took 0.0s
Loading ckpt: F:\DBGroup\LearnedCardinalityUpdater\models\end2end\origin-forest-16.5MB-model62.991-data19.148-100epochs-seed0.pt
Query 0: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
43.5 queries/sec
Query 1: actual 47 (0.007%)  origin-forest_43.843 44 (err=1.068)  
83.3 queries/sec
Query 2: actual 102 (0.015%)  origin-forest_43.843 11 (err=9.273)  
83.3 queries/sec
Query 3: actual 130 (0.019%)  origin-forest_43.843 1 (err=130.000)  
76.9 queries/sec
Query 4: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
90.9 queries/sec
Query 5: actual 2077 (0.298%)  origin-forest_43.843 37 (err=56.135)  
90.9 queries/sec
Query 6: actual 2 (0.000%)  origin-forest_43.843 6 (err=3.000)  
90.9 queries/sec
Query 7: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.7 queries/sec
Query 8: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 9: actual 17 (0.002%)  origin-forest_43.843 163 (err=9.588)  
90.9 queries/sec
Query 10: actual 2 (0.000%)  origin-forest_43.843 1 (err=2.000)  
83.3 queries/sec
Query 11: actual 81 (0.012%)  origin-forest_43.843 1 (err=81.000)  
90.9 queries/sec
Query 12: actual 144 (0.021%)  origin-forest_43.843 1 (err=144.000)  
83.3 queries/sec
Query 13: actual 48 (0.007%)  origin-forest_43.843 81 (err=1.688)  
87.7 queries/sec
Query 14: actual 4 (0.001%)  origin-forest_43.843 1 (err=4.000)  
86.2 queries/sec
Query 15: actual 8726 (1.252%)  origin-forest_43.843 17011 (err=1.949)  
86.8 queries/sec
Query 16: actual 9 (0.001%)  origin-forest_43.843 14 (err=1.556)  
83.3 queries/sec
Query 17: actual 6 (0.001%)  origin-forest_43.843 12 (err=2.000)  
90.9 queries/sec
Query 18: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 19: actual 3 (0.000%)  origin-forest_43.843 5 (err=1.667)  
83.4 queries/sec
Query 20: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 21: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 22: actual 2367 (0.339%)  origin-forest_43.843 2222 (err=1.065)  
90.9 queries/sec
Query 23: actual 1546 (0.222%)  origin-forest_43.843 1303 (err=1.186)  
90.8 queries/sec
Query 24: actual 102713 (14.732%)  origin-forest_43.843 102061 (err=1.006)  
86.9 queries/sec
Query 25: actual 274 (0.039%)  origin-forest_43.843 112 (err=2.446)  
83.3 queries/sec
Query 26: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 27: actual 6 (0.001%)  origin-forest_43.843 8 (err=1.333)  
90.9 queries/sec
Query 28: actual 4531 (0.650%)  origin-forest_43.843 6111 (err=1.349)  
90.9 queries/sec
Query 29: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 30: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 31: actual 86 (0.012%)  origin-forest_43.843 127 (err=1.477)  
90.8 queries/sec
Query 32: actual 21 (0.003%)  origin-forest_43.843 70 (err=3.333)  
80.0 queries/sec
Query 33: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 34: actual 468 (0.067%)  origin-forest_43.843 80 (err=5.850)  
90.9 queries/sec
Query 35: actual 472 (0.068%)  origin-forest_43.843 30 (err=15.733)  
90.9 queries/sec
Query 36: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
77.0 queries/sec
Query 37: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
76.9 queries/sec
Query 38: actual 1154 (0.166%)  origin-forest_43.843 6 (err=192.333)  
90.9 queries/sec
Query 39: actual 35 (0.005%)  origin-forest_43.843 1 (err=35.000)  
76.9 queries/sec
Query 40: actual 1 (0.000%)  origin-forest_43.843 1 (err=1.000)  
83.3 queries/sec
Query 41: actual 14 (0.002%)  origin-forest_43.843 20 (err=1.429)  
95.1 queries/sec
Query 42: actual 3 (0.000%)  origin-forest_43.843 1 (err=3.000)  
76.9 queries/sec
Query 43: actual 125356 (17.980%)  origin-forest_43.843 141667 (err=1.130)  
90.9 queries/sec
Query 44: actual 179940 (25.808%)  origin-forest_43.843 178055 (err=1.011)  
90.9 queries/sec
Query 45: actual 4 (0.001%)  origin-forest_43.843 1 (err=4.000)  
76.9 queries/sec
Query 46: actual 7 (0.001%)  origin-forest_43.843 6 (err=1.167)  
90.9 queries/sec
Query 47: actual 811 (0.116%)  origin-forest_43.843 533 (err=1.522)  
83.3 queries/sec
Query 48: actual 6 (0.001%)  origin-forest_43.843 15 (err=2.500)  
71.4 queries/sec
Query 49: actual 401 (0.058%)  origin-forest_43.843 315 (err=1.273)  
origin-forest_43.843 	max: 192.3333	99th: 168.6500	95th: 107.9500	median: 1.4527	mean: 14.8413
ReportEsts: [1.0, 1.0681818181818181, 9.272727272727273, 130.0, 1.0, 56.13513513513514, 3.0, 1.0, 1.0, 9.588235294117647, 2.0, 81.0, 144.0, 1.6875, 4.0, 1.949461379784552, 1.5555555555555556, 2.0, 1.0, 1.6666666666666667, 1.0, 1.0, 1.0652565256525652, 1.1864927091327706, 1.0063883363870627, 2.4464285714285716, 1.0, 1.3333333333333333, 1.3487088942838226, 1.0, 1.0, 1.4767441860465116, 3.3333333333333335, 1.0, 5.85, 15.733333333333333, 1.0, 1.0, 192.33333333333334, 35.0, 1.0, 1.4285714285714286, 3.0, 1.130117425571971, 1.0105866164949033, 4.0, 1.1666666666666667, 1.5215759849906192, 2.5, 1.273015873015873]
...Done, result: results.csv
[0m
WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 50/50 | Workload-time: 3.996068 | Model-update-time: 0.000000





Experiment Summary: #drift=18 | total-time=444.996204
